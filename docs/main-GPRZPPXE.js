var VP=Object.defineProperty,jP=Object.defineProperties;var UP=Object.getOwnPropertyDescriptors;var yT=Object.getOwnPropertySymbols,BP=Object.getPrototypeOf,$P=Object.prototype.hasOwnProperty,HP=Object.prototype.propertyIsEnumerable,zP=Reflect.get;var vT=(n,e,t)=>e in n?VP(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,F=(n,e)=>{for(var t in e||={})$P.call(e,t)&&vT(n,t,e[t]);if(yT)for(var t of yT(e))HP.call(e,t)&&vT(n,t,e[t]);return n},me=(n,e)=>jP(n,UP(e));var Lr=(n,e,t)=>zP(BP(n),t,e);var _=(n,e,t)=>new Promise((r,i)=>{var o=u=>{try{a(t.next(u))}catch(l){i(l)}},s=u=>{try{a(t.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);a((t=t.apply(n,e)).next())});var Wp;function ol(){return Wp}function An(n){let e=Wp;return Wp=n,e}var _T=Symbol("NotFound");function qo(n){return n===_T||n?.name==="\u0275NotFound"}function Kp(n,e){return Object.is(n,e)}var yt=null,sl=!1,Qp=1,qP=null,Pt=Symbol("SIGNAL");function Z(n){let e=yt;return yt=n,e}function cl(){return yt}var ja={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Ua(n){if(sl)throw new Error("");if(yt===null)return;yt.consumerOnSignalRead(n);let e=yt.producersTail;if(e!==void 0&&e.producer===n)return;let t,r=yt.recomputing;if(r&&(t=e!==void 0?e.nextProducer:yt.producers,t!==void 0&&t.producer===n)){yt.producersTail=t,t.lastReadVersion=n.version;return}let i=n.consumersTail;if(i!==void 0&&i.consumer===yt&&(!r||WP(i,yt)))return;let o=Go(yt),s={producer:n,consumer:yt,nextProducer:t,prevConsumer:i,lastReadVersion:n.version,nextConsumer:void 0};yt.producersTail=s,e!==void 0?e.nextProducer=s:yt.producers=s,o&&TT(n,s)}function ET(){Qp++}function Yp(n){if(!(Go(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Qp)){if(!n.producerMustRecompute(n)&&!$a(n)){al(n);return}n.producerRecomputeValue(n),al(n)}}function Zp(n){if(n.consumers===void 0)return;let e=sl;sl=!0;try{for(let t=n.consumers;t!==void 0;t=t.nextConsumer){let r=t.consumer;r.dirty||GP(r)}}finally{sl=e}}function Jp(){return yt?.consumerAllowSignalWrites!==!1}function GP(n){n.dirty=!0,Zp(n),n.consumerMarkedDirty?.(n)}function al(n){n.dirty=!1,n.lastCleanEpoch=Qp}function Ba(n){return n&&IT(n),Z(n)}function IT(n){n.producersTail=void 0,n.recomputing=!0}function ul(n,e){Z(e),n&&wT(n)}function wT(n){n.recomputing=!1;let e=n.producersTail,t=e!==void 0?e.nextProducer:n.producers;if(t!==void 0){if(Go(n))do t=Xp(t);while(t!==void 0);e!==void 0?e.nextProducer=void 0:n.producers=void 0}}function $a(n){for(let e=n.producers;e!==void 0;e=e.nextProducer){let t=e.producer,r=e.lastReadVersion;if(r!==t.version||(Yp(t),r!==t.version))return!0}return!1}function Ha(n){if(Go(n)){let e=n.producers;for(;e!==void 0;)e=Xp(e)}n.producers=void 0,n.producersTail=void 0,n.consumers=void 0,n.consumersTail=void 0}function TT(n,e){let t=n.consumersTail,r=Go(n);if(t!==void 0?(e.nextConsumer=t.nextConsumer,t.nextConsumer=e):(e.nextConsumer=void 0,n.consumers=e),e.prevConsumer=t,n.consumersTail=e,!r)for(let i=n.producers;i!==void 0;i=i.nextProducer)TT(i.producer,i)}function Xp(n){let e=n.producer,t=n.nextProducer,r=n.nextConsumer,i=n.prevConsumer;if(n.nextConsumer=void 0,n.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:e.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(e.consumers=r,!Go(e)){let o=e.producers;for(;o!==void 0;)o=Xp(o)}return t}function Go(n){return n.consumerIsAlwaysLive||n.consumers!==void 0}function eg(n){qP?.(n)}function WP(n,e){let t=e.producersTail;if(t!==void 0){let r=e.producers;do{if(r===n)return!0;if(r===t)break;r=r.nextProducer}while(r!==void 0)}return!1}function KP(){throw new Error}var DT=KP;function bT(n){DT(n)}function tg(n){DT=n}var QP=null;function ng(n,e){let t=Object.create(ll);t.value=n,e!==void 0&&(t.equal=e);let r=()=>CT(t);return r[Pt]=t,eg(t),[r,s=>Wo(t,s),s=>rg(t,s)]}function CT(n){return Ua(n),n.value}function Wo(n,e){Jp()||bT(n),n.equal(n.value,e)||(n.value=e,YP(n))}function rg(n,e){Jp()||bT(n),Wo(n,e(n.value))}var ll=me(F({},ja),{equal:Kp,value:void 0,kind:"signal"});function YP(n){n.version++,ET(),Zp(n),QP?.(n)}function ee(n){return typeof n=="function"}function Ko(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var dl=Ko(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Pi(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var ke=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(ee(r))try{r()}catch(o){e=o instanceof dl?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{ST(o)}catch(s){e=e??[],s instanceof dl?e=[...e,...s.errors]:e.push(s)}}if(e)throw new dl(e)}}add(e){var t;if(e&&e!==this)if(this.closed)ST(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Pi(t,e)}remove(e){let{_finalizers:t}=this;t&&Pi(t,e),e instanceof n&&e._removeParent(this)}};ke.EMPTY=(()=>{let n=new ke;return n.closed=!0,n})();var ig=ke.EMPTY;function hl(n){return n instanceof ke||n&&"closed"in n&&ee(n.remove)&&ee(n.add)&&ee(n.unsubscribe)}function ST(n){ee(n)?n():n.unsubscribe()}var on={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Qo={setTimeout(n,e,...t){let{delegate:r}=Qo;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=Qo;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function fl(n){Qo.setTimeout(()=>{let{onUnhandledError:e}=on;if(e)e(n);else throw n})}function za(){}var AT=og("C",void 0,void 0);function RT(n){return og("E",void 0,n)}function NT(n){return og("N",n,void 0)}function og(n,e,t){return{kind:n,value:e,error:t}}var ki=null;function Yo(n){if(on.useDeprecatedSynchronousErrorHandling){let e=!ki;if(e&&(ki={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=ki;if(ki=null,t)throw r}}else n()}function MT(n){on.useDeprecatedSynchronousErrorHandling&&ki&&(ki.errorThrown=!0,ki.error=n)}var xi=class extends ke{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,hl(e)&&e.add(this)):this.destination=XP}static create(e,t,r){return new Zo(e,t,r)}next(e){this.isStopped?ag(NT(e),this):this._next(e)}error(e){this.isStopped?ag(RT(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?ag(AT,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},ZP=Function.prototype.bind;function sg(n,e){return ZP.call(n,e)}var cg=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){pl(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){pl(r)}else pl(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){pl(t)}}},Zo=class extends xi{constructor(e,t,r){super();let i;if(ee(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&on.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&sg(e.next,o),error:e.error&&sg(e.error,o),complete:e.complete&&sg(e.complete,o)}):i=e}this.destination=new cg(i)}};function pl(n){on.useDeprecatedSynchronousErrorHandling?MT(n):fl(n)}function JP(n){throw n}function ag(n,e){let{onStoppedNotification:t}=on;t&&Qo.setTimeout(()=>t(n,e))}var XP={closed:!0,next:za,error:JP,complete:za};var Jo=typeof Symbol=="function"&&Symbol.observable||"@@observable";function jt(n){return n}function gl(...n){return ug(n)}function ug(n){return n.length===0?jt:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var J=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=tk(t)?t:new Zo(t,r,i);return Yo(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=PT(r),new r((i,o)=>{let s=new Zo({next:a=>{try{t(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Jo](){return this}pipe(...t){return ug(t)(this)}toPromise(t){return t=PT(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function PT(n){var e;return(e=n??on.Promise)!==null&&e!==void 0?e:Promise}function ek(n){return n&&ee(n.next)&&ee(n.error)&&ee(n.complete)}function tk(n){return n&&n instanceof xi||ek(n)&&hl(n)}function lg(n){return ee(n?.lift)}function le(n){return e=>{if(lg(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function de(n,e,t,r,i){return new dg(n,e,t,r,i)}var dg=class extends xi{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Xo(){return le((n,e)=>{let t=null;n._refCount++;let r=de(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var es=class extends J{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,lg(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ke;let t=this.getSubject();e.add(this.source.subscribe(de(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ke.EMPTY)}return e}refCount(){return Xo()(this)}};var kT=Ko(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ze=(()=>{class n extends J{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new ml(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new kT}next(t){Yo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){Yo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Yo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?ig:(this.currentObservers=null,o.push(t),new ke(()=>{this.currentObservers=null,Pi(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new J;return t.source=this,t}}return n.create=(e,t)=>new ml(e,t),n})(),ml=class extends Ze{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:ig}};var dt=class extends Ze{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var hg={now(){return(hg.delegate||Date).now()},delegate:void 0};var yl=class extends ke{constructor(e,t){super()}schedule(e,t=0){return this}};var qa={setInterval(n,e,...t){let{delegate:r}=qa;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=qa;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var ts=class extends yl{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return qa.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&qa.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Pi(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var ns=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};ns.now=hg.now;var rs=class extends ns{constructor(e,t=ns.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var fg=new rs(ts);var vl=class extends ts{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var _l=class extends rs{};var pg=new _l(vl);var kt=new J(n=>n.complete());function xT(n){return n&&ee(n.schedule)}function OT(n){return n[n.length-1]}function LT(n){return ee(OT(n))?n.pop():void 0}function Fr(n){return xT(OT(n))?n.pop():void 0}function El(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function VT(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(n,e||[])).next())})}function FT(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Oi(n){return this instanceof Oi?(this.v=n,this):new Oi(n)}function jT(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(S){return Promise.resolve(S).then(y,p)}}function a(y,S){r[y]&&(i[y]=function(M){return new Promise(function(N,L){o.push([y,M,N,L])>1||u(y,M)})},S&&(i[y]=S(i[y])))}function u(y,S){try{l(r[y](S))}catch(M){m(o[0][3],M)}}function l(y){y.value instanceof Oi?Promise.resolve(y.value.v).then(h,p):m(o[0][2],y)}function h(y){u("next",y)}function p(y){u("throw",y)}function m(y,S){y(S),o.shift(),o.length&&u(o[0][0],o[0][1])}}function UT(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof FT=="function"?FT(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,u){s=n[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var Il=n=>n&&typeof n.length=="number"&&typeof n!="function";function wl(n){return ee(n?.then)}function Tl(n){return ee(n[Jo])}function Dl(n){return Symbol.asyncIterator&&ee(n?.[Symbol.asyncIterator])}function bl(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function nk(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Cl=nk();function Sl(n){return ee(n?.[Cl])}function Al(n){return jT(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield Oi(t.read());if(i)return yield Oi(void 0);yield yield Oi(r)}}finally{t.releaseLock()}})}function Rl(n){return ee(n?.getReader)}function rt(n){if(n instanceof J)return n;if(n!=null){if(Tl(n))return rk(n);if(Il(n))return ik(n);if(wl(n))return ok(n);if(Dl(n))return BT(n);if(Sl(n))return sk(n);if(Rl(n))return ak(n)}throw bl(n)}function rk(n){return new J(e=>{let t=n[Jo]();if(ee(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function ik(n){return new J(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function ok(n){return new J(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,fl)})}function sk(n){return new J(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function BT(n){return new J(e=>{ck(n,e).catch(t=>e.error(t))})}function ak(n){return BT(Al(n))}function ck(n,e){var t,r,i,o;return VT(this,void 0,void 0,function*(){try{for(t=UT(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function xt(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Vr(n,e=0){return le((t,r)=>{t.subscribe(de(r,i=>xt(r,n,()=>r.next(i),e),()=>xt(r,n,()=>r.complete(),e),i=>xt(r,n,()=>r.error(i),e)))})}function jr(n,e=0){return le((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function $T(n,e){return rt(n).pipe(jr(e),Vr(e))}function HT(n,e){return rt(n).pipe(jr(e),Vr(e))}function zT(n,e){return new J(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function qT(n,e){return new J(t=>{let r;return xt(t,e,()=>{r=n[Cl](),xt(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>ee(r?.return)&&r.return()})}function Nl(n,e){if(!n)throw new Error("Iterable cannot be null");return new J(t=>{xt(t,e,()=>{let r=n[Symbol.asyncIterator]();xt(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function GT(n,e){return Nl(Al(n),e)}function WT(n,e){if(n!=null){if(Tl(n))return $T(n,e);if(Il(n))return zT(n,e);if(wl(n))return HT(n,e);if(Dl(n))return Nl(n,e);if(Sl(n))return qT(n,e);if(Rl(n))return GT(n,e)}throw bl(n)}function we(n,e){return e?WT(n,e):rt(n)}function q(...n){let e=Fr(n);return we(n,e)}function is(n,e){let t=ee(n)?n:()=>n,r=i=>i.error(t());return new J(e?i=>e.schedule(r,0,i):r)}function gg(n){return!!n&&(n instanceof J||ee(n.lift)&&ee(n.subscribe))}var tr=Ko(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function re(n,e){return le((t,r)=>{let i=0;t.subscribe(de(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:uk}=Array;function lk(n,e){return uk(e)?n(...e):n(e)}function KT(n){return re(e=>lk(n,e))}var{isArray:dk}=Array,{getPrototypeOf:hk,prototype:fk,keys:pk}=Object;function QT(n){if(n.length===1){let e=n[0];if(dk(e))return{args:e,keys:null};if(gk(e)){let t=pk(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function gk(n){return n&&typeof n=="object"&&hk(n)===fk}function YT(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Ga(...n){let e=Fr(n),t=LT(n),{args:r,keys:i}=QT(n);if(r.length===0)return we([],e);let o=new J(mk(r,e,i?s=>YT(i,s):jt));return t?o.pipe(KT(t)):o}function mk(n,e,t=jt){return r=>{ZT(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)ZT(e,()=>{let l=we(n[u],e),h=!1;l.subscribe(de(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function ZT(n,e,t){n?xt(t,n,e):e()}function JT(n,e,t,r,i,o,s,a){let u=[],l=0,h=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},y=M=>l<r?S(M):u.push(M),S=M=>{o&&e.next(M),l++;let N=!1;rt(t(M,h++)).subscribe(de(e,L=>{i?.(L),o?y(L):e.next(L)},()=>{N=!0},void 0,()=>{if(N)try{for(l--;u.length&&l<r;){let L=u.shift();s?xt(e,s,()=>S(L)):S(L)}m()}catch(L){e.error(L)}}))};return n.subscribe(de(e,y,()=>{p=!0,m()})),()=>{a?.()}}function Fe(n,e,t=1/0){return ee(e)?Fe((r,i)=>re((o,s)=>e(r,o,i,s))(rt(n(r,i))),t):(typeof e=="number"&&(t=e),le((r,i)=>JT(r,i,n,t)))}function Ur(n=1/0){return Fe(jt,n)}function XT(){return Ur(1)}function os(...n){return XT()(we(n,Fr(n)))}function Li(n){return new J(e=>{rt(n()).subscribe(e)})}function St(n,e){return le((t,r)=>{let i=0;t.subscribe(de(r,o=>n.call(e,o,i++)&&r.next(o)))})}function nr(n){return le((e,t)=>{let r=null,i=!1,o;r=e.subscribe(de(t,void 0,void 0,s=>{o=rt(n(s,nr(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function eD(n,e,t,r,i){return(o,s)=>{let a=t,u=e,l=0;o.subscribe(de(s,h=>{let p=l++;u=a?n(u,h,p):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function Br(n,e){return ee(e)?Fe(n,e,1):Fe(n,1)}function $r(n){return le((e,t)=>{let r=!1;e.subscribe(de(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function rr(n){return n<=0?()=>kt:le((e,t)=>{let r=0;e.subscribe(de(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Ml(n=yk){return le((e,t)=>{let r=!1;e.subscribe(de(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function yk(){return new tr}function Wa(n){return le((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function ir(n,e){let t=arguments.length>=2;return r=>r.pipe(n?St((i,o)=>n(i,o,r)):jt,rr(1),t?$r(e):Ml(()=>new tr))}function ss(n){return n<=0?()=>kt:le((e,t)=>{let r=[];e.subscribe(de(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function mg(n,e){let t=arguments.length>=2;return r=>r.pipe(n?St((i,o)=>n(i,o,r)):jt,ss(1),t?$r(e):Ml(()=>new tr))}function Pl(n,e){return le(eD(n,e,arguments.length>=2,!0))}function kl(...n){let e=Fr(n);return le((t,r)=>{(e?os(n,t,e):os(n,t)).subscribe(r)})}function Je(n,e){return le((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(de(r,u=>{i?.unsubscribe();let l=0,h=o++;rt(n(u,h)).subscribe(i=de(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function xl(n){return le((e,t)=>{rt(n).subscribe(de(t,()=>t.complete(),za)),!t.closed&&e.subscribe(t)})}function it(n,e,t){let r=ee(n)||e||t?{next:n,error:e,complete:t}:n;return r?le((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(de(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):jt}function tD(n){let e=Z(null);try{return n()}finally{Z(e)}}var Vi=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},Rg=new Vi("20.3.2");var jl="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",B=class extends Error{code;constructor(e,t){super(cs(e,t)),this.code=e}};function vk(n){return`NG0${Math.abs(n)}`}function cs(n,e){return`${vk(n)}${e?": "+e:""}`}var Za=globalThis;function ye(n){for(let e in n)if(n[e]===ye)return e;throw Error("")}function Hr(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(Hr).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function Ng(n,e){return n?e?`${n} ${e}`:n:e||""}var _k=ye({__forward_ref__:ye});function Ul(n){return n.__forward_ref__=Ul,n.toString=function(){return Hr(this())},n}function Ot(n){return Mg(n)?n():n}function Mg(n){return typeof n=="function"&&n.hasOwnProperty(_k)&&n.__forward_ref__===Ul}function j(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Gr(n){return{providers:n.providers||[],imports:n.imports||[]}}function Ja(n){return Ek(n,Bl)}function Pg(n){return Ja(n)!==null}function Ek(n,e){return n.hasOwnProperty(e)&&n[e]||null}function Ik(n){let e=n?.[Bl]??null;return e||null}function vg(n){return n&&n.hasOwnProperty(Ll)?n[Ll]:null}var Bl=ye({\u0275prov:ye}),Ll=ye({\u0275inj:ye}),U=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=j({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function kg(n){return n&&!!n.\u0275providers}var xg=ye({\u0275cmp:ye}),Og=ye({\u0275dir:ye}),Lg=ye({\u0275pipe:ye}),Fg=ye({\u0275mod:ye}),Qa=ye({\u0275fac:ye}),Bi=ye({__NG_ELEMENT_ID__:ye}),rD=ye({__NG_ENV_ID__:ye});function Xa(n){return typeof n=="string"?n:n==null?"":String(n)}function oD(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Xa(n)}var sD=ye({ngErrorCode:ye}),wk=ye({ngErrorMessage:ye}),Tk=ye({ngTokenPath:ye});function Vg(n,e){return aD("",-200,e)}function $l(n,e){throw new B(-201,!1)}function aD(n,e,t){let r=new B(e,n);return r[sD]=e,r[wk]=n,t&&(r[Tk]=t),r}function Dk(n){return n[sD]}var _g;function cD(){return _g}function At(n){let e=_g;return _g=n,e}function jg(n,e,t){let r=Ja(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&8)return null;if(e!==void 0)return e;$l(n,"Injector")}var bk={},Fi=bk,Eg="__NG_DI_FLAG__",Ig=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=ji(t)||0;try{return this.injector.get(e,r&8?null:Fi,r)}catch(i){if(qo(i))return i;throw i}}};function Ck(n,e=0){let t=ol();if(t===void 0)throw new B(-203,!1);if(t===null)return jg(n,void 0,e);{let r=Sk(e),i=t.retrieve(n,r);if(qo(i)){if(r.optional)return null;throw i}return i}}function $(n,e=0){return(cD()||Ck)(Ot(n),e)}function P(n,e){return $(n,ji(e))}function ji(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Sk(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function wg(n){let e=[];for(let t=0;t<n.length;t++){let r=Ot(n[t]);if(Array.isArray(r)){if(r.length===0)throw new B(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],u=Ak(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push($(i,o))}else e.push($(r))}return e}function uD(n,e){return n[Eg]=e,n.prototype[Eg]=e,n}function Ak(n){return n[Eg]}function zr(n,e){let t=n.hasOwnProperty(Qa);return t?n[Qa]:null}function lD(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}function dD(n){return n.flat(Number.POSITIVE_INFINITY)}function Hl(n,e){n.forEach(t=>Array.isArray(t)?Hl(t,e):e(t))}function Ug(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function ec(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}var $i={},sn=[],ar=new U(""),Bg=new U("",-1),$g=new U(""),Ya=class{get(e,t=Fi){if(t===Fi){let i=aD("",-201);throw i.name="\u0275NotFound",i}return t}};function Hg(n){return n[Fg]||null}function cr(n){return n[xg]||null}function zg(n){return n[Og]||null}function hD(n){return n[Lg]||null}function Lt(n){return{\u0275providers:n}}function fD(n){return Lt([{provide:ar,multi:!0,useValue:n}])}function pD(...n){return{\u0275providers:qg(!0,n),\u0275fromNgModule:!0}}function qg(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return Hl(e,s=>{let a=s;Fl(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&gD(i,o),t}function gD(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];Gg(i,o=>{e(o,r)})}}function Fl(n,e,t,r){if(n=Ot(n),!n)return!1;let i=null,o=vg(n),s=!o&&cr(n);if(!o&&!s){let u=n.ngModule;if(o=vg(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)Fl(l,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{Hl(o.imports,h=>{Fl(h,e,t,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&gD(l,e)}if(!a){let l=zr(i)||(()=>new i);e({provide:i,useFactory:l,deps:sn},i),e({provide:$g,useValue:i,multi:!0},i),e({provide:ar,useValue:()=>$(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=n;Gg(u,h=>{e(h,l)})}}else return!1;return i!==n&&n.providers!==void 0}function Gg(n,e){for(let t of n)kg(t)&&(t=t.\u0275providers),Array.isArray(t)?Gg(t,e):e(t)}var Rk=ye({provide:String,useValue:ye});function mD(n){return n!==null&&typeof n=="object"&&Rk in n}function Nk(n){return!!(n&&n.useExisting)}function Mk(n){return!!(n&&n.useFactory)}function Vl(n){return typeof n=="function"}var tc=new U(""),Ol={},iD={},yg;function nc(){return yg===void 0&&(yg=new Ya),yg}var Ve=class{},Ui=class extends Ve{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,Dg(e,s=>this.processProvider(s)),this.records.set(Bg,as(void 0,this)),i.has("environment")&&this.records.set(Ve,as(void 0,this));let o=this.records.get(tc);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get($g,sn,{self:!0}))}retrieve(e,t){let r=ji(t)||0;try{return this.get(e,Fi,r)}catch(i){if(qo(i))return i;throw i}}destroy(){Ka(this),this._destroyed=!0;let e=Z(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Z(e)}}onDestroy(e){return Ka(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Ka(this);let t=An(this),r=At(void 0),i;try{return e()}finally{An(t),At(r)}}get(e,t=Fi,r){if(Ka(this),e.hasOwnProperty(rD))return e[rD](this);let i=ji(r),o,s=An(this),a=At(void 0);try{if(!(i&4)){let l=this.records.get(e);if(l===void 0){let h=Lk(e)&&Ja(e);h&&this.injectableDefInScope(h)?l=as(Tg(e),Ol):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l,i)}let u=i&2?nc():this.parent;return t=i&8&&t===Fi?null:t,u.get(e,t)}catch(u){let l=Dk(u);throw l===-200||l===-201?new B(l,null):u}finally{At(a),An(s)}}resolveInjectorInitializers(){let e=Z(null),t=An(this),r=At(void 0),i;try{let o=this.get(ar,sn,{self:!0});for(let s of o)s()}finally{An(t),At(r),Z(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(Hr(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Ot(e);let t=Vl(e)?e:Ot(e&&e.provide),r=kk(e);if(!Vl(e)&&e.multi===!0){let i=this.records.get(t);i||(i=as(void 0,Ol,!0),i.factory=()=>wg(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){let i=Z(null);try{if(t.value===iD)throw Vg(Hr(e));return t.value===Ol&&(t.value=iD,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&Ok(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{Z(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Ot(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Tg(n){let e=Ja(n),t=e!==null?e.factory:zr(n);if(t!==null)return t;if(n instanceof U)throw new B(204,!1);if(n instanceof Function)return Pk(n);throw new B(204,!1)}function Pk(n){if(n.length>0)throw new B(204,!1);let t=Ik(n);return t!==null?()=>t.factory(n):()=>new n}function kk(n){if(mD(n))return as(void 0,n.useValue);{let e=yD(n);return as(e,Ol)}}function yD(n,e,t){let r;if(Vl(n)){let i=Ot(n);return zr(i)||Tg(i)}else if(mD(n))r=()=>Ot(n.useValue);else if(Mk(n))r=()=>n.useFactory(...wg(n.deps||[]));else if(Nk(n))r=(i,o)=>$(Ot(n.useExisting),o!==void 0&&o&8?8:void 0);else{let i=Ot(n&&(n.useClass||n.provide));if(xk(n))r=()=>new i(...wg(n.deps));else return zr(i)||Tg(i)}return r}function Ka(n){if(n.destroyed)throw new B(205,!1)}function as(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function xk(n){return!!n.deps}function Ok(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function Lk(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function Dg(n,e){for(let t of n)Array.isArray(t)?Dg(t,e):t&&kg(t)?Dg(t.\u0275providers,e):e(t)}function He(n,e){let t;n instanceof Ui?(Ka(n),t=n):t=new Ig(n);let r,i=An(t),o=At(void 0);try{return e()}finally{An(i),At(o)}}function vD(){return cD()!==void 0||ol()!=null}var cn=0,G=1,Y=2,Xe=3,Yt=4,Zt=5,us=6,ls=7,Ue=8,ds=9,Rn=10,Be=11,hs=12,Wg=13,Hi=14,Ut=15,Wr=16,zi=17,Nn=18,rc=19,Kg=20,or=21,zl=22,ic=23,Bt=24,qi=25,ht=26,et=27,_D=1,Qg=6,Kr=7,oc=8,Gi=9,ze=10;function Mn(n){return Array.isArray(n)&&typeof n[_D]=="object"}function un(n){return Array.isArray(n)&&n[_D]===!0}function Yg(n){return(n.flags&4)!==0}function Qr(n){return n.componentOffset>-1}function ql(n){return(n.flags&1)===1}function Wi(n){return!!n.template}function fs(n){return(n[Y]&512)!==0}function Ki(n){return(n[Y]&256)===256}var ED="svg",ID="math";function Jt(n){for(;Array.isArray(n);)n=n[cn];return n}function wD(n,e){return Jt(e[n])}function ln(n,e){return Jt(e[n.index])}function sc(n,e){return n.data[e]}function TD(n,e){return n[e]}function Zg(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function Xt(n,e){let t=e[n];return Mn(t)?t:t[cn]}function DD(n){return(n[Y]&4)===4}function Gl(n){return(n[Y]&128)===128}function bD(n){return un(n[Xe])}function Pn(n,e){return e==null?null:n[e]}function Jg(n){n[zi]=0}function Xg(n){n[Y]&1024||(n[Y]|=1024,Gl(n)&&ps(n))}function CD(n,e){for(;n>0;)e=e[Hi],n--;return e}function ac(n){return!!(n[Y]&9216||n[Bt]?.dirty)}function Wl(n){n[Rn].changeDetectionScheduler?.notify(8),n[Y]&64&&(n[Y]|=1024),ac(n)&&ps(n)}function ps(n){n[Rn].changeDetectionScheduler?.notify(0);let e=qr(n);for(;e!==null&&!(e[Y]&8192||(e[Y]|=8192,!Gl(e)));)e=qr(e)}function em(n,e){if(Ki(n))throw new B(911,!1);n[or]===null&&(n[or]=[]),n[or].push(e)}function SD(n,e){if(n[or]===null)return;let t=n[or].indexOf(e);t!==-1&&n[or].splice(t,1)}function qr(n){let e=n[Xe];return un(e)?e[Xe]:e}function tm(n){return n[ls]??=[]}function nm(n){return n.cleanup??=[]}function AD(n,e,t,r){let i=tm(e);i.push(t),n.firstCreatePass&&nm(n).push(r,i.length-1)}var ae={lFrame:UD(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var bg=!1;function RD(){return ae.lFrame.elementDepthCount}function ND(){ae.lFrame.elementDepthCount++}function rm(){ae.lFrame.elementDepthCount--}function MD(){return ae.bindingsEnabled}function PD(){return ae.skipHydrationRootTNode!==null}function im(n){return ae.skipHydrationRootTNode===n}function om(){ae.skipHydrationRootTNode=null}function oe(){return ae.lFrame.lView}function Ft(){return ae.lFrame.tView}function Qi(n){return ae.lFrame.contextLView=n,n[Ue]}function Yi(n){return ae.lFrame.contextLView=null,n}function vt(){let n=sm();for(;n!==null&&n.type===64;)n=n.parent;return n}function sm(){return ae.lFrame.currentTNode}function kD(){let n=ae.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function gs(n,e){let t=ae.lFrame;t.currentTNode=n,t.isParent=e}function am(){return ae.lFrame.isParent}function xD(){ae.lFrame.isParent=!1}function cm(){return bg}function um(n){let e=bg;return bg=n,e}function Kl(){let n=ae.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function OD(n){return ae.lFrame.bindingIndex=n}function Zi(){return ae.lFrame.bindingIndex++}function LD(){return ae.lFrame.inI18n}function FD(n,e){let t=ae.lFrame;t.bindingIndex=t.bindingRootIndex=n,Ql(e)}function VD(){return ae.lFrame.currentDirectiveIndex}function Ql(n){ae.lFrame.currentDirectiveIndex=n}function lm(){return ae.lFrame.currentQueryIndex}function Yl(n){ae.lFrame.currentQueryIndex=n}function Fk(n){let e=n[G];return e.type===2?e.declTNode:e.type===1?n[Zt]:null}function dm(n,e,t){if(t&4){let i=e,o=n;for(;i=i.parent,i===null&&!(t&1);)if(i=Fk(o),i===null||(o=o[Hi],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=ae.lFrame=jD();return r.currentTNode=e,r.lView=n,!0}function Zl(n){let e=jD(),t=n[G];ae.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function jD(){let n=ae.lFrame,e=n===null?null:n.child;return e===null?UD(n):e}function UD(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function BD(){let n=ae.lFrame;return ae.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var hm=BD;function Jl(){let n=BD();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function $D(n){return(ae.lFrame.contextLView=CD(n,ae.lFrame.contextLView))[Ue]}function cc(){return ae.lFrame.selectedIndex}function Yr(n){ae.lFrame.selectedIndex=n}function Xl(){let n=ae.lFrame;return sc(n.tView,n.selectedIndex)}function HD(){return ae.lFrame.currentNamespace}var zD=!0;function ed(){return zD}function td(n){zD=n}function Cg(n,e=null,t=null,r){let i=fm(n,e,t,r);return i.resolveInjectorInitializers(),i}function fm(n,e=null,t=null,r,i=new Set){let o=[t||sn,pD(n)];return r=r||(typeof n=="object"?void 0:Hr(n)),new Ui(o,e||nc(),r||null,i)}var je=class n{static THROW_IF_NOT_FOUND=Fi;static NULL=new Ya;static create(e,t){if(Array.isArray(e))return Cg({name:""},t,e,"");{let r=e.name??"";return Cg({name:r},e.parent,e.providers,r)}}static \u0275prov=j({token:n,providedIn:"any",factory:()=>$(Bg)});static __NG_ELEMENT_ID__=-1},$e=new U(""),ur=(()=>{class n{static __NG_ELEMENT_ID__=Vk;static __NG_ENV_ID__=t=>t}return n})(),Sg=class extends ur{_lView;constructor(e){super(),this._lView=e}get destroyed(){return Ki(this._lView)}onDestroy(e){let t=this._lView;return em(t,e),()=>SD(t,e)}};function Vk(){return new Sg(oe())}var an=class{_console=console;handleError(e){this._console.error("ERROR",e)}},_t=new U("",{providedIn:"root",factory:()=>{let n=P(Ve),e;return t=>{n.destroyed&&!e?setTimeout(()=>{throw t}):(e??=n.get(an),e.handleError(t))}}}),qD={provide:ar,useValue:()=>void P(an),multi:!0},jk=new U("",{providedIn:"root",factory:()=>{let n=P($e).defaultView;if(!n)return;let e=P(_t),t=o=>{e(o.reason),o.preventDefault()},r=o=>{o.error?e(o.error):e(new Error(o.message,{cause:o})),o.preventDefault()},i=()=>{n.addEventListener("unhandledrejection",t),n.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(i):i(),P(ur).onDestroy(()=>{n.removeEventListener("error",r),n.removeEventListener("unhandledrejection",t)})}});function pm(){return Lt([fD(()=>void P(jk))])}function lr(n,e){let[t,r,i]=ng(n,e?.equal),o=t,s=o[Pt];return o.set=r,o.update=i,o.asReadonly=GD.bind(o),o}function GD(){let n=this[Pt];if(n.readonlyFn===void 0){let e=()=>this();e[Pt]=n,n.readonlyFn=e}return n.readonlyFn}var sr=class{},uc=new U("",{providedIn:"root",factory:()=>!1});var gm=new U(""),mm=new U("");var nd=(()=>{class n{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=Uk}return n})();function Uk(){return new nd(oe(),vt())}var kn=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new dt(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new J(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=j({token:n,providedIn:"root",factory:()=>new n})}return n})(),ms=(()=>{class n{internalPendingTasks=P(kn);scheduler=P(sr);errorHandler=P(_t);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){let r=this.add();t().catch(this.errorHandler).finally(r)}static \u0275prov=j({token:n,providedIn:"root",factory:()=>new n})}return n})();function lc(...n){}var ym=(()=>{class n{static \u0275prov=j({token:n,providedIn:"root",factory:()=>new Ag})}return n})(),Ag=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[t,r]of this.queues)t===null?e||=this.flushQueue(r):e||=t.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let t=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,t=!0,r.run());return t}};function Is(n){return{toString:n}.toString()}var rd="__parameters__";function Qk(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function Yk(n,e,t){return Is(()=>{let r=Qk(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,h){let p=u.hasOwnProperty(rd)?u[rd]:Object.defineProperty(u,rd,{value:[]})[rd];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var $t=uD(Yk("Optional"),8);function Zk(n){return typeof n=="function"}var ud=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function Eb(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var no=(()=>{let n=()=>Ib;return n.ngInherit=!0,n})();function Ib(n){return n.type.prototype.ngOnChanges&&(n.setInput=Xk),Jk}function Jk(){let n=Tb(this),e=n?.current;if(e){let t=n.previous;if(t===$i)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function Xk(n,e,t,r,i){let o=this.declaredInputs[r],s=Tb(n)||ex(n,{previous:$i,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new ud(l&&l.currentValue,t,u===$i),Eb(n,e,i,t)}var wb="__ngSimpleChanges__";function Tb(n){return n[wb]||null}function ex(n,e){return n[wb]=e}var WD=[];var Te=function(n,e=null,t){for(let r=0;r<WD.length;r++){let i=WD[r];i(n,e,t)}};function tx(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=Ib(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function nx(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),u&&(n.viewHooks??=[]).push(-t,u),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),h!=null&&(n.destroyHooks??=[]).push(t,h)}}function od(n,e,t){Db(n,e,3,t)}function sd(n,e,t,r){(n[Y]&3)===t&&Db(n,e,t,r)}function vm(n,e){let t=n[Y];(t&3)===e&&(t&=16383,t+=1,n[Y]=t)}function Db(n,e,t,r){let i=r!==void 0?n[zi]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(n[zi]+=65536),(a<o||o==-1)&&(rx(n,t,e,u),n[zi]=(n[zi]&4294901760)+u+2),u++}function KD(n,e){Te(4,n,e);let t=Z(null);try{e.call(n)}finally{Z(t),Te(5,n,e)}}function rx(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[Y]>>14<n[zi]>>16&&(n[Y]&3)===e&&(n[Y]+=16384,KD(a,o)):KD(a,o)}var vs=-1,fc=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=t,this.injectImpl=r}};function ix(n){return(n.flags&8)!==0}function ox(n){return(n.flags&16)!==0}function sx(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];ax(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function bb(n){return n===3||n===4||n===6}function ax(n){return n.charCodeAt(0)===64}function Rd(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?QD(n,t,i,null,e[++r]):QD(n,t,i,null,null))}}return n}function QD(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function Cb(n){return n!==vs}function ld(n){return n&32767}function cx(n){return n>>16}function dd(n,e){let t=cx(n),r=e;for(;t>0;)r=r[Hi],t--;return r}var Dm=!0;function hd(n){let e=Dm;return Dm=n,e}var ux=256,Sb=ux-1,Ab=5,lx=0,xn={};function dx(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(Bi)&&(r=t[Bi]),r==null&&(r=t[Bi]=lx++);let i=r&Sb,o=1<<i;e.data[n+(i>>Ab)]|=o}function Rb(n,e){let t=Nb(n,e);if(t!==-1)return t;let r=e[G];r.firstCreatePass&&(n.injectorIndex=e.length,_m(r.data,n),_m(e,null),_m(r.blueprint,null));let i=Ym(n,e),o=n.injectorIndex;if(Cb(i)){let s=ld(i),a=dd(i,e),u=a[G].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function _m(n,e){n.push(0,0,0,0,0,0,0,0,e)}function Nb(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function Ym(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=Ob(i),r===null)return vs;if(t++,i=i[Hi],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return vs}function hx(n,e,t){dx(n,e,t)}function fx(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(bb(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function Mb(n,e,t){if(t&8||n!==void 0)return n;$l(e,"NodeInjector")}function Pb(n,e,t,r){if(t&8&&r===void 0&&(r=null),(t&3)===0){let i=n[ds],o=At(void 0);try{return i?i.get(e,r,t&8):jg(e,r,t&8)}finally{At(o)}}return Mb(r,e,t)}function kb(n,e,t,r=0,i){if(n!==null){if(e[Y]&2048&&!(r&2)){let s=yx(n,e,t,r,xn);if(s!==xn)return s}let o=xb(n,e,t,r,xn);if(o!==xn)return o}return Pb(e,t,r,i)}function xb(n,e,t,r,i){let o=gx(t);if(typeof o=="function"){if(!dm(e,n,r))return r&1?Mb(i,t,r):Pb(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&8))$l(t);else return s}finally{hm()}}else if(typeof o=="number"){let s=null,a=Nb(n,e),u=vs,l=r&1?e[Ut][Zt]:null;for((a===-1||r&4)&&(u=a===-1?Ym(n,e):e[a+8],u===vs||!ZD(r,!1)?a=-1:(s=e[G],a=ld(u),e=dd(u,e)));a!==-1;){let h=e[G];if(YD(o,a,h.data)){let p=px(a,e,t,s,r,l);if(p!==xn)return p}u=e[a+8],u!==vs&&ZD(r,e[G].data[a+8]===l)&&YD(o,a,e)?(s=h,a=ld(u),e=dd(u,e)):a=-1}}return i}function px(n,e,t,r,i,o){let s=e[G],a=s.data[n+8],u=r==null?Qr(a)&&Dm:r!=s&&(a.type&3)!==0,l=i&1&&o===a,h=ad(a,s,t,u,l);return h!==null?fd(e,s,h,a,i):xn}function ad(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,u=n.directiveStart,l=n.directiveEnd,h=o>>20,p=r?a:a+h,m=i?a+h:l;for(let y=p;y<m;y++){let S=s[y];if(y<u&&t===S||y>=u&&S.type===t)return y}if(i){let y=s[u];if(y&&Wi(y)&&y.type===t)return u}return null}function fd(n,e,t,r,i){let o=n[t],s=e.data;if(o instanceof fc){let a=o;if(a.resolving){let y=oD(s[t]);throw Vg(y)}let u=hd(a.canSeeViewProviders);a.resolving=!0;let l=s[t].type||s[t],h,p=a.injectImpl?At(a.injectImpl):null,m=dm(n,r,0);try{o=n[t]=a.factory(void 0,i,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&tx(t,s[t],e)}finally{p!==null&&At(p),hd(u),a.resolving=!1,hm()}}return o}function gx(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Bi)?n[Bi]:void 0;return typeof e=="number"?e>=0?e&Sb:mx:e}function YD(n,e,t){let r=1<<n;return!!(t[e+(n>>Ab)]&r)}function ZD(n,e){return!(n&2)&&!(n&1&&e)}var Ji=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return kb(this._tNode,this._lView,e,ji(r),t)}};function mx(){return new Ji(vt(),oe())}function Nd(n){return Is(()=>{let e=n.prototype.constructor,t=e[Qa]||bm(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[Qa]||bm(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function bm(n){return Mg(n)?()=>{let e=bm(Ot(n));return e&&e()}:zr(n)}function yx(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[Y]&2048&&!fs(s);){let a=xb(o,s,t,r|2,xn);if(a!==xn)return a;let u=o.parent;if(!u){let l=s[Kg];if(l){let h=l.get(t,xn,r);if(h!==xn)return h}u=Ob(s),s=s[Hi]}o=u}return i}function Ob(n){let e=n[G],t=e.type;return t===2?e.declTNode:t===1?n[Zt]:null}function vc(n){return fx(vt(),n)}function vx(){return ws(vt(),oe())}function ws(n,e){return new hn(ln(n,e))}var hn=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=vx}return n})();function _x(n){return n instanceof hn?n.nativeElement:n}function Ex(){return this._results[Symbol.iterator]()}var pd=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new Ze}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=dD(e);(this._changesDetected=!lD(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=Ex};function Lb(n){return(n.flags&128)===128}var Zm=(function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n})(Zm||{}),Fb=new Map,Ix=0;function wx(){return Ix++}function Tx(n){Fb.set(n[rc],n)}function Cm(n){Fb.delete(n[rc])}var JD="__ngContext__";function _s(n,e){Mn(e)?(n[JD]=e[rc],Tx(e)):n[JD]=e}function Vb(n){return Ub(n[hs])}function jb(n){return Ub(n[Yt])}function Ub(n){for(;n!==null&&!un(n);)n=n[Yt];return n}var Sm;function Jm(n){Sm=n}function Bb(){if(Sm!==void 0)return Sm;if(typeof document<"u")return document;throw new B(210,!1)}var Md=new U("",{providedIn:"root",factory:()=>Dx}),Dx="ng",Pd=new U(""),Jr=new U("",{providedIn:"platform",factory:()=>"unknown"});var kd=new U("",{providedIn:"root",factory:()=>Bb().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var bx="h",Cx="b";var $b="r";var Hb="di";var zb=!1,qb=new U("",{providedIn:"root",factory:()=>zb});var Xm=new U("");var Sx=(n,e,t,r)=>{};function Ax(n,e,t,r){Sx(n,e,t,r)}function ey(n){return(n.flags&32)===32}var Rx=()=>null;function Gb(n,e,t=!1){return Rx(n,e,t)}function Wb(n,e){let t=n.contentQueries;if(t!==null){let r=Z(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];Yl(o),a.contentQueries(2,e[s],s)}}}finally{Z(r)}}}function Am(n,e,t){Yl(0);let r=Z(null);try{e(n,t)}finally{Z(r)}}function Kb(n,e,t){if(Yg(e)){let r=Z(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let u=t[s];a.contentQueries(1,u,s)}}}finally{Z(r)}}}var dr=(function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n})(dr||{});var id;function Nx(){if(id===void 0&&(id=null,Za.trustedTypes))try{id=Za.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return id}function XD(n){return Nx()?.createScriptURL(n)||n}var gd=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${jl})`}};function xd(n){return n instanceof gd?n.changingThisBreaksApplicationSecurity:n}function ty(n,e){let t=Qb(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${jl})`)}return t===e}function Qb(n){return n instanceof gd&&n.getTypeName()||null}var Mx=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Yb(n){return n=String(n),n.match(Mx)?n:"unsafe:"+n}var Od=(function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n})(Od||{});function ro(n){let e=Jb();return e?e.sanitize(Od.URL,n)||"":ty(n,"URL")?xd(n):Yb(Xa(n))}function Zb(n){let e=Jb();if(e)return XD(e.sanitize(Od.RESOURCE_URL,n)||"");if(ty(n,"ResourceURL"))return XD(xd(n));throw new B(904,!1)}function Px(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?Zb:ro}function ny(n,e,t){return Px(e,t)(n)}function Jb(){let n=oe();return n&&n[Rn].sanitizer}function Xb(n){return n instanceof Function?n():n}function kx(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var eC="ng-template";function xx(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&kx(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(ry(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function ry(n){return n.type===4&&n.value!==eC}function Ox(n,e,t){let r=n.type===4&&!t?eC:n.value;return e===r}function Lx(n,e,t){let r=4,i=n.attrs,o=i!==null?jx(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!dn(r)&&!dn(u))return!1;if(s&&dn(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!Ox(n,u,t)||u===""&&e.length===1){if(dn(r))return!1;s=!0}}else if(r&8){if(i===null||!xx(n,i,u,t)){if(dn(r))return!1;s=!0}}else{let l=e[++a],h=Fx(u,i,ry(n),t);if(h===-1){if(dn(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(dn(r))return!1;s=!0}}}}return dn(r)||s}function dn(n){return(n&1)===0}function Fx(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return Ux(e,n)}function Vx(n,e,t=!1){for(let r=0;r<e.length;r++)if(Lx(n,e[r],t))return!0;return!1}function jx(n){for(let e=0;e<n.length;e++){let t=n[e];if(bb(t))return e}return n.length}function Ux(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function eb(n,e){return n?":not("+e.trim()+")":e}function Bx(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!dn(s)&&(e+=eb(o,i),i=""),r=s,o=o||!dn(r);t++}return i!==""&&(e+=eb(o,i)),e}function $x(n){return n.map(Bx).join(",")}function Hx(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!dn(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var hr={};function zx(n,e){return n.createText(e)}function qx(n,e,t){n.setValue(e,t)}function tC(n,e,t){return n.createElement(e,t)}function md(n,e,t,r,i){n.insertBefore(e,t,r,i)}function nC(n,e,t){n.appendChild(e,t)}function tb(n,e,t,r,i){r!==null?md(n,e,t,r,i):nC(n,e,t)}function rC(n,e,t,r){n.removeChild(null,e,t,r)}function Gx(n,e,t){n.setAttribute(e,"style",t)}function Wx(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function iC(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&sx(n,e,r),i!==null&&Wx(n,e,i),o!==null&&Gx(n,e,o)}function iy(n,e,t,r,i,o,s,a,u,l,h){let p=et+r,m=p+i,y=Kx(p,m),S=typeof l=="function"?l():l;return y[G]={type:n,blueprint:y,template:t,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:S,incompleteFirstPass:!1,ssrId:h}}function Kx(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:hr);return t}function Qx(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=iy(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function oy(n,e,t,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[cn]=i,p[Y]=r|4|128|8|64|1024,(l!==null||n&&n[Y]&2048)&&(p[Y]|=2048),Jg(p),p[Xe]=p[Hi]=n,p[Ue]=t,p[Rn]=s||n&&n[Rn],p[Be]=a||n&&n[Be],p[ds]=u||n&&n[ds]||null,p[Zt]=o,p[rc]=wx(),p[us]=h,p[Kg]=l,p[Ut]=e.type==2?n[Ut]:p,p}function Yx(n,e,t){let r=ln(e,n),i=Qx(t),o=n[Rn].rendererFactory,s=sy(n,oy(n,i,null,oC(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function oC(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function sC(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function sy(n,e){return n[hs]?n[Wg][Yt]=e:n[hs]=e,n[Wg]=e,e}function ot(n=1){aC(Ft(),oe(),cc()+n,!1)}function aC(n,e,t,r){if(!r)if((e[Y]&3)===3){let o=n.preOrderCheckHooks;o!==null&&od(e,o,t)}else{let o=n.preOrderHooks;o!==null&&sd(e,o,0,t)}Yr(t)}var Ld=(function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n})(Ld||{});function Rm(n,e,t,r){let i=Z(null);try{let[o,s,a]=n.inputs[t],u=null;(s&Ld.SignalBased)!==0&&(u=e[o][Pt]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,u,r,t,o):Eb(e,u,o,r)}finally{Z(i)}}var Xr=(function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n})(Xr||{}),Zx;function ay(n,e){return Zx(n,e)}var Fd=new Set;function ys(n,e,t,r,i,o){if(r!=null){let s,a=!1;un(r)?s=r:Mn(r)&&(a=!0,r=r[cn]);let u=Jt(r);n===0&&t!==null?i==null?nC(e,t,u):md(e,t,u,i||null,!0):n===1&&t!==null?md(e,t,u,i||null,!0):n===2?nb(o,l=>{rC(e,u,a,l)}):n===3&&nb(o,()=>{e.destroyNode(u)}),s!=null&&lO(e,n,s,t,i)}}function Jx(n,e){cC(n,e),e[cn]=null,e[Zt]=null}function Xx(n,e,t,r,i,o){r[cn]=i,r[Zt]=e,jd(n,r,t,1,i,o)}function cC(n,e){e[Rn].changeDetectionScheduler?.notify(9),jd(n,e,e[Be],2,null,null)}function eO(n){let e=n[hs];if(!e)return Em(n[G],n);for(;e;){let t=null;if(Mn(e))t=e[hs];else{let r=e[ze];r&&(t=r)}if(!t){for(;e&&!e[Yt]&&e!==n;)Mn(e)&&Em(e[G],e),e=e[Xe];e===null&&(e=n),Mn(e)&&Em(e[G],e),t=e&&e[Yt]}e=t}}function cy(n,e){let t=n[Gi],r=t.indexOf(e);t.splice(r,1)}function Vd(n,e){if(Ki(e))return;let t=e[Be];t.destroyNode&&jd(n,e,t,3,null,null),eO(e)}function Em(n,e){if(Ki(e))return;let t=Z(null);try{e[Y]&=-129,e[Y]|=256,e[Bt]&&Ha(e[Bt]),rO(n,e),nO(n,e),e[G].type===1&&e[Be].destroy();let r=e[Wr];if(r!==null&&un(e[Xe])){r!==e[Xe]&&cy(r,e);let i=e[Nn];i!==null&&i.detachView(n)}Cm(e)}finally{Z(t)}}function nb(n,e){if(n&&n[ht]&&n[ht].leave)if(n[ht].skipLeaveAnimations)n[ht].skipLeaveAnimations=!1;else{let t=n[ht].leave,r=[];for(let i=0;i<t.length;i++){let o=t[i];r.push(o())}n[ht].running=Promise.allSettled(r),n[ht].leave=void 0}tO(n,e)}function tO(n,e){if(n&&n[ht]&&n[ht].running){n[ht].running.then(()=>{n[ht]&&n[ht].running&&(n[ht].running=void 0),Fd.delete(n),e(!0)});return}e(!1)}function nO(n,e){let t=n.cleanup,r=e[ls];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[ls]=null);let i=e[or];if(i!==null){e[or]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[ic];if(o!==null){e[ic]=null;for(let s of o)s.destroy()}}function rO(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof fc)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];Te(4,a,u);try{u.call(a)}finally{Te(5,a,u)}}else{Te(4,i,o);try{o.call(i)}finally{Te(5,i,o)}}}}}function iO(n,e,t){return oO(n,e.parent,t)}function oO(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[cn];if(Qr(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===dr.None||i===dr.Emulated)return null}return ln(r,t)}function sO(n,e,t){return cO(n,e,t)}function aO(n,e,t){return n.type&40?ln(n,t):null}var cO=aO,rb;function uy(n,e,t,r){let i=iO(n,r,e),o=e[Be],s=r.parent||e[Zt],a=sO(s,r,e);if(i!=null)if(Array.isArray(t))for(let u=0;u<t.length;u++)tb(o,i,t[u],a,!1);else tb(o,i,t,a,!1);rb!==void 0&&rb(o,r,e,t,i)}function dc(n,e){if(e!==null){let t=e.type;if(t&3)return ln(e,n);if(t&4)return Nm(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return dc(n,r);{let i=n[e.index];return un(i)?Nm(-1,i):Jt(i)}}else{if(t&128)return dc(n,e.next);if(t&32)return ay(e,n)()||Jt(n[e.index]);{let r=uC(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=qr(n[Ut]);return dc(i,r)}else return dc(n,e.next)}}}return null}function uC(n,e){if(e!==null){let r=n[Ut][Zt],i=e.projection;return r.projection[i]}return null}function Nm(n,e){let t=ze+n+1;if(t<e.length){let r=e[t],i=r[G].firstChild;if(i!==null)return dc(r,i)}return e[Kr]}function ly(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],u=t.type;if(s&&e===0&&(a&&_s(Jt(a),r),t.flags|=2),!ey(t))if(u&8)ly(n,e,t.child,r,i,o,!1),ys(e,n,i,a,o,r);else if(u&32){let l=ay(t,r),h;for(;h=l();)ys(e,n,i,h,o,r);ys(e,n,i,a,o,r)}else u&16?uO(n,e,r,t,i,o):ys(e,n,i,a,o,r);t=s?t.projectionNext:t.next}}function jd(n,e,t,r,i,o){ly(t,r,n.firstChild,e,i,o,!1)}function uO(n,e,t,r,i,o){let s=t[Ut],u=s[Zt].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];ys(e,n,i,h,o,t)}else{let l=u,h=s[Xe];Lb(r)&&(l.flags|=128),ly(n,e,l,h,i,o,!0)}}function lO(n,e,t,r,i){let o=t[Kr],s=Jt(t);o!==s&&ys(e,n,r,o,i);for(let a=ze;a<t.length;a++){let u=t[a];jd(u[G],u,n,e,r,o)}}function lC(n,e,t,r,i){let o=cc(),s=r&2;try{Yr(-1),s&&e.length>et&&aC(n,e,et,!1),Te(s?2:0,i,t),t(r,i)}finally{Yr(o),Te(s?3:1,i,t)}}function dC(n,e,t){yO(n,e,t),(t.flags&64)===64&&vO(n,e,t)}function dy(n,e,t=ln){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function dO(n,e,t,r){let o=r.get(qb,zb)||t===dr.ShadowDom,s=n.selectRootElement(e,o);return hO(s),s}function hO(n){fO(n)}var fO=()=>null;function pO(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function gO(n,e,t,r,i,o){let s=e[G];if(hy(n,s,e,t,r)){Qr(n)&&mO(e,n.index);return}n.type&3&&(t=pO(t)),hC(n,e,t,r,i,o)}function hC(n,e,t,r,i,o){if(n.type&3){let s=ln(n,e);r=o!=null?o(r,n.value||"",t):r,i.setProperty(s,t,r)}else n.type&12}function mO(n,e){let t=Xt(e,n);t[Y]&16||(t[Y]|=64)}function yO(n,e,t){let r=t.directiveStart,i=t.directiveEnd;Qr(t)&&Yx(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||Rb(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let a=n.data[s],u=fd(e,n,s,t);if(_s(u,e),o!==null&&TO(e,s-r,u,a,t,o),Wi(a)){let l=Xt(t.index,e);l[Ue]=fd(e,n,s,t)}}}function vO(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=VD();try{Yr(o);for(let a=r;a<i;a++){let u=n.data[a],l=e[a];Ql(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&_O(u,l)}}finally{Yr(-1),Ql(s)}}function _O(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function EO(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];Vx(e,o.selectors,!1)&&(r??=[],Wi(o)?r.unshift(o):r.push(o))}return r}function IO(n,e,t,r,i,o){let s=ln(n,e);wO(e[Be],s,o,n.value,t,r,i)}function wO(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?Xa(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function TO(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let u=s[a],l=s[a+1];Rm(r,t,u,l)}}function fC(n,e,t,r,i){let o=et+t,s=e[G],a=i(s,e,n,r,t);e[o]=a,gs(n,!0);let u=n.type===2;return u?(iC(e[Be],a,n),(RD()===0||ql(n))&&_s(a,e),ND()):_s(a,e),ed()&&(!u||!ey(n))&&uy(s,e,a,n),n}function pC(n){let e=n;return am()?xD():(e=e.parent,gs(e,!1)),e}function DO(n,e){let t=n[ds];if(!t)return;let r;try{r=t.get(_t,null)}catch{r=null}r?.(e)}function hy(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],a=!1;if(s)for(let u=0;u<s.length;u+=2){let l=s[u],h=s[u+1],p=e.data[l];Rm(p,t[l],h,i),a=!0}if(o)for(let u of o){let l=t[u],h=e.data[u];Rm(h,l,r,i),a=!0}return a}function bO(n,e){let t=Xt(e,n),r=t[G];CO(r,t);let i=t[cn];i!==null&&t[us]===null&&(t[us]=Gb(i,t[ds])),Te(18),fy(r,t,t[Ue]),Te(19,t[Ue])}function CO(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function fy(n,e,t){Zl(e);try{let r=n.viewQuery;r!==null&&Am(1,r,t);let i=n.template;i!==null&&lC(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Nn]?.finishViewCreation(n),n.staticContentQueries&&Wb(n,e),n.staticViewQueries&&Am(2,n.viewQuery,t);let o=n.components;o!==null&&SO(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[Y]&=-5,Jl()}}function SO(n,e){for(let t=0;t<e.length;t++)bO(n,e[t])}function Ud(n,e,t,r){let i=Z(null);try{let o=e.tView,a=n[Y]&4096?4096:16,u=oy(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];u[Wr]=l;let h=n[Nn];return h!==null&&(u[Nn]=h.createEmbeddedView(o)),fy(o,u,t),u}finally{Z(i)}}function pc(n,e){return!e||e.firstChild===null||Lb(n)}function gc(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(Jt(o)),un(o)&&gC(o,r);let s=t.type;if(s&8)gc(n,e,t.child,r);else if(s&32){let a=ay(t,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=uC(e,t);if(Array.isArray(a))r.push(...a);else{let u=qr(e[Ut]);gc(u[G],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function gC(n,e){for(let t=ze;t<n.length;t++){let r=n[t],i=r[G].firstChild;i!==null&&gc(r[G],r,i,e)}n[Kr]!==n[cn]&&e.push(n[Kr])}function mC(n){if(n[qi]!==null){for(let e of n[qi])e.impl.addSequence(e);n[qi].length=0}}var yC=[];function AO(n){return n[Bt]??RO(n)}function RO(n){let e=yC.pop()??Object.create(MO);return e.lView=n,e}function NO(n){n.lView[Bt]!==n&&(n.lView=null,yC.push(n))}var MO=me(F({},ja),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{ps(n.lView)},consumerOnSignalRead(){this.lView[Bt]=this}});function PO(n){let e=n[Bt]??Object.create(kO);return e.lView=n,e}var kO=me(F({},ja),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=qr(n.lView);for(;e&&!vC(e[G]);)e=qr(e);e&&Xg(e)},consumerOnSignalRead(){this.lView[Bt]=this}});function vC(n){return n.type!==2}function _C(n){if(n[ic]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[ic])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[Y]&8192)}}var xO=100;function EC(n,e=0){let r=n[Rn].rendererFactory,i=!1;i||r.begin?.();try{OO(n,e)}finally{i||r.end?.()}}function OO(n,e){let t=cm();try{um(!0),Mm(n,e);let r=0;for(;ac(n);){if(r===xO)throw new B(103,!1);r++,Mm(n,1)}}finally{um(t)}}function LO(n,e,t,r){if(Ki(e))return;let i=e[Y],o=!1,s=!1;Zl(e);let a=!0,u=null,l=null;o||(vC(n)?(l=AO(e),u=Ba(l)):cl()===null?(a=!1,l=PO(e),u=Ba(l)):e[Bt]&&(Ha(e[Bt]),e[Bt]=null));try{Jg(e),OD(n.bindingStartIndex),t!==null&&lC(n,e,t,2,r),FO(e);let h=(i&3)===3;if(!o)if(h){let y=n.preOrderCheckHooks;y!==null&&od(e,y,null)}else{let y=n.preOrderHooks;y!==null&&sd(e,y,0,null),vm(e,0)}if(s||VO(e),_C(e),IC(e,0),n.contentQueries!==null&&Wb(n,e),!o)if(h){let y=n.contentCheckHooks;y!==null&&od(e,y)}else{let y=n.contentHooks;y!==null&&sd(e,y,1),vm(e,1)}UO(n,e);let p=n.components;p!==null&&TC(e,p,0);let m=n.viewQuery;if(m!==null&&Am(2,m,r),!o)if(h){let y=n.viewCheckHooks;y!==null&&od(e,y)}else{let y=n.viewHooks;y!==null&&sd(e,y,2),vm(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[zl]){for(let y of e[zl])y();e[zl]=null}o||(mC(e),e[Y]&=-73)}catch(h){throw o||ps(e),h}finally{l!==null&&(ul(l,u),a&&NO(l)),Jl()}}function FO(n){let e=n[ht];if(e?.enter){for(let t of e.enter)t();e.enter=void 0}}function IC(n,e){for(let t=Vb(n);t!==null;t=jb(t))for(let r=ze;r<t.length;r++){let i=t[r];wC(i,e)}}function VO(n){for(let e=Vb(n);e!==null;e=jb(e)){if(!(e[Y]&2))continue;let t=e[Gi];for(let r=0;r<t.length;r++){let i=t[r];Xg(i)}}}function jO(n,e,t){Te(18);let r=Xt(e,n);wC(r,t),Te(19,r[Ue])}function wC(n,e){Gl(n)&&Mm(n,e)}function Mm(n,e){let r=n[G],i=n[Y],o=n[Bt],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&$a(o)),s||=!1,o&&(o.dirty=!1),n[Y]&=-9217,s)LO(r,n,r.template,n[Ue]);else if(i&8192){let a=Z(null);try{_C(n),IC(n,1);let u=r.components;u!==null&&TC(n,u,1),mC(n)}finally{Z(a)}}}function TC(n,e,t){for(let r=0;r<e.length;r++)jO(n,e[r],t)}function UO(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Yr(~i);else{let o=i,s=t[++r],a=t[++r];FD(s,o);let u=e[o];Te(24,u),a(2,u),Te(25,u)}}}finally{Yr(-1)}}function py(n,e){let t=cm()?64:1088;for(n[Rn].changeDetectionScheduler?.notify(e);n;){n[Y]|=t;let r=qr(n);if(fs(n)&&!r)return n;n=r}return null}function DC(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function bC(n,e){let t=ze+e;if(t<n.length)return n[t]}function Bd(n,e,t,r=!0){let i=e[G];if(BO(i,e,n,t),r){let s=Nm(t,n),a=e[Be],u=a.parentNode(n[Kr]);u!==null&&Xx(i,n[Zt],a,e,u,s)}let o=e[us];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function CC(n,e){let t=mc(n,e);return t!==void 0&&Vd(t[G],t),t}function mc(n,e){if(n.length<=ze)return;let t=ze+e,r=n[t];if(r){let i=r[Wr];i!==null&&i!==n&&cy(i,r),e>0&&(n[t-1][Yt]=r[Yt]);let o=ec(n,ze+e);Jx(r[G],r);let s=o[Nn];s!==null&&s.detachView(o[G]),r[Xe]=null,r[Yt]=null,r[Y]&=-129}return r}function BO(n,e,t,r){let i=ze+r,o=t.length;r>0&&(t[i-1][Yt]=e),r<o-ze?(e[Yt]=t[i],Ug(t,ze+r,e)):(t.push(e),e[Yt]=null),e[Xe]=t;let s=e[Wr];s!==null&&t!==s&&SC(s,e);let a=e[Nn];a!==null&&a.insertView(n),Wl(e),e[Y]|=128}function SC(n,e){let t=n[Gi],r=e[Xe];if(Mn(r))n[Y]|=2;else{let i=r[Xe][Ut];e[Ut]!==i&&(n[Y]|=2)}t===null?n[Gi]=[e]:t.push(e)}var Zr=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,t=e[G];return gc(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t}get context(){return this._lView[Ue]}set context(e){this._lView[Ue]=e}get destroyed(){return Ki(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Xe];if(un(e)){let t=e[oc],r=t?t.indexOf(this):-1;r>-1&&(mc(e,r),ec(t,r))}this._attachedToViewContainer=!1}Vd(this._lView[G],this._lView)}onDestroy(e){em(this._lView,e)}markForCheck(){py(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Y]&=-129}reattach(){Wl(this._lView),this._lView[Y]|=128}detectChanges(){this._lView[Y]|=1024,EC(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new B(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=fs(this._lView),t=this._lView[Wr];t!==null&&!e&&cy(t,this._lView),cC(this._lView[G],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new B(902,!1);this._appRef=e;let t=fs(this._lView),r=this._lView[Wr];r!==null&&!t&&SC(r,this._lView),Wl(this._lView)}};var Es=(()=>{class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=$O;constructor(t,r,i){this._declarationLView=t,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,i){let o=Ud(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:i});return new Zr(o)}}return n})();function $O(){return gy(vt(),oe())}function gy(n,e){return n.type&4?new Es(e,n,ws(n,e)):null}function $d(n,e,t,r,i){let o=n.data[e];if(o===null)o=HO(n,e,t,r,i),LD()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=kD();o.injectorIndex=s===null?-1:s.injectorIndex}return gs(o,!0),o}function HO(n,e,t,r,i){let o=sm(),s=am(),a=s?o:o&&o.parent,u=n.data[e]=qO(n,a,t,e,r,i);return zO(n,u,o,s),u}function zO(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function qO(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return PD()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var UW=new RegExp(`^(\\d+)*(${Cx}|${bx})*(.*)`);function GO(n){let e=n[Qg]??[],r=n[Xe][Be],i=[];for(let o of e)o.data[Hb]!==void 0?i.push(o):WO(o,r);n[Qg]=i}function WO(n,e){let t=0,r=n.firstChild;if(r){let i=n.data[$b];for(;t<i;){let o=r.nextSibling;rC(e,r,!1),r=o,t++}}}var KO=()=>null,QO=()=>null;function Pm(n,e){return KO(n,e)}function AC(n,e,t){return QO(n,e,t)}var RC=class{},Hd=class{},km=class{resolveComponentFactory(e){throw new B(917,!1)}},_c=class{static NULL=new km},Xi=class{},io=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>YO()}return n})();function YO(){let n=oe(),e=vt(),t=Xt(e.index,n);return(Mn(t)?t:n)[Be]}var NC=(()=>{class n{static \u0275prov=j({token:n,providedIn:"root",factory:()=>null})}return n})();var cd={},xm=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){let i=this.injector.get(e,cd,r);return i!==cd||t===cd?i:this.parentInjector.get(e,t,r)}};function yd(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=Ng(i,a);else if(o==2){let u=a,l=e[++s];r=Ng(r,u+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function Ae(n,e=0){let t=oe();if(t===null)return $(n,e);let r=vt();return kb(r,t,Ot(n),e)}function my(){let n="invalid";throw new Error(n)}function ZO(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let a=s,u=null,l=null;for(let h of s)if(h.resolveHostDirectives!==null){[a,u,l]=h.resolveHostDirectives(s);break}e1(n,e,t,a,o,u,l)}o!==null&&r!==null&&JO(t,r,o)}function JO(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new B(-301,!1);r.push(e[i],o)}}function XO(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function e1(n,e,t,r,i,o,s){let a=r.length,u=!1;for(let m=0;m<a;m++){let y=r[m];!u&&Wi(y)&&(u=!0,XO(n,t,m)),hx(Rb(t,e),n,y.type)}s1(t,n.data.length,a);for(let m=0;m<a;m++){let y=r[m];y.providersResolver&&y.providersResolver(y)}let l=!1,h=!1,p=sC(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let m=0;m<a;m++){let y=r[m];if(t.mergedAttrs=Rd(t.mergedAttrs,y.hostAttrs),n1(n,t,e,p,y),o1(p,y,i),s!==null&&s.has(y)){let[M,N]=s.get(y);t.directiveToIndex.set(y.type,[p,M+t.directiveStart,N+t.directiveStart])}else(o===null||!o.has(y))&&t.directiveToIndex.set(y.type,p);y.contentQueries!==null&&(t.flags|=4),(y.hostBindings!==null||y.hostAttrs!==null||y.hostVars!==0)&&(t.flags|=64);let S=y.type.prototype;!l&&(S.ngOnChanges||S.ngOnInit||S.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),l=!0),!h&&(S.ngOnChanges||S.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),h=!0),p++}t1(n,t,o)}function t1(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))ib(0,e,i,r),ib(1,e,i,r),sb(e,r,!1);else{let o=t.get(i);ob(0,e,o,r),ob(1,e,o,r),sb(e,r,!0)}}}function ib(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),MC(e,o)}}function ob(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),MC(e,s)}}function MC(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function sb(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||ry(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let u=r[a];if(u===0){a+=4;continue}else if(u===5){a+=2;continue}else if(typeof u=="number")break;if(!t&&i.hasOwnProperty(u)){let l=i[u];for(let h of l)if(h===e){s??=[],s.push(u,r[a+1]);break}}else if(t&&o.hasOwnProperty(u)){let l=o[u];for(let h=0;h<l.length;h+=2)if(l[h]===e){s??=[],s.push(l[h+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function n1(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=zr(i.type,!0)),s=new fc(o,Wi(i),Ae,null);n.blueprint[r]=s,t[r]=s,r1(n,e,r,sC(n,t,i.hostVars,hr),i)}function r1(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;i1(s)!=a&&s.push(a),s.push(t,r,o)}}function i1(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function o1(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Wi(e)&&(t[""]=n)}}function s1(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function PC(n,e,t,r,i,o,s,a){let u=e[G],l=u.consts,h=Pn(l,s),p=$d(u,n,t,r,h);return o&&ZO(u,e,p,Pn(l,a),i),p.mergedAttrs=Rd(p.mergedAttrs,p.attrs),p.attrs!==null&&yd(p,p.attrs,!1),p.mergedAttrs!==null&&yd(p,p.mergedAttrs,!0),u.queries!==null&&u.queries.elementStart(u,p),p}function kC(n,e){nx(n,e),Yg(e)&&n.queries.elementEnd(e)}function a1(n,e,t,r,i,o){let s=e.consts,a=Pn(s,i),u=$d(e,n,t,r,a);if(u.mergedAttrs=Rd(u.mergedAttrs,u.attrs),o!=null){let l=Pn(s,o);u.localNames=[];for(let h=0;h<l.length;h+=2)u.localNames.push(l[h],-1)}return u.attrs!==null&&yd(u,u.attrs,!1),u.mergedAttrs!==null&&yd(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function yy(n,e,t){return n[e]=t}function c1(n,e){return n[e]}function On(n,e,t){if(t===hr)return!1;let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function u1(n,e,t,r){let i=On(n,e,t);return On(n,e+1,r)||i}function l1(n,e,t,r,i){let o=u1(n,e,t,r);return On(n,e+2,i)||o}function Im(n,e,t){return function r(i){let o=Qr(n)?Xt(n.index,e):e;py(o,5);let s=e[Ue],a=ab(e,s,t,i),u=r.__ngNextListenerFn__;for(;u;)a=ab(e,s,u,i)&&a,u=u.__ngNextListenerFn__;return a}}function ab(n,e,t,r){let i=Z(null);try{return Te(6,e,t),t(r)!==!1}catch(o){return DO(n,o),!1}finally{Te(7,e,t),Z(i)}}function d1(n,e,t,r,i,o,s,a){let u=ql(n),l=!1,h=null;if(!r&&u&&(h=f1(e,t,o,n.index)),h!==null){let p=h.__ngLastListenerFn__||h;p.__ngNextListenerFn__=s,h.__ngLastListenerFn__=s,l=!0}else{let p=ln(n,t),m=r?r(p):p;Ax(t,m,o,a);let y=i.listen(m,o,a);if(!h1(o)){let S=r?M=>r(Jt(M[n.index])):n.index;xC(S,e,t,o,a,y,!1)}}return l}function h1(n){return n.startsWith("animation")||n.startsWith("transition")}function f1(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[ls],u=i[o+2];return a&&a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function xC(n,e,t,r,i,o,s){let a=e.firstCreatePass?nm(e):null,u=tm(t),l=u.length;u.push(i,o),a&&a.push(r,n,l,(l+1)*(s?-1:1))}function cb(n,e,t,r,i,o){let s=e[t],a=e[G],l=a.data[t].outputs[r],p=s[l].subscribe(o);xC(n.index,a,e,i,o,p,!0)}var Om=Symbol("BINDING");var vd=class extends _c{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=cr(e);return new eo(t,this.ngModule)}};function p1(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&Ld.SignalBased)!==0};return i&&(o.transform=i),o})}function g1(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function m1(n,e,t){let r=e instanceof Ve?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new xm(t,r):t}function y1(n){let e=n.get(Xi,null);if(e===null)throw new B(407,!1);let t=n.get(NC,null),r=n.get(sr,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r,ngReflect:!1}}function v1(n,e){let t=OC(n);return tC(e,t,t==="svg"?ED:t==="math"?ID:null)}function OC(n){return(n.selectors[0][0]||"div").toLowerCase()}var eo=class extends Hd{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=p1(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=g1(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=$x(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i,o,s){Te(22);let a=Z(null);try{let u=this.componentDef,l=_1(r,u,s,o),h=m1(u,i||this.ngModule,e),p=y1(h),m=p.rendererFactory.createRenderer(null,u),y=r?dO(m,r,u.encapsulation,h):v1(u,m),S=s?.some(ub)||o?.some(L=>typeof L!="function"&&L.bindings.some(ub)),M=oy(null,l,null,512|oC(u),null,null,p,m,h,null,Gb(y,h,!0));M[et]=y,Zl(M);let N=null;try{let L=PC(et,M,2,"#host",()=>l.directiveRegistry,!0,0);iC(m,y,L),_s(y,M),dC(l,M,L),Kb(l,L,M),kC(l,L),t!==void 0&&I1(L,this.ngContentSelectors,t),N=Xt(L.index,M),M[Ue]=N[Ue],fy(l,M,null)}catch(L){throw N!==null&&Cm(N),Cm(M),L}finally{Te(23),Jl()}return new _d(this.componentType,M,!!S)}finally{Z(a)}}};function _1(n,e,t,r){let i=n?["ng-version","20.3.2"]:Hx(e.selectors[0]),o=null,s=null,a=0;if(t)for(let h of t)a+=h[Om].requiredVars,h.create&&(h.targetIdx=0,(o??=[]).push(h)),h.update&&(h.targetIdx=0,(s??=[]).push(h));if(r)for(let h=0;h<r.length;h++){let p=r[h];if(typeof p!="function")for(let m of p.bindings){a+=m[Om].requiredVars;let y=h+1;m.create&&(m.targetIdx=y,(o??=[]).push(m)),m.update&&(m.targetIdx=y,(s??=[]).push(m))}}let u=[e];if(r)for(let h of r){let p=typeof h=="function"?h:h.type,m=zg(p);u.push(m)}return iy(0,null,E1(o,s),1,a,u,null,null,null,[i],null)}function E1(n,e){return!n&&!e?null:t=>{if(t&1&&n)for(let r of n)r.create();if(t&2&&e)for(let r of e)r.update()}}function ub(n){let e=n[Om].kind;return e==="input"||e==="twoWay"}var _d=class extends RC{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t,r){super(),this._rootLView=t,this._hasInputBindings=r,this._tNode=sc(t[G],et),this.location=ws(this._tNode,t),this.instance=Xt(this._tNode.index,t)[Ue],this.hostView=this.changeDetectorRef=new Zr(t,void 0),this.componentType=e}setInput(e,t){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=hy(r,i[G],i,e,t);this.previousInputValues.set(e,t);let s=Xt(r.index,i);py(s,1)}get injector(){return new Ji(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function I1(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var oo=(()=>{class n{static __NG_ELEMENT_ID__=w1}return n})();function w1(){let n=vt();return FC(n,oe())}var T1=oo,LC=class extends T1{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return ws(this._hostTNode,this._hostLView)}get injector(){return new Ji(this._hostTNode,this._hostLView)}get parentInjector(){let e=Ym(this._hostTNode,this._hostLView);if(Cb(e)){let t=dd(e,this._hostLView),r=ld(e),i=t[G].data[r+8];return new Ji(i,t)}else return new Ji(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=lb(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-ze}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Pm(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,pc(this._hostTNode,s)),a}createComponent(e,t,r,i,o,s,a){let u=e&&!Zk(e),l;if(u)l=t;else{let N=t||{};l=N.index,r=N.injector,i=N.projectableNodes,o=N.environmentInjector||N.ngModuleRef,s=N.directives,a=N.bindings}let h=u?e:new eo(cr(e)),p=r||this.parentInjector;if(!o&&h.ngModule==null){let L=(u?p:this.parentInjector).get(Ve,null);L&&(o=L)}let m=cr(h.componentType??{}),y=Pm(this._lContainer,m?.id??null),S=y?.firstChild??null,M=h.create(p,i,S,o,s,a);return this.insertImpl(M.hostView,l,pc(this._hostTNode,y)),M}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(bD(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[Xe],l=new LC(u,u[Zt],u[Xe]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return Bd(s,i,o,r),e.attachToViewContainerRef(),Ug(wm(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=lb(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=mc(this._lContainer,t);r&&(ec(wm(this._lContainer),t),Vd(r[G],r))}detach(e){let t=this._adjustIndex(e,-1),r=mc(this._lContainer,t);return r&&ec(wm(this._lContainer),t)!=null?new Zr(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function lb(n){return n[oc]}function wm(n){return n[oc]||(n[oc]=[])}function FC(n,e){let t,r=e[n.index];return un(r)?t=r:(t=DC(r,e,null,n),e[n.index]=t,sy(e,t)),b1(t,e,n,r),new LC(t,n,e)}function D1(n,e){let t=n[Be],r=t.createComment(""),i=ln(e,n),o=t.parentNode(i);return md(t,o,r,t.nextSibling(i),!1),r}var b1=A1,C1=()=>!1;function S1(n,e,t){return C1(n,e,t)}function A1(n,e,t,r){if(n[Kr])return;let i;t.type&8?i=Jt(r):i=D1(e,t),n[Kr]=i}var Lm=class n{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},Fm=class n{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)vy(e,t).matches!==null&&this.queries[t].setDirty()}},Vm=class{flags;read;predicate;constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=L1(e):this.predicate=e}},jm=class n{queries;constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Um=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,t=-1){this.metadata=e,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,t,R1(t,o)),this.matchTNodeWithReadOption(e,t,ad(t,e,o,!1,!1))}else r===Es?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,ad(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===hn||i===oo||i===Es&&t.type&4)this.addMatch(t.index,-2);else{let o=ad(t,e,i,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function R1(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function N1(n,e){return n.type&11?ws(n,e):n.type&4?gy(n,e):null}function M1(n,e,t,r){return t===-1?N1(e,n):t===-2?P1(n,e,r):fd(n,n[G],t,e)}function P1(n,e,t){if(t===hn)return ws(e,n);if(t===Es)return gy(e,n);if(t===oo)return FC(e,n)}function VC(n,e,t,r){let i=e[Nn].queries[r];if(i.matches===null){let o=n.data,s=t.matches,a=[];for(let u=0;s!==null&&u<s.length;u+=2){let l=s[u];if(l<0)a.push(null);else{let h=o[l];a.push(M1(e,h,s[u+1],t.metadata.read))}}i.matches=a}return i.matches}function Bm(n,e,t,r){let i=n.queries.getByIndex(t),o=i.matches;if(o!==null){let s=VC(n,e,i,t);for(let a=0;a<o.length;a+=2){let u=o[a];if(u>0)r.push(s[a/2]);else{let l=o[a+1],h=e[-u];for(let p=ze;p<h.length;p++){let m=h[p];m[Wr]===m[Xe]&&Bm(m[G],m,l,r)}if(h[Gi]!==null){let p=h[Gi];for(let m=0;m<p.length;m++){let y=p[m];Bm(y[G],y,l,r)}}}}}return r}function k1(n,e){return n[Nn].queries[e].queryList}function x1(n,e,t){let r=new pd((t&4)===4);return AD(n,e,r,r.destroy),(e[Nn]??=new Fm).queries.push(new Lm(r))-1}function O1(n,e,t,r){let i=Ft();if(i.firstCreatePass){let o=vt();F1(i,new Vm(e,t,r),o.index),V1(i,n),(t&2)===2&&(i.staticContentQueries=!0)}return x1(i,oe(),t)}function L1(n){return n.split(",").map(e=>e.trim())}function F1(n,e,t){n.queries===null&&(n.queries=new jm),n.queries.track(new Um(e,t))}function V1(n,e){let t=n.contentQueries||(n.contentQueries=[]),r=t.length?t[t.length-1]:-1;e!==r&&t.push(n.queries.length-1,e)}function vy(n,e){return n.queries.getByIndex(e)}function j1(n,e){let t=n[G],r=vy(t,e);return r.crossesNgTemplate?Bm(t,n,e,[]):VC(t,n,r,e)}var db=new Set;function fn(n){db.has(n)||(db.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var to=class{},zd=class{};var Ed=class extends to{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new vd(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=Hg(e);this._bootstrapComponents=Xb(o.bootstrap),this._r3Injector=fm(e,t,[{provide:to,useValue:this},{provide:_c,useValue:this.componentFactoryResolver},...r],Hr(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Id=class extends zd{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Ed(this.moduleType,e,[])}};var yc=class extends to{injector;componentFactoryResolver=new vd(this);instance=null;constructor(e){super();let t=new Ui([...e.providers,{provide:to,useValue:this},{provide:_c,useValue:this.componentFactoryResolver}],e.parent||nc(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Ts(n,e,t=null){return new yc({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var U1=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=qg(!1,t.type),i=r.length>0?Ts([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=j({token:n,providedIn:"environment",factory:()=>new n($(Ve))})}return n})();function Rt(n){return Is(()=>{let e=jC(n),t=me(F({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Zm.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(U1).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||dr.Emulated,styles:n.styles||sn,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&fn("NgStandalone"),UC(t);let r=n.dependencies;return t.directiveDefs=hb(r,B1),t.pipeDefs=hb(r,hD),t.id=z1(t),t})}function B1(n){return cr(n)||zg(n)}function so(n){return Is(()=>({type:n.type,bootstrap:n.bootstrap||sn,declarations:n.declarations||sn,imports:n.imports||sn,exports:n.exports||sn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function $1(n,e){if(n==null)return $i;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a,u;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,a=Ld.None,u=null),t[o]=[r,a,u],e[o]=s}return t}function H1(n){if(n==null)return $i;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function ei(n){return Is(()=>{let e=jC(n);return UC(e),e})}function _y(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function jC(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||$i,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||sn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:$1(n.inputs,e),outputs:H1(n.outputs),debugInfo:null}}function UC(n){n.features?.forEach(e=>e(n))}function hb(n,e){return n?()=>{let t=typeof n=="function"?n():n,r=[];for(let i of t){let o=e(i);o!==null&&r.push(o)}return r}:null}function z1(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function q1(n,e,t,r,i,o,s,a){if(t.firstCreatePass){n.mergedAttrs=Rd(n.mergedAttrs,n.attrs);let h=n.tView=iy(2,n,i,o,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,t.consts,null);t.queries!==null&&(t.queries.template(t,n),h.queries=t.queries.embeddedTView(n))}a&&(n.flags|=a),gs(n,!1);let u=G1(t,e,n,r);ed()&&uy(t,e,u,n),_s(u,e);let l=DC(u,e,u,n);e[r+et]=l,sy(e,l),S1(l,n,e)}function wd(n,e,t,r,i,o,s,a,u,l,h){let p=t+et,m;if(e.firstCreatePass){if(m=$d(e,p,4,s||null,a||null),l!=null){let y=Pn(e.consts,l);m.localNames=[];for(let S=0;S<y.length;S+=2)m.localNames.push(y[S],-1)}}else m=e.data[p];return q1(m,n,e,t,r,i,o,u),l!=null&&dy(n,m,h),m}var G1=W1;function W1(n,e,t,r){return td(!0),e[Be].createComment("")}var qd=(function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n})(qd||{}),ao=new U(""),BC=!1,$m=class extends Ze{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,vD()&&(this.destroyRef=P(ur,{optional:!0})??void 0,this.pendingTasks=P(kn,{optional:!0})??void 0)}emit(e){let t=Z(null);try{super.next(e)}finally{Z(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof ke&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Et=$m;function $C(n){let e,t;function r(){n=lc;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function fb(n){return queueMicrotask(()=>n()),()=>{n=lc}}var Ey="isAngularZone",Td=Ey+"_ID",K1=0,pe=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Et(!1);onMicrotaskEmpty=new Et(!1);onStable=new Et(!1);onError=new Et(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=BC}=e;if(typeof Zone>"u")throw new B(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,Z1(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Ey)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new B(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new B(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,Q1,lc,lc);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},Q1={};function Iy(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Y1(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){$C(()=>{n.callbackScheduled=!1,Hm(n),n.isCheckStableRunning=!0,Iy(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),Hm(n)}function Z1(n){let e=()=>{Y1(n)},t=K1++;n._inner=n._inner.fork({name:"angular",properties:{[Ey]:!0,[Td]:t,[Td+t]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(J1(u))return r.invokeTask(o,s,a,u);try{return pb(n),r.invokeTask(o,s,a,u)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),gb(n)}},onInvoke:(r,i,o,s,a,u,l)=>{try{return pb(n),r.invoke(o,s,a,u,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!X1(u)&&e(),gb(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,Hm(n),Iy(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function Hm(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function pb(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function gb(n){n._nesting--,Iy(n)}var Dd=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Et;onMicrotaskEmpty=new Et;onStable=new Et;onError=new Et;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function J1(n){return HC(n,"__ignore_ng_zone__")}function X1(n){return HC(n,"__scheduler_tick__")}function HC(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var wy=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=j({token:n,providedIn:"root",factory:()=>new n})}return n})(),zC=[0,1,2,3],qC=(()=>{class n{ngZone=P(pe);scheduler=P(sr);errorHandler=P(an,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){P(ao,{optional:!0})}execute(){let t=this.sequences.size>0;t&&Te(16),this.executing=!0;for(let r of zC)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&Te(17)}register(t){let{view:r}=t;r!==void 0?((r[qi]??=[]).push(t),ps(r),r[Y]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(qd.AFTER_NEXT_RENDER,t):t()}static \u0275prov=j({token:n,providedIn:"root",factory:()=>new n})}return n})(),bd=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,r,i,o,s=null){this.impl=e,this.hooks=t,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[qi];e&&(this.view[qi]=e.filter(t=>t!==this))}};function Ty(n,e){let t=e?.injector??P(je);return fn("NgAfterNextRender"),tL(n,t,e,!0)}function eL(n){return n instanceof Function?[void 0,void 0,n,void 0]:[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function tL(n,e,t,r){let i=e.get(wy);i.impl??=e.get(qC);let o=e.get(ao,null,{optional:!0}),s=t?.manualCleanup!==!0?e.get(ur):null,a=e.get(nd,null,{optional:!0}),u=new bd(i.impl,eL(n),a?.view,r,s,o?.snapshot(null));return i.impl.register(u),u}var Dy=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var by=new U("");function co(n){return!!n&&typeof n.then=="function"}function Gd(n){return!!n&&typeof n.subscribe=="function"}var Cy=new U("");function Wd(n){return Lt([{provide:Cy,multi:!0,useValue:n}])}var Sy=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=P(Cy,{optional:!0})??[];injector=P(je);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=He(this.injector,i);if(co(o))t.push(o);else if(Gd(o)){let s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ec=new U("");function GC(){tg(()=>{let n="";throw new B(600,n)})}function WC(n){return n.isBoundToModule}var nL=10;var uo=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=P(_t);afterRenderManager=P(wy);zonelessEnabled=P(uc);rootEffectScheduler=P(ym);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new Ze;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=P(kn);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(re(t=>!t))}constructor(){P(ao,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=P(Ve);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=je.NULL){return this._injector.get(pe).run(()=>{Te(10);let s=t instanceof Hd;if(!this._injector.get(Sy).done){let S="";throw new B(405,S)}let u;s?u=t:u=this._injector.get(_c).resolveComponentFactory(t),this.componentTypes.push(u.componentType);let l=WC(u)?void 0:this._injector.get(to),h=r||u.selector,p=u.create(i,[],h,l),m=p.location.nativeElement,y=p.injector.get(by,null);return y?.registerApplication(m),p.onDestroy(()=>{this.detachView(p.hostView),hc(this.components,p),y?.unregisterApplication(m)}),this._loadComponent(p),Te(11,p),p})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Te(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(qd.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new B(101,!1);let t=Z(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,Z(t),this.afterTick.next(),Te(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Xi,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<nL;)Te(14),this.synchronizeOnce(),Te(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!ac(i))continue;let o=r&&!this.zonelessEnabled?0:1;EC(i,o),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>ac(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;hc(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(t),this._injector.get(Ec,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>hc(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new B(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function hc(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function Kd(n,e,t,r){let i=oe(),o=Zi();if(On(i,o,e)){let s=Ft(),a=Xl();IO(a,i,n,e,t,r)}return Kd}var WW=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";var zm=class{destroy(e){}updateValue(e,t){}swap(e,t){let r=Math.min(e,t),i=Math.max(e,t),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(e,t){this.attach(t,this.detach(e,!0))}};function Tm(n,e,t,r,i){return n===t&&Object.is(e,r)?1:Object.is(i(n,e),i(t,r))?-1:0}function rL(n,e,t){let r,i,o=0,s=n.length-1,a=void 0;if(Array.isArray(e)){let u=e.length-1;for(;o<=s&&o<=u;){let l=n.at(o),h=e[o],p=Tm(o,l,o,h,t);if(p!==0){p<0&&n.updateValue(o,h),o++;continue}let m=n.at(s),y=e[u],S=Tm(s,m,u,y,t);if(S!==0){S<0&&n.updateValue(s,y),s--,u--;continue}let M=t(o,l),N=t(s,m),L=t(o,h);if(Object.is(L,N)){let z=t(u,y);Object.is(z,M)?(n.swap(o,s),n.updateValue(s,y),u--,s--):n.move(s,o),n.updateValue(o,h),o++;continue}if(r??=new Cd,i??=yb(n,o,s,t),qm(n,r,o,L))n.updateValue(o,h),o++,s++;else if(i.has(L))r.set(M,n.detach(o)),s--;else{let z=n.create(o,e[o]);n.attach(o,z),o++,s++}}for(;o<=u;)mb(n,r,t,o,e[o]),o++}else if(e!=null){let u=e[Symbol.iterator](),l=u.next();for(;!l.done&&o<=s;){let h=n.at(o),p=l.value,m=Tm(o,h,o,p,t);if(m!==0)m<0&&n.updateValue(o,p),o++,l=u.next();else{r??=new Cd,i??=yb(n,o,s,t);let y=t(o,p);if(qm(n,r,o,y))n.updateValue(o,p),o++,s++,l=u.next();else if(!i.has(y))n.attach(o,n.create(o,p)),o++,s++,l=u.next();else{let S=t(o,h);r.set(S,n.detach(o)),s--}}}for(;!l.done;)mb(n,r,t,n.length,l.value),l=u.next()}for(;o<=s;)n.destroy(n.detach(s--));r?.forEach(u=>{n.destroy(u)})}function qm(n,e,t,r){return e!==void 0&&e.has(r)?(n.attach(t,e.get(r)),e.delete(r),!0):!1}function mb(n,e,t,r,i){if(qm(n,e,r,t(r,i)))n.updateValue(r,i);else{let o=n.create(r,i);n.attach(r,o)}}function yb(n,e,t,r){let i=new Set;for(let o=e;o<=t;o++)i.add(r(o,n.at(o)));return i}var Cd=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let t=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(e,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,t){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,t)}else this.kvMap.set(e,t)}forEach(e){for(let[t,r]of this.kvMap)if(e(r,t),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,t)}}};function fr(n,e,t,r,i,o,s,a){fn("NgControlFlow");let u=oe(),l=Ft(),h=Pn(l.consts,o);return wd(u,l,n,e,t,r,i,h,256,s,a),Ds}function Ds(n,e,t,r,i,o,s,a){fn("NgControlFlow");let u=oe(),l=Ft(),h=Pn(l.consts,o);return wd(u,l,n,e,t,r,i,h,512,s,a),Ds}function pr(n,e){fn("NgControlFlow");let t=oe(),r=Zi(),i=t[r]!==hr?t[r]:-1,o=i!==-1?Sd(t,et+i):void 0,s=0;if(On(t,r,n)){let a=Z(null);try{if(o!==void 0&&CC(o,s),n!==-1){let u=et+n,l=Sd(t,u),h=Qm(t[G],u),p=AC(l,h,t),m=Ud(t,h,e,{dehydratedView:p});Bd(l,m,s,pc(h,p))}}finally{Z(a)}}else if(o!==void 0){let a=bC(o,s);a!==void 0&&(a[Ue]=e)}}var Gm=class{lContainer;$implicit;$index;constructor(e,t,r){this.lContainer=e,this.$implicit=t,this.$index=r}get $count(){return this.lContainer.length-ze}};var Wm=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,t,r){this.hasEmptyBlock=e,this.trackByFn=t,this.liveCollection=r}};function Ay(n,e,t,r,i,o,s,a,u,l,h,p,m){fn("NgControlFlow");let y=oe(),S=Ft(),M=u!==void 0,N=oe(),L=a?s.bind(N[Ut][Ue]):s,z=new Wm(M,L);N[et+n]=z,wd(y,S,n+1,e,t,r,i,Pn(S.consts,o),256),M&&wd(y,S,n+2,u,l,h,p,Pn(S.consts,m),512)}var Km=class extends zm{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,t,r){super(),this.lContainer=e,this.hostLView=t,this.templateTNode=r}get length(){return this.lContainer.length-ze}at(e){return this.getLView(e)[Ue].$implicit}attach(e,t){let r=t[us];this.needsIndexUpdate||=e!==this.length,Bd(this.lContainer,t,e,pc(this.templateTNode,r))}detach(e,t){return this.needsIndexUpdate||=e!==this.length-1,t&&iL(this.lContainer,e),oL(this.lContainer,e)}create(e,t){let r=Pm(this.lContainer,this.templateTNode.tView.ssrId),i=Ud(this.hostLView,this.templateTNode,new Gm(this.lContainer,t,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){Vd(e[G],e),this.operationsCounter?.recordDestroy()}updateValue(e,t){this.getLView(e)[Ue].$implicit=t}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[Ue].$index=e}getLView(e){return sL(this.lContainer,e)}};function Ry(n){let e=Z(null),t=cc();try{let r=oe(),i=r[G],o=r[t],s=t+1,a=Sd(r,s);if(o.liveCollection===void 0){let l=Qm(i,s);o.liveCollection=new Km(a,r,l)}else o.liveCollection.reset();let u=o.liveCollection;if(rL(u,n,o.trackByFn),u.updateIndexes(),o.hasEmptyBlock){let l=Zi(),h=u.length===0;if(On(r,l,h)){let p=t+2,m=Sd(r,p);if(h){let y=Qm(i,p),S=AC(m,y,r),M=Ud(r,y,void 0,{dehydratedView:S});Bd(m,M,0,pc(y,S))}else i.firstUpdatePass&&GO(m),CC(m,0)}}}finally{Z(e)}}function Sd(n,e){return n[e]}function iL(n,e){if(n.length<=ze)return;let t=ze+e,r=n[t];r&&r[ht]&&(r[ht].skipLeaveAnimations=!0)}function oL(n,e){return mc(n,e)}function sL(n,e){return bC(n,e)}function Qm(n,e){return sc(n,e)}function gr(n,e,t){let r=oe(),i=Zi();if(On(r,i,e)){let o=Ft(),s=Xl();gO(s,r,n,e,r[Be],t)}return gr}function vb(n,e,t,r,i){hy(e,n,t,i?"class":"style",r)}function ve(n,e,t,r){let i=oe(),o=i[G],s=n+et,a=o.firstCreatePass?PC(s,i,2,e,EO,MD(),t,r):o.data[s];if(fC(a,i,n,e,KC),ql(a)){let u=i[G];dC(u,i,a),Kb(u,a,i)}return r!=null&&dy(i,a),ve}function _e(){let n=Ft(),e=vt(),t=pC(e);return n.firstCreatePass&&kC(n,t),im(t)&&om(),rm(),t.classesWithoutHost!=null&&ix(t)&&vb(n,t,oe(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&ox(t)&&vb(n,t,oe(),t.stylesWithoutHost,!1),_e}function tt(n,e,t,r){return ve(n,e,t,r),_e(),tt}function Se(n,e,t,r){let i=oe(),o=i[G],s=n+et,a=o.firstCreatePass?a1(s,o,2,e,t,r):o.data[s];return fC(a,i,n,e,KC),r!=null&&dy(i,a),Se}function Re(){let n=vt(),e=pC(n);return im(e)&&om(),rm(),Re}function pn(n,e,t,r){return Se(n,e,t,r),Re(),pn}var KC=(n,e,t,r,i)=>(td(!0),tC(e[Be],r,HD()));function bs(){return oe()}function Qd(n,e,t){let r=oe(),i=Zi();if(On(r,i,e)){let o=Ft(),s=Xl();hC(s,r,n,e,r[Be],t)}return Qd}var Ic="en-US";var aL=Ic;function QC(n){typeof n=="string"&&(aL=n.toLowerCase().replace(/_/g,"-"))}function mr(n,e,t){let r=oe(),i=Ft(),o=vt();return cL(i,r,r[Be],o,n,e,t),mr}function cL(n,e,t,r,i,o,s){let a=!0,u=null;if((r.type&3||s)&&(u??=Im(r,e,o),d1(r,n,e,s,t,i,o,u)&&(a=!1)),a){let l=r.outputs?.[i],h=r.hostDirectiveOutputs?.[i];if(h&&h.length)for(let p=0;p<h.length;p+=2){let m=h[p],y=h[p+1];u??=Im(r,e,o),cb(r,e,m,y,i,u)}if(l&&l.length)for(let p of l)u??=Im(r,e,o),cb(r,e,p,i,i,u)}}function ti(n=1){return $D(n)}function Ny(n,e,t,r){O1(n,e,t,r)}function My(n){let e=oe(),t=Ft(),r=lm();Yl(r+1);let i=vy(t,r);if(n.dirty&&DD(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let o=j1(e,r);n.reset(o,_x),n.notifyOnChanges()}return!0}return!1}function Py(){return k1(oe(),lm())}function ce(n,e=""){let t=oe(),r=Ft(),i=n+et,o=r.firstCreatePass?$d(r,i,1,e,null):r.data[i],s=uL(r,t,o,e,n);t[i]=s,ed()&&uy(r,t,s,o),gs(o,!1)}var uL=(n,e,t,r,i)=>(td(!0),zx(e[Be],r));function lL(n,e,t,r=""){return On(n,Zi(),t)?e+Xa(t)+r:hr}function lo(n){return wc("",n),lo}function wc(n,e,t){let r=oe(),i=lL(r,n,e,t);return i!==hr&&dL(r,cc(),i),wc}function dL(n,e,t){let r=wD(e,n);qx(n[Be],r,t)}function Yd(n,e,t){let r=Kl()+n,i=oe();return i[r]===hr?yy(i,r,t?e.call(t):e()):c1(i,r)}function ky(n,e,t,r,i,o){return fL(oe(),Kl(),n,e,t,r,i,o)}function YC(n,e){let t=n[e];return t===hr?void 0:t}function hL(n,e,t,r,i,o){let s=e+t;return On(n,s,i)?yy(n,s+1,o?r.call(o,i):r(i)):YC(n,s+1)}function fL(n,e,t,r,i,o,s,a){let u=e+t;return l1(n,u,i,o,s)?yy(n,u+3,a?r.call(a,i,o,s):r(i,o,s)):YC(n,u+3)}function Cs(n,e){let t=Ft(),r,i=n+et;t.firstCreatePass?(r=pL(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=zr(r.type,!0)),s,a=At(Ae);try{let u=hd(!1),l=o();return hd(u),Zg(t,oe(),i,l),l}finally{At(a)}}function pL(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function Ss(n,e,t){let r=n+et,i=oe(),o=TD(i,r);return gL(i,r)?hL(i,Kl(),e,o.transform,t,o):o.transform(t)}function gL(n,e){return n[G].data[e].pure}var Ad=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},xy=(()=>{class n{compileModuleSync(t){return new Id(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=Hg(t),o=Xb(i.declarations).reduce((s,a)=>{let u=cr(a);return u&&s.push(new eo(u)),s},[]);return new Ad(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var mL=(()=>{class n{zone=P(pe);changeDetectionScheduler=P(sr);applicationRef=P(uo);applicationErrorHandler=P(_t);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(t){this.applicationErrorHandler(t)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ZC=new U("",{factory:()=>!1});function Oy({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new pe(me(F({},Fy()),{scheduleInRootZone:t})),[{provide:pe,useFactory:n},{provide:ar,multi:!0,useFactory:()=>{let r=P(mL,{optional:!0});return()=>r.initialize()}},{provide:ar,multi:!0,useFactory:()=>{let r=P(yL);return()=>{r.initialize()}}},e===!0?{provide:gm,useValue:!0}:[],{provide:mm,useValue:t??BC},{provide:_t,useFactory:()=>{let r=P(pe),i=P(Ve),o;return s=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw s}):(o??=i.get(an),o.handleError(s))})}}}]}function Ly(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=Oy({ngZoneFactory:()=>{let i=Fy(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&fn("NgZone_CoalesceEvent"),new pe(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return Lt([{provide:ZC,useValue:!0},{provide:uc,useValue:!1},r])}function Fy(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var yL=(()=>{class n{subscription=new ke;initialized=!1;zone=P(pe);pendingTasks=P(kn);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{pe.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{pe.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var JC=(()=>{class n{applicationErrorHandler=P(_t);appRef=P(uo);taskService=P(kn);ngZone=P(pe);zonelessEnabled=P(uc);tracing=P(ao,{optional:!0});disableScheduling=P(gm,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new ke;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Td):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(P(mm,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Dd||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?fb:$C;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Td+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(t),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,fb(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function vL(){return typeof $localize<"u"&&$localize.locale||Ic}var Zd=new U("",{providedIn:"root",factory:()=>P(Zd,{optional:!0,skipSelf:!0})||vL()});function en(n){return tD(n)}var XC=class{[Pt];constructor(e){this[Pt]=e}destroy(){this[Pt].destroy()}};var nS=Symbol("InputSignalNode#UNSET"),PL=me(F({},ll),{transformFn:void 0,applyValueToInputSignal(n,e){Wo(n,e)}});function rS(n,e){let t=Object.create(PL);t.value=n,t.transformFn=e?.transform;function r(){if(Ua(t),t.value===nS){let i=null;throw new B(-950,i)}return t.value}return r[Pt]=t,r}var Xd=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>vc(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},kL=new U("");kL.__NG_ELEMENT_ID__=n=>{let e=vt();if(e===null)throw new B(204,!1);if(e.type&2)return e.value;if(n&8)return null;throw new B(204,!1)};function eS(n,e){return rS(n,e)}function xL(n){return rS(nS,n)}var iS=(eS.required=xL,eS);var Vy=new U(""),OL=new U("");function Tc(n){return!n.moduleRef}function LL(n){let e=Tc(n)?n.r3Injector:n.moduleRef.injector,t=e.get(pe);return t.run(()=>{Tc(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(_t),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:r})}),Tc(n)){let o=()=>e.destroy(),s=n.platformInjector.get(Vy);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(Vy);s.add(o),n.moduleRef.onDestroy(()=>{hc(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return VL(r,t,()=>{let o=e.get(kn),s=o.add(),a=e.get(Sy);return a.runInitializers(),a.donePromise.then(()=>{let u=e.get(Zd,Ic);if(QC(u||Ic),!e.get(OL,!0))return Tc(n)?e.get(uo):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(Tc(n)){let h=e.get(uo);return n.rootComponent!==void 0&&h.bootstrap(n.rootComponent),h}else return FL?.(n.moduleRef,n.allPlatformModules),n.moduleRef}).finally(()=>void o.remove(s))})})}var FL;function VL(n,e,t){try{let r=t();return co(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n(r)),r}}var Jd=null;function jL(n=[],e){return je.create({name:e,providers:[{provide:tc,useValue:"platform"},{provide:Vy,useValue:new Set([()=>Jd=null])},...n]})}function UL(n=[]){if(Jd)return Jd;let e=jL(n);return Jd=e,GC(),BL(e),e}function BL(n){let e=n.get(Pd,null);He(n,()=>{e?.forEach(t=>t())})}function jy(){return!1}var ho=(()=>{class n{static __NG_ELEMENT_ID__=$L}return n})();function $L(n){return HL(vt(),oe(),(n&16)===16)}function HL(n,e,t){if(Qr(n)&&!t){let r=Xt(n.index,e);return new Zr(r,r)}else if(n.type&175){let r=e[Ut];return new Zr(r,e)}return null}function oS(n){let{rootComponent:e,appProviders:t,platformProviders:r,platformRef:i}=n;Te(8);try{let o=i?.injector??UL(r),s=[Oy({}),{provide:sr,useExisting:JC},qD,...t||[]],a=new yc({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return LL({r3Injector:a.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{Te(9)}}function Dc(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function sS(n){let e=cr(n);if(!e)return null;let t=new eo(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var uS=null;function yr(){return uS}function Uy(n){uS??=n}var bc=class{},Cc=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:()=>P(lS),providedIn:"platform"})}return n})(),By=new U(""),lS=(()=>{class n extends Cc{_location;_history;_doc=P($e);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return yr().getBaseHref(this._doc)}onPopState(t){let r=yr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=yr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function eh(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function aS(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function gn(n){return n&&n[0]!=="?"?`?${n}`:n}var mn=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:()=>P(nh),providedIn:"root"})}return n})(),th=new U(""),nh=(()=>{class n extends mn{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??P($e).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return eh(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+gn(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+gn(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+gn(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)($(Cc),$(th,8))};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ni=(()=>{class n{_subject=new Ze;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=GL(aS(cS(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+gn(r))}normalize(t){return n.stripTrailingSlash(qL(this._basePath,cS(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+gn(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+gn(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=gn;static joinWithSlash=eh;static stripTrailingSlash=aS;static \u0275fac=function(r){return new(r||n)($(mn))};static \u0275prov=j({token:n,factory:()=>zL(),providedIn:"root"})}return n})();function zL(){return new ni($(mn))}function qL(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function cS(n){return n.replace(/\/index.html$/,"")}function GL(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var qy=(()=>{class n extends mn{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=eh(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+gn(o))||this._platformLocation.pathname;this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+gn(o))||this._platformLocation.pathname;this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)($(Cc),$(th,8))};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})();var $y=/\s+/,dS=[],Gy=(()=>{class n{_ngEl;_renderer;initialClasses=dS;rawClass;stateMap=new Map;constructor(t,r){this._ngEl=t,this._renderer=r}set klass(t){this.initialClasses=t!=null?t.trim().split($y):dS}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split($y):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split($y).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||n)(Ae(hn),Ae(io))};static \u0275dir=ei({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return n})();function WL(n,e){return new B(2100,!1)}var Hy=class{createSubscription(e,t,r){return en(()=>e.subscribe({next:t,error:r}))}dispose(e){en(()=>e.unsubscribe())}},zy=class{createSubscription(e,t,r){return e.then(i=>t?.(i),i=>r?.(i)),{unsubscribe:()=>{t=null,r=null}}}dispose(e){e.unsubscribe()}},KL=new zy,QL=new Hy,Sc=(()=>{class n{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;applicationErrorHandler=P(_t);constructor(t){this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){if(!this._obj){if(t)try{this.markForCheckOnValueUpdate=!1,this._subscribe(t)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r),r=>this.applicationErrorHandler(r))}_selectStrategy(t){if(co(t))return KL;if(Gd(t))return QL;throw WL(n,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||n)(Ae(ho,16))};static \u0275pipe=_y({name:"async",type:n,pure:!1})}return n})();var ri=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=so({type:n});static \u0275inj=Gr({})}return n})();function Wy(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Ac=class{};var hS="browser";var fS=(()=>{class n{static \u0275prov=j({token:n,providedIn:"root",factory:()=>new Ky(P($e),window)})}return n})(),Ky=class{document;window;offset=()=>[0,0];constructor(e,t){this.document=e,this.window=t}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e,t){this.window.scrollTo(me(F({},t),{left:e[0],top:e[1]}))}scrollToAnchor(e,t){let r=ZL(this.document,e);r&&(this.scrollToElement(r,t),r.focus())}setHistoryScrollRestoration(e){try{this.window.history.scrollRestoration=e}catch{console.warn(cs(2400,!1))}}scrollToElement(e,t){let r=e.getBoundingClientRect(),i=r.left+this.window.pageXOffset,o=r.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(me(F({},t),{left:i-s[0],top:o-s[1]}))}};function ZL(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var oh=new U(""),Xy=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new B(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)($(oh),$(pe))};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})(),Rc=class{_doc;constructor(e){this._doc=e}manager},Qy="ng-app-id";function pS(n){for(let e of n)e.remove()}function gS(n,e){let t=e.createElement("style");return t.textContent=n,t}function JL(n,e,t,r){let i=n.head?.querySelectorAll(`style[${Qy}="${e}"],link[${Qy}="${e}"]`);if(i)for(let o of i)o.removeAttribute(Qy),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function Zy(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var ev=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,JL(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,gS);r?.forEach(i=>this.addUsage(i,this.external,Zy))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(pS(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])pS(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,gS(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,Zy(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)($($e),$(Md),$(kd,8),$(Jr))};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})(),Yy={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},tv=/%COMP%/g;var yS="%COMP%",XL=`_nghost-${yS}`,eF=`_ngcontent-${yS}`,tF=!0,nF=new U("",{providedIn:"root",factory:()=>tF});function rF(n){return eF.replace(tv,n)}function iF(n){return XL.replace(tv,n)}function vS(n,e){return e.map(t=>t.replace(tv,n))}var nv=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,a,u,l=null,h=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=u,this.nonce=l,this.tracingService=h,this.platformIsServer=!1,this.defaultRenderer=new Nc(t,s,u,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(t,r);return i instanceof ih?i.applyToHost(t):i instanceof Mc&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer,m=this.tracingService;switch(r.encapsulation){case dr.Emulated:o=new ih(u,l,r,this.appId,h,s,a,p,m);break;case dr.ShadowDom:return new Jy(u,l,t,r,s,a,this.nonce,p,m);default:o=new Mc(u,l,r,h,s,a,p,m);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)($(Xy),$(ev),$(Md),$(nF),$($e),$(Jr),$(pe),$(kd),$(ao,8))};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})(),Nc=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(Yy[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(mS(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(mS(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new B(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=Yy[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=Yy[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Xr.DashCase|Xr.Important)?e.style.setProperty(t,r,i&Xr.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Xr.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=yr().getGlobalEventTarget(this.doc,e),!e))throw new B(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;e(t)===!1&&t.preventDefault()}}};function mS(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Jy=class extends Nc{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,a,u,l){super(e,o,s,u,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=i.styles;h=vS(i.id,h);for(let m of h){let y=document.createElement("style");a&&y.setAttribute("nonce",a),y.textContent=m,this.shadowRoot.appendChild(y)}let p=i.getExternalStyles?.();if(p)for(let m of p){let y=Zy(m,o);a&&y.setAttribute("nonce",a),this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Mc=class extends Nc{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,a,u,l){super(e,o,s,a,u),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let h=r.styles;this.styles=l?vS(l,h):h,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&Fd.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},ih=class extends Mc{contentAttr;hostAttr;constructor(e,t,r,i,o,s,a,u,l){let h=i+"-"+r.id;super(e,t,r,o,s,a,u,l,h),this.contentAttr=rF(h),this.hostAttr=iF(h)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var sh=class n extends bc{supportsDOMEvents=!0;static makeCurrent(){Uy(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=oF();return t==null?null:sF(t)}resetBaseElement(){Pc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Wy(document.cookie,e)}},Pc=null;function oF(){return Pc=Pc||document.head.querySelector("base"),Pc?Pc.getAttribute("href"):null}function sF(n){return new URL(n,document.baseURI).pathname}var aF=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})(),ES=(()=>{class n extends Rc{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)($($e))};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})(),_S=["alt","control","meta","shift"],cF={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},uF={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},IS=(()=>{class n extends Rc{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>yr().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),_S.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(t,r){let i=cF[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),_S.forEach(s=>{if(s!==i){let a=uF[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)($($e))};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})();function rv(n,e,t){let r=F({rootComponent:n,platformRef:t?.platformRef},lF(e));return oS(r)}function lF(n){return{appProviders:[...gF,...n?.providers??[]],platformProviders:pF}}function dF(){sh.makeCurrent()}function hF(){return new an}function fF(){return Jm(document),document}var pF=[{provide:Jr,useValue:hS},{provide:Pd,useValue:dF,multi:!0},{provide:$e,useFactory:fF}];var gF=[{provide:tc,useValue:"root"},{provide:an,useFactory:hF},{provide:oh,useClass:ES,multi:!0,deps:[$e]},{provide:oh,useClass:IS,multi:!0,deps:[$e]},nv,ev,Xy,{provide:Xi,useExisting:nv},{provide:Ac,useClass:aF},[]];var wS=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)($($e))};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ne="primary",qc=Symbol("RouteTitle"),cv=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function go(n){return new cv(n)}function NS(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function yF(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Ln(n[t],e[t]))return!1;return!0}function Ln(n,e){let t=n?uv(n):void 0,r=e?uv(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!MS(n[i],e[i]))return!1;return!0}function uv(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function MS(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function PS(n){return n.length>0?n[n.length-1]:null}function vr(n){return gg(n)?n:co(n)?we(Promise.resolve(n)):q(n)}var vF={exact:xS,subset:OS},kS={exact:_F,subset:EF,ignored:()=>!0};function TS(n,e,t){return vF[t.paths](n.root,e.root,t.matrixParams)&&kS[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function _F(n,e){return Ln(n,e)}function xS(n,e,t){if(!fo(n.segments,e.segments)||!uh(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!xS(n.children[r],e.children[r],t))return!1;return!0}function EF(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>MS(n[t],e[t]))}function OS(n,e,t){return LS(n,e,e.segments,t)}function LS(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!fo(i,t)||e.hasChildren()||!uh(i,t,r))}else if(n.segments.length===t.length){if(!fo(n.segments,t)||!uh(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!OS(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!fo(n.segments,i)||!uh(n.segments,i,r)||!n.children[ne]?!1:LS(n.children[ne],e,o,r)}}function uh(n,e,t){return e.every((r,i)=>kS[t](n[i].parameters,r.parameters))}var Vn=class{root;queryParams;fragment;_queryParamMap;constructor(e=new ge([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=go(this.queryParams),this._queryParamMap}toString(){return TF.serialize(this)}},ge=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return lh(this)}},ii=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=go(this.parameters),this._parameterMap}toString(){return VS(this)}};function IF(n,e){return fo(n,e)&&n.every((t,r)=>Ln(t.parameters,e[r].parameters))}function fo(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function wF(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===ne&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==ne&&(t=t.concat(e(i,r)))}),t}var mo=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:()=>new oi,providedIn:"root"})}return n})(),oi=class{parse(e){let t=new dv(e);return new Vn(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${kc(e.root,!0)}`,r=CF(e.queryParams),i=typeof e.fragment=="string"?`#${DF(e.fragment)}`:"";return`${t}${r}${i}`}},TF=new oi;function lh(n){return n.segments.map(e=>VS(e)).join("/")}function kc(n,e){if(!n.hasChildren())return lh(n);if(e){let t=n.children[ne]?kc(n.children[ne],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==ne&&r.push(`${i}:${kc(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=wF(n,(r,i)=>i===ne?[kc(n.children[ne],!1)]:[`${i}:${kc(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[ne]!=null?`${lh(n)}/${t[0]}`:`${lh(n)}/(${t.join("//")})`}}function FS(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ah(n){return FS(n).replace(/%3B/gi,";")}function DF(n){return encodeURI(n)}function lv(n){return FS(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function dh(n){return decodeURIComponent(n)}function DS(n){return dh(n.replace(/\+/g,"%20"))}function VS(n){return`${lv(n.path)}${bF(n.parameters)}`}function bF(n){return Object.entries(n).map(([e,t])=>`;${lv(e)}=${lv(t)}`).join("")}function CF(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${ah(t)}=${ah(i)}`).join("&"):`${ah(t)}=${ah(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var SF=/^[^\/()?;#]+/;function iv(n){let e=n.match(SF);return e?e[0]:""}var AF=/^[^\/()?;=#]+/;function RF(n){let e=n.match(AF);return e?e[0]:""}var NF=/^[^=?&#]+/;function MF(n){let e=n.match(NF);return e?e[0]:""}var PF=/^[^&#]+/;function kF(n){let e=n.match(PF);return e?e[0]:""}var dv=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ge([],{}):new ge([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ne]=new ge(e,t)),r}parseSegment(){let e=iv(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new B(4009,!1);return this.capture(e),new ii(dh(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=RF(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=iv(this.remaining);i&&(r=i,this.capture(r))}e[dh(t)]=dh(r)}parseQueryParam(e){let t=MF(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=kF(this.remaining);s&&(r=s,this.capture(r))}let i=DS(t),o=DS(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=iv(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new B(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ne);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[ne]:new ge([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new B(4011,!1)}};function jS(n){return n.segments.length>0?new ge([],{[ne]:n}):n}function US(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=US(i);if(r===ne&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new ge(n.segments,e);return xF(t)}function xF(n){if(n.numberOfChildren===1&&n.children[ne]){let e=n.children[ne];return new ge(n.segments.concat(e.segments),e.children)}return n}function si(n){return n instanceof Vn}function BS(n,e,t=null,r=null){let i=$S(n);return HS(i,e,t,r)}function $S(n){let e;function t(o){let s={};for(let u of o.children){let l=t(u);s[u.outlet]=l}let a=new ge(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=jS(r);return e??i}function HS(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return ov(i,i,i,t,r);let o=OF(e);if(o.toRoot())return ov(i,i,new ge([],{}),t,r);let s=LF(o,i,n),a=s.processChildren?Oc(s.segmentGroup,s.index,o.commands):qS(s.segmentGroup,s.index,o.commands);return ov(i,s.segmentGroup,a,t,r)}function hh(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Fc(n){return typeof n=="object"&&n!=null&&n.outlets}function ov(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;n===e?s=t:s=zS(n,e,t);let a=jS(US(s));return new Vn(a,o,i)}function zS(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=zS(o,e,t)}),new ge(n.segments,r)}var fh=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&hh(r[0]))throw new B(4003,!1);let i=r.find(Fc);if(i&&i!==PS(r))throw new B(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function OF(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new fh(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new fh(t,e,r)}var Ms=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function LF(n,e,t){if(n.isAbsolute)return new Ms(e,!0,0);if(!t)return new Ms(e,!1,NaN);if(t.parent===null)return new Ms(t,!0,0);let r=hh(n.commands[0])?0:1,i=t.segments.length-1+r;return FF(t,i,n.numberOfDoubleDots)}function FF(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new B(4005,!1);i=r.segments.length}return new Ms(r,!1,i-o)}function VF(n){return Fc(n[0])?n[0].outlets:{[ne]:n}}function qS(n,e,t){if(n??=new ge([],{}),n.segments.length===0&&n.hasChildren())return Oc(n,e,t);let r=jF(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new ge(n.segments.slice(0,r.pathIndex),{});return o.children[ne]=new ge(n.segments.slice(r.pathIndex),n.children),Oc(o,0,i)}else return r.match&&i.length===0?new ge(n.segments,{}):r.match&&!n.hasChildren()?hv(n,e,t):r.match?Oc(n,0,i):hv(n,e,t)}function Oc(n,e,t){if(t.length===0)return new ge(n.segments,{});{let r=VF(t),i={};if(Object.keys(r).some(o=>o!==ne)&&n.children[ne]&&n.numberOfChildren===1&&n.children[ne].segments.length===0){let o=Oc(n.children[ne],e,t);return new ge(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=qS(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new ge(n.segments,i)}}function jF(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(Fc(a))break;let u=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!CS(u,l,s))return o;r+=2}else{if(!CS(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function hv(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(Fc(o)){let u=UF(o.outlets);return new ge(r,u)}if(i===0&&hh(t[0])){let u=n.segments[e];r.push(new ii(u.path,bS(t[0]))),i++;continue}let s=Fc(o)?o.outlets[ne]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&hh(a)?(r.push(new ii(s,bS(a))),i+=2):(r.push(new ii(s,{})),i++)}return new ge(r,{})}function UF(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=hv(new ge([],{}),0,r))}),e}function bS(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function CS(n,e,t){return n==t.path&&Ln(e,t.parameters)}var Ps="imperative",nt=(function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n})(nt||{}),zt=class{id;url;constructor(e,t){this.id=e,this.url=t}},ai=class extends zt{type=nt.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},qt=class extends zt{urlAfterRedirects;type=nt.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Nt=(function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n})(Nt||{}),xs=(function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n})(xs||{}),Fn=class extends zt{reason;code;type=nt.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},jn=class extends zt{reason;code;type=nt.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},Os=class extends zt{error;target;type=nt.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Vc=class extends zt{urlAfterRedirects;state;type=nt.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ph=class extends zt{urlAfterRedirects;state;type=nt.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},gh=class extends zt{urlAfterRedirects;state;shouldActivate;type=nt.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},mh=class extends zt{urlAfterRedirects;state;type=nt.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},yh=class extends zt{urlAfterRedirects;state;type=nt.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},vh=class{route;type=nt.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},_h=class{route;type=nt.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Eh=class{snapshot;type=nt.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ih=class{snapshot;type=nt.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},wh=class{snapshot;type=nt.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Th=class{snapshot;type=nt.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ls=class{routerEvent;position;anchor;type=nt.Scroll;constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},jc=class{},Fs=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function BF(n){return!(n instanceof jc)&&!(n instanceof Fs)}function $F(n,e){return n.providers&&!n._injector&&(n._injector=Ts(n.providers,e,`Route: ${n.path}`)),n._injector??e}function yn(n){return n.outlet||ne}function HF(n,e){let t=n.filter(r=>yn(r)===e);return t.push(...n.filter(r=>yn(r)!==e)),t}function Us(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Dh=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Us(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new yo(this.rootInjector)}},yo=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Dh(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)($(Ve))};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),bh=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=fv(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=fv(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=pv(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return pv(e,this._root).map(t=>t.value)}};function fv(n,e){if(n===e.value)return e;for(let t of e.children){let r=fv(n,t);if(r)return r}return null}function pv(n,e){if(n===e.value)return[e];for(let t of e.children){let r=pv(n,t);if(r.length)return r.unshift(e),r}return[]}var Ht=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Ns(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var Uc=class extends bh{snapshot;constructor(e,t){super(e),this.snapshot=t,wv(this,e)}toString(){return this.snapshot.toString()}};function GS(n){let e=zF(n),t=new dt([new ii("",{})]),r=new dt({}),i=new dt({}),o=new dt({}),s=new dt(""),a=new Un(t,r,o,s,i,ne,n,e.root);return a.snapshot=e.root,new Uc(new Ht(a,[]),e)}function zF(n){let e={},t={},r={},o=new po([],e,r,"",t,ne,n,null,{});return new Bc("",new Ht(o,[]))}var Un=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(re(l=>l[qc]))??q(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(re(e=>go(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(re(e=>go(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Ch(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:F(F({},e.params),n.params),data:F(F({},e.data),n.data),resolve:F(F(F(F({},n.data),e.data),i?.data),n._resolvedData)}:r={params:F({},n.params),data:F({},n.data),resolve:F(F({},n.data),n._resolvedData??{})},i&&KS(i)&&(r.resolve[qc]=i.title),r}var po=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[qc]}constructor(e,t,r,i,o,s,a,u,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=go(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=go(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Bc=class extends bh{url;constructor(e,t){super(t),this.url=e,wv(this,t)}toString(){return WS(this._root)}};function wv(n,e){e.value._routerState=n,e.children.forEach(t=>wv(n,t))}function WS(n){let e=n.children.length>0?` { ${n.children.map(WS).join(", ")} } `:"";return`${n.value}${e}`}function sv(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Ln(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Ln(e.params,t.params)||n.paramsSubject.next(t.params),yF(e.url,t.url)||n.urlSubject.next(t.url),Ln(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function gv(n,e){let t=Ln(n.params,e.params)&&IF(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||gv(n.parent,e.parent))}function KS(n){return typeof n.title=="string"||n.title===null}var QS=new U(""),Gc=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=ne;activateEvents=new Et;deactivateEvents=new Et;attachEvents=new Et;detachEvents=new Et;routerOutletData=iS(void 0);parentContexts=P(yo);location=P(oo);changeDetector=P(ho);inputBinder=P(Wc,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new B(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new B(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new B(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new B(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new mv(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=ei({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[no]})}return n})(),mv=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===Un?this.route:e===yo?this.childContexts:e===QS?this.outletData:this.parent.get(e,t)}},Wc=new U(""),Tv=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=Ga([r.queryParams,r.params,r.data]).pipe(Je(([o,s,a],u)=>(a=F(F(F({},o),s),a),u===0?q(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=sS(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,i)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})(),Dv=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Rt({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&tt(0,"router-outlet")},dependencies:[Gc],encapsulation:2})}return n})();function bv(n){let e=n.children&&n.children.map(bv),t=e?me(F({},n),{children:e}):F({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ne&&(t.component=Dv),t}function qF(n,e,t){let r=$c(n,e._root,t?t._root:void 0);return new Uc(r,e)}function $c(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=GF(n,e,t);return new Ht(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>$c(n,a)),s}}let r=WF(e.value),i=e.children.map(o=>$c(n,o));return new Ht(r,i)}}function GF(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return $c(n,r,i);return $c(n,r)})}function WF(n){return new Un(new dt(n.url),new dt(n.params),new dt(n.queryParams),new dt(n.fragment),new dt(n.data),n.outlet,n.component,n)}var Vs=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},YS="ngNavigationCancelingError";function Sh(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=si(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=ZS(!1,Nt.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function ZS(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[YS]=!0,t.cancellationCode=e,t}function KF(n){return JS(n)&&si(n.url)}function JS(n){return!!n&&n[YS]}var QF=(n,e,t,r)=>re(i=>(new yv(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),yv=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),sv(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=Ns(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Ns(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Ns(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=Ns(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Th(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Ih(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(sv(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),sv(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Ah=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},ks=class{component;route;constructor(e,t){this.component=e,this.route=t}};function YF(n,e,t){let r=n._root,i=e?e._root:null;return xc(r,i,t,[r.value])}function ZF(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Bs(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!Pg(n)?n:e.get(n):r}function xc(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Ns(e);return n.children.forEach(s=>{JF(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Lc(a,t.getContext(s),i)),i}function JF(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=XF(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Ah(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?xc(n,e,a?a.children:null,r,i):xc(n,e,t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new ks(a.outlet.component,s))}else s&&Lc(e,a,i),i.canActivateChecks.push(new Ah(r)),o.component?xc(n,null,a?a.children:null,r,i):xc(n,null,t,r,i);return i}function XF(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!fo(n.url,e.url);case"pathParamsOrQueryParamsChange":return!fo(n.url,e.url)||!Ln(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!gv(n,e)||!Ln(n.queryParams,e.queryParams);case"paramsChange":default:return!gv(n,e)}}function Lc(n,e,t){let r=Ns(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Lc(s,e.children.getContext(o),t):Lc(s,null,t):Lc(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new ks(e.outlet.component,i)):t.canDeactivateChecks.push(new ks(null,i)):t.canDeactivateChecks.push(new ks(null,i))}function Kc(n){return typeof n=="function"}function eV(n){return typeof n=="boolean"}function tV(n){return n&&Kc(n.canLoad)}function nV(n){return n&&Kc(n.canActivate)}function rV(n){return n&&Kc(n.canActivateChild)}function iV(n){return n&&Kc(n.canDeactivate)}function oV(n){return n&&Kc(n.canMatch)}function XS(n){return n instanceof tr||n?.name==="EmptyError"}var ch=Symbol("INITIAL_VALUE");function js(){return Je(n=>Ga(n.map(e=>e.pipe(rr(1),kl(ch)))).pipe(re(e=>{for(let t of e)if(t!==!0){if(t===ch)return ch;if(t===!1||sV(t))return t}return!0}),St(e=>e!==ch),rr(1)))}function sV(n){return si(n)||n instanceof Vs}function aV(n,e){return Fe(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?q(me(F({},t),{guardsResult:!0})):cV(s,r,i,n).pipe(Fe(a=>a&&eV(a)?uV(r,o,n,e):q(a)),re(a=>me(F({},t),{guardsResult:a})))})}function cV(n,e,t,r){return we(n).pipe(Fe(i=>pV(i.component,i.route,t,e,r)),ir(i=>i!==!0,!0))}function uV(n,e,t,r){return we(e).pipe(Br(i=>os(dV(i.route.parent,r),lV(i.route,r),fV(n,i.path,t),hV(n,i.route,t))),ir(i=>i!==!0,!0))}function lV(n,e){return n!==null&&e&&e(new wh(n)),q(!0)}function dV(n,e){return n!==null&&e&&e(new Eh(n)),q(!0)}function hV(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return q(!0);let i=r.map(o=>Li(()=>{let s=Us(e)??t,a=Bs(o,s),u=nV(a)?a.canActivate(e,n):He(s,()=>a(e,n));return vr(u).pipe(ir())}));return q(i).pipe(js())}function fV(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>ZF(s)).filter(s=>s!==null).map(s=>Li(()=>{let a=s.guards.map(u=>{let l=Us(s.node)??t,h=Bs(u,l),p=rV(h)?h.canActivateChild(r,n):He(l,()=>h(r,n));return vr(p).pipe(ir())});return q(a).pipe(js())}));return q(o).pipe(js())}function pV(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return q(!0);let s=o.map(a=>{let u=Us(e)??i,l=Bs(a,u),h=iV(l)?l.canDeactivate(n,e,t,r):He(u,()=>l(n,e,t,r));return vr(h).pipe(ir())});return q(s).pipe(js())}function gV(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return q(!0);let o=i.map(s=>{let a=Bs(s,n),u=tV(a)?a.canLoad(e,t):He(n,()=>a(e,t));return vr(u)});return q(o).pipe(js(),eA(r))}function eA(n){return gl(it(e=>{if(typeof e!="boolean")throw Sh(n,e)}),re(e=>e===!0))}function mV(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return q(!0);let o=i.map(s=>{let a=Bs(s,n),u=oV(a)?a.canMatch(e,t):He(n,()=>a(e,t));return vr(u)});return q(o).pipe(js(),eA(r))}var Hc=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},zc=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function Rs(n){return is(new Hc(n))}function yV(n){return is(new B(4e3,!1))}function vV(n){return is(ZS(!1,Nt.GuardRejected))}var vv=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return q(r);if(i.numberOfChildren>1||!i.children[ne])return yV(`${e.redirectTo}`);i=i.children[ne]}}applyRedirectCommands(e,t,r,i,o){return _V(t,i,o).pipe(re(s=>{if(s instanceof Vn)throw new zc(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new zc(a);return a}))}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new Vn(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new ge(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new B(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}};function _V(n,e,t){if(typeof n=="string")return q(n);let r=n,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:u,params:l,data:h,title:p}=e;return vr(He(t,()=>r({params:l,data:h,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:u,title:p})))}var _v={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function EV(n,e,t,r,i){let o=tA(n,e,t);return o.matched?(r=$F(e,r),mV(r,e,t,i).pipe(re(s=>s===!0?o:F({},_v)))):q(o)}function tA(n,e,t){if(e.path==="**")return IV(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?F({},_v):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||NS)(t,n,e);if(!i)return F({},_v);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?F(F({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function IV(n){return{matched:!0,parameters:n.length>0?PS(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function SS(n,e,t,r){return t.length>0&&DV(n,t,r)?{segmentGroup:new ge(e,TV(r,new ge(t,n.children))),slicedSegments:[]}:t.length===0&&bV(n,t,r)?{segmentGroup:new ge(n.segments,wV(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new ge(n.segments,n.children),slicedSegments:t}}function wV(n,e,t,r){let i={};for(let o of t)if(Nh(n,e,o)&&!r[yn(o)]){let s=new ge([],{});i[yn(o)]=s}return F(F({},r),i)}function TV(n,e){let t={};t[ne]=e;for(let r of n)if(r.path===""&&yn(r)!==ne){let i=new ge([],{});t[yn(r)]=i}return t}function DV(n,e,t){return t.some(r=>Nh(n,e,r)&&yn(r)!==ne)}function bV(n,e,t){return t.some(r=>Nh(n,e,r))}function Nh(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function CV(n,e,t){return e.length===0&&!n.children[t]}var Ev=class{};function SV(n,e,t,r,i,o,s="emptyOnly"){return new Iv(n,e,t,r,i,s,o).recognize()}var AV=31,Iv=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new vv(this.urlSerializer,this.urlTree)}noMatchError(e){return new B(4002,`'${e.segmentGroup}'`)}recognize(){let e=SS(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(re(({children:t,rootSnapshot:r})=>{let i=new Ht(r,t),o=new Bc("",i),s=BS(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new po([],Object.freeze({}),Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ne,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ne,t).pipe(re(r=>({children:r,rootSnapshot:t})),nr(r=>{if(r instanceof zc)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Hc?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(re(s=>s instanceof Ht?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return we(o).pipe(Br(s=>{let a=r.children[s],u=HF(t,s);return this.processSegmentGroup(e,u,a,s,i)}),Pl((s,a)=>(s.push(...a),s)),$r(null),mg(),Fe(s=>{if(s===null)return Rs(r);let a=nA(s);return RV(a),q(a)}))}processSegment(e,t,r,i,o,s,a){return we(t).pipe(Br(u=>this.processSegmentAgainstRoute(u._injector??e,t,u,r,i,o,s,a).pipe(nr(l=>{if(l instanceof Hc)return q(null);throw l}))),ir(u=>!!u),nr(u=>{if(XS(u))return CV(r,i,o)?q(new Ev):Rs(r);throw u}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,u){return yn(r)!==s&&(s===ne||!Nh(i,o,r))?Rs(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,u):Rs(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:m}=tA(t,i,o);if(!u)return Rs(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>AV&&(this.allowRedirects=!1));let y=new po(o,l,Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,AS(i),yn(i),i.component??i._loadedComponent??null,i,RS(i)),S=Ch(y,a,this.paramsInheritanceStrategy);return y.params=Object.freeze(S.params),y.data=Object.freeze(S.data),this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,y,e).pipe(Je(N=>this.applyRedirects.lineralizeSegments(i,N)),Fe(N=>this.processSegment(e,r,t,N.concat(m),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=EV(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(Je(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Je(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:m,remainingSegments:y}=u,S=new po(m,p,Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,AS(r),yn(r),r.component??r._loadedComponent??null,r,RS(r)),M=Ch(S,s,this.paramsInheritanceStrategy);S.params=Object.freeze(M.params),S.data=Object.freeze(M.data);let{segmentGroup:N,slicedSegments:L}=SS(t,m,y,l);if(L.length===0&&N.hasChildren())return this.processChildren(h,l,N,S).pipe(re(Q=>new Ht(S,Q)));if(l.length===0&&L.length===0)return q(new Ht(S,[]));let z=yn(r)===o;return this.processSegment(h,l,N,L,z?ne:o,!0,S).pipe(re(Q=>new Ht(S,Q instanceof Ht?[Q]:[])))}))):Rs(t)))}getChildConfig(e,t,r){return t.children?q({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?q({routes:t._loadedRoutes,injector:t._loadedInjector}):gV(e,t,r,this.urlSerializer).pipe(Fe(i=>i?this.configLoader.loadChildren(e,t).pipe(it(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):vV(t))):q({routes:[],injector:e})}};function RV(n){n.sort((e,t)=>e.value.outlet===ne?-1:t.value.outlet===ne?1:e.value.outlet.localeCompare(t.value.outlet))}function NV(n){let e=n.value.routeConfig;return e&&e.path===""}function nA(n){let e=[],t=new Set;for(let r of n){if(!NV(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=nA(r.children);e.push(new Ht(r.value,i))}return e.filter(r=>!t.has(r))}function AS(n){return n.data||{}}function RS(n){return n.resolve||{}}function MV(n,e,t,r,i,o){return Fe(s=>SV(n,e,t,r,s.extractedUrl,i,o).pipe(re(({state:a,tree:u})=>me(F({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function PV(n,e){return Fe(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return q(t);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of rA(u))s.add(l);let a=0;return we(s).pipe(Br(u=>o.has(u)?kV(u,r,n,e):(u.data=Ch(u,u.parent,n).resolve,q(void 0))),it(()=>a++),ss(1),Fe(u=>a===s.size?q(t):kt))})}function rA(n){let e=n.children.map(t=>rA(t)).flat();return[n,...e]}function kV(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!KS(i)&&(o[qc]=i.title),Li(()=>(n.data=Ch(n,n.parent,t).resolve,xV(o,n,e,r).pipe(re(s=>(n._resolvedData=s,n.data=F(F({},n.data),s),null)))))}function xV(n,e,t,r){let i=uv(n);if(i.length===0)return q({});let o={};return we(i).pipe(Fe(s=>OV(n[s],e,t,r).pipe(ir(),it(a=>{if(a instanceof Vs)throw Sh(new oi,a);o[s]=a}))),ss(1),re(()=>o),nr(s=>XS(s)?kt:is(s)))}function OV(n,e,t,r){let i=Us(e)??r,o=Bs(n,i),s=o.resolve?o.resolve(e,t):He(i,()=>o(e,t));return vr(s)}function av(n){return Je(e=>{let t=n(e);return t?we(t).pipe(re(()=>e)):q(e)})}var Cv=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===ne);return r}getResolvedTitleForRoute(t){return t.data[qc]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:()=>P(iA),providedIn:"root"})}return n})(),iA=(()=>{class n extends Cv{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)($(wS))};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ci=new U("",{providedIn:"root",factory:()=>({})}),vo=new U(""),Mh=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=P(xy);loadComponent(t,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return q(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=vr(He(t,()=>r.loadComponent())).pipe(re(sA),Je(aA),it(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),Wa(()=>{this.componentLoaders.delete(r)})),o=new es(i,()=>new Ze).pipe(Xo());return this.componentLoaders.set(r,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return q({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=oA(r,this.compiler,t,this.onLoadEndListener).pipe(Wa(()=>{this.childrenLoaders.delete(r)})),s=new es(o,()=>new Ze).pipe(Xo());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function oA(n,e,t,r){return vr(He(t,()=>n.loadChildren())).pipe(re(sA),Je(aA),Fe(i=>i instanceof zd||Array.isArray(i)?q(i):we(e.compileModuleAsync(i))),re(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(vo,[],{optional:!0,self:!0}).flat()),{routes:s.map(bv),injector:o}}))}function LV(n){return n&&typeof n=="object"&&"default"in n}function sA(n){return LV(n)?n.default:n}function aA(n){return q(n)}var Ph=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:()=>P(FV),providedIn:"root"})}return n})(),FV=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Sv=new U(""),Av=new U("");function cA(n,e,t){let r=n.get(Av),i=n.get($e);if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),VV(n)));a.ready.catch(l=>{});let{onViewTransitionCreated:u}=r;return u&&He(n,()=>u({transition:a,from:e,to:t})),s}function VV(n){return new Promise(e=>{Ty({read:()=>setTimeout(e)},{injector:n})})}var Rv=new U(""),kh=(()=>{class n{currentNavigation=lr(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new Ze;transitionAbortWithErrorSubject=new Ze;configLoader=P(Mh);environmentInjector=P(Ve);destroyRef=P(ur);urlSerializer=P(mo);rootContexts=P(yo);location=P(ni);inputBindingEnabled=P(Wc,{optional:!0})!==null;titleStrategy=P(Cv);options=P(ci,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=P(Ph);createViewTransition=P(Sv,{optional:!0});navigationErrorHandler=P(Rv,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>q(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new vh(i)),r=i=>this.events.next(new _h(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;en(()=>{this.transitions?.next(me(F({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))})}setupNavigations(t){return this.transitions=new dt(null),this.transitions.pipe(St(r=>r!==null),Je(r=>{let i=!1;return q(r).pipe(Je(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Nt.SupersededByNewNavigation),kt;this.currentTransition=r,this.currentNavigation.set({id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?me(F({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()});let s=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=o.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!s&&a!=="reload")return this.events.next(new jn(o.id,this.urlSerializer.serialize(o.rawUrl),"",xs.IgnoredSameUrlNavigation)),o.resolve(!1),kt;if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return q(o).pipe(Je(u=>(this.events.next(new ai(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),u.id!==this.navigationId?kt:Promise.resolve(u))),MV(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),it(u=>{r.targetSnapshot=u.targetSnapshot,r.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation.update(h=>(h.finalUrl=u.urlAfterRedirects,h));let l=new Vc(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:u,extractedUrl:l,source:h,restoredState:p,extras:m}=o,y=new ai(u,this.urlSerializer.serialize(l),h,p);this.events.next(y);let S=GS(this.rootComponentType).snapshot;return this.currentTransition=r=me(F({},o),{targetSnapshot:S,urlAfterRedirects:l,extras:me(F({},m),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(M=>(M.finalUrl=l,M)),q(r)}else return this.events.next(new jn(o.id,this.urlSerializer.serialize(o.extractedUrl),"",xs.IgnoredByUrlHandlingStrategy)),o.resolve(!1),kt}),it(o=>{let s=new ph(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),re(o=>(this.currentTransition=r=me(F({},o),{guards:YF(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),aV(this.environmentInjector,o=>this.events.next(o)),it(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw Sh(this.urlSerializer,o.guardsResult);let s=new gh(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),St(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",Nt.GuardRejected),!1)),av(o=>{if(o.guards.canActivateChecks.length!==0)return q(o).pipe(it(s=>{let a=new mh(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),Je(s=>{let a=!1;return q(s).pipe(PV(this.paramsInheritanceStrategy,this.environmentInjector),it({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",Nt.NoDataFromResolver)}}))}),it(s=>{let a=new yh(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),av(o=>{let s=a=>{let u=[];if(a.routeConfig?.loadComponent){let l=Us(a)??this.environmentInjector;u.push(this.configLoader.loadComponent(l,a.routeConfig).pipe(it(h=>{a.component=h}),re(()=>{})))}for(let l of a.children)u.push(...s(l));return u};return Ga(s(o.targetSnapshot.root)).pipe($r(null),rr(1))}),av(()=>this.afterPreactivation()),Je(()=>{let{currentSnapshot:o,targetSnapshot:s}=r,a=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return a?we(a).pipe(re(()=>r)):q(r)}),re(o=>{let s=qF(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=me(F({},o),{targetRouterState:s}),this.currentNavigation.update(a=>(a.targetRouterState=s,a)),r}),it(()=>{this.events.next(new jc)}),QF(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),rr(1),xl(new J(o=>{let s=r.abortController.signal,a=()=>o.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(St(()=>!i&&!r.targetRouterState),it(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",Nt.Aborted)}))),it({next:o=>{i=!0,this.lastSuccessfulNavigation=en(this.currentNavigation),this.events.next(new qt(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),xl(this.transitionAbortWithErrorSubject.pipe(it(o=>{throw o}))),Wa(()=>{i||this.cancelNavigationTransition(r,"",Nt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),nr(o=>{if(this.destroyed)return r.resolve(!1),kt;if(i=!0,JS(o))this.events.next(new Fn(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),KF(o)?this.events.next(new Fs(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let s=new Os(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let a=He(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(a instanceof Vs){let{message:u,cancellationCode:l}=Sh(this.urlSerializer,a);this.events.next(new Fn(r.id,this.urlSerializer.serialize(r.extractedUrl),u,l)),this.events.next(new Fs(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(s),o}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return kt}))}))}cancelNavigationTransition(t,r,i){let o=new Fn(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=en(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return t.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function jV(n){return n!==Ps}var uA=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:()=>P(UV),providedIn:"root"})}return n})(),Rh=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},UV=(()=>{class n extends Rh{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Nd(n)))(i||n)}})();static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),lA=(()=>{class n{urlSerializer=P(mo);options=P(ci,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=P(ni);urlHandlingStrategy=P(Ph);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Vn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof Vn?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=GS(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:()=>P(BV),providedIn:"root"})}return n})(),BV=(()=>{class n extends lA{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof ai?this.updateStateMemento():t instanceof jn?this.commitTransition(r):t instanceof Vc?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof jc?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Fn&&t.code!==Nt.SupersededByNewNavigation&&t.code!==Nt.Redirect?this.restoreHistory(r):t instanceof Os?this.restoreHistory(r,!0):t instanceof qt&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,u=F(F({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",u)}else{let a=F(F({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Nd(n)))(i||n)}})();static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function xh(n,e){n.events.pipe(St(t=>t instanceof qt||t instanceof Fn||t instanceof Os||t instanceof jn),re(t=>t instanceof qt||t instanceof jn?0:(t instanceof Fn?t.code===Nt.Redirect||t.code===Nt.SupersededByNewNavigation:!1)?2:1),St(t=>t!==2),rr(1)).subscribe(()=>{e()})}var $V={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},HV={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},vn=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=P(Dy);stateManager=P(lA);options=P(ci,{optional:!0})||{};pendingTasks=P(kn);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=P(kh);urlSerializer=P(mo);location=P(ni);urlHandlingStrategy=P(Ph);injector=P(Ve);_events=new Ze;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=P(uA);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=P(vo,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!P(Wc,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new ke;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=en(this.navigationTransitions.currentNavigation);if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Fn&&r.code!==Nt.Redirect&&r.code!==Nt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof qt)this.navigated=!0;else if(r instanceof Fs){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=F({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||jV(i.source)},s);this.scheduleNavigation(a,Ps,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}BF(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ps,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=F({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o).catch(u=>{this.disposed||this.injector.get(_t)(u)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return en(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(bv),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=F(F({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let m=i?i.snapshot:this.routerState.snapshot.root;p=$S(m)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return HS(p,t,h,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=si(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Ps,null,r)}navigate(t,r={skipLocationChange:!1}){return zV(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=F({},$V):r===!1?i=F({},HV):i=r,si(t))return TS(this.currentUrlTree,t,i);let o=this.parseUrl(t);return TS(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,l;s?(a=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,m)=>{a=p,u=m});let h=this.pendingTasks.add();return xh(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function zV(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new B(4008,!1)}var $s=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=lr(null);get href(){return en(this.reactiveHref)}set href(t){this.reactiveHref.set(t)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Ze;applicationErrorHandler=P(_t);options=P(ci,{optional:!0});constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.reactiveHref.set(P(new Xd("href"),{optional:!0}));let u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area"||!!(typeof customElements=="object"&&customElements.get(u)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let t=this.preserveFragment,r=i=>i==="merge"||i==="preserve";t||=r(this.queryParamsHandling),t||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),t&&(this.subscription=this.router.events.subscribe(i=>{i instanceof qt&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(si(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,u)?.catch(l=>{this.applicationErrorHandler(l)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.reactiveHref.set(t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t))??"":null)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:si(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(Ae(vn),Ae(Un),vc("tabindex"),Ae(io),Ae(hn),Ae(mn))};static \u0275dir=ei({type:n,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&mr("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Kd("href",i.reactiveHref(),ny)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Dc],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Dc],replaceUrl:[2,"replaceUrl","replaceUrl",Dc],routerLink:"routerLink"},features:[no]})}return n})(),Mv=(()=>{class n{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new Et;constructor(t,r,i,o,s){this.router=t,this.element=r,this.renderer=i,this.cdr=o,this.link=s,this.routerEventsSubscription=t.events.subscribe(a=>{a instanceof qt&&this.update()})}ngAfterContentInit(){q(this.links.changes,q(null)).pipe(Ur()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=we(t).pipe(Ur()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){let r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){let r=qV(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let o=i.urlTree;return o?t.isActive(o,r):!1}}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static \u0275fac=function(r){return new(r||n)(Ae(vn),Ae(hn),Ae(io),Ae(ho),Ae($s,8))};static \u0275dir=ei({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(r&1&&Ny(o,$s,5),r&2){let s;My(s=Py())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[no]})}return n})();function qV(n){return!!n.paths}var Qc=class{};var dA=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(t,r,i,o){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(St(t=>t instanceof qt),Br(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=Ts(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return we(i).pipe(Ur())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=q(null);let o=i.pipe(Fe(s=>s===null?q(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(t,r);return we([o,s]).pipe(Ur())}else return o})}static \u0275fac=function(r){return new(r||n)($(vn),$(Ve),$(Qc),$(Mh))};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),hA=new U(""),GV=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=Ps;restoredId=0;store={};constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof ai?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof qt?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof jn&&t.code===xs.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Ls&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>_(this,null,function*(){yield new Promise(i=>{setTimeout(i),typeof requestAnimationFrame<"u"&&requestAnimationFrame(i)}),this.zone.run(()=>{this.transitions.events.next(new Ls(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){my()};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})();function Pv(n,...e){return Lt([{provide:vo,multi:!0,useValue:n},[],{provide:Un,useFactory:fA,deps:[vn]},{provide:Ec,multi:!0,useFactory:pA},e.map(t=>t.\u0275providers)])}function fA(n){return n.routerState.root}function Yc(n,e){return{\u0275kind:n,\u0275providers:e}}function pA(){let n=P(je);return e=>{let t=n.get(uo);if(e!==t.components[0])return;let r=n.get(vn),i=n.get(gA);n.get(kv)===1&&r.initialNavigation(),n.get(vA,null,{optional:!0})?.setUpPreloading(),n.get(hA,null,{optional:!0})?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var gA=new U("",{factory:()=>new Ze}),kv=new U("",{providedIn:"root",factory:()=>1});function mA(){let n=[{provide:Xm,useValue:!0},{provide:kv,useValue:0},Wd(()=>{let e=P(je);return e.get(By,Promise.resolve()).then(()=>new Promise(r=>{let i=e.get(vn),o=e.get(gA);xh(i,()=>{r(!0)}),e.get(kh).afterPreactivation=()=>(r(!0),o.closed?q(void 0):o),i.initialNavigation()}))})];return Yc(2,n)}function yA(){let n=[Wd(()=>{P(vn).setUpLocationChangeListener()}),{provide:kv,useValue:2}];return Yc(3,n)}var vA=new U("");function _A(n){return Yc(0,[{provide:vA,useExisting:dA},{provide:Qc,useExisting:n}])}function EA(){return Yc(8,[Tv,{provide:Wc,useExisting:Tv}])}function IA(n){fn("NgRouterViewTransitions");let e=[{provide:Sv,useValue:cA},{provide:Av,useValue:F({skipNextTransition:!!n?.skipInitialTransition},n)}];return Yc(9,e)}var wA=[ni,{provide:mo,useClass:oi},vn,yo,{provide:Un,useFactory:fA,deps:[vn]},Mh,[]],xv=(()=>{class n{constructor(){}static forRoot(t,r){return{ngModule:n,providers:[wA,[],{provide:vo,multi:!0,useValue:t},[],r?.errorHandler?{provide:Rv,useValue:r.errorHandler}:[],{provide:ci,useValue:r||{}},r?.useHash?KV():QV(),WV(),r?.preloadingStrategy?_A(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?YV(r):[],r?.bindToComponentInputs?EA().\u0275providers:[],r?.enableViewTransitions?IA().\u0275providers:[],ZV()]}}static forChild(t){return{ngModule:n,providers:[{provide:vo,multi:!0,useValue:t}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=so({type:n});static \u0275inj=Gr({})}return n})();function WV(){return{provide:hA,useFactory:()=>{let n=P(fS),e=P(pe),t=P(ci),r=P(kh),i=P(mo);return t.scrollOffset&&n.setOffset(t.scrollOffset),new GV(i,r,n,e,t)}}}function KV(){return{provide:mn,useClass:qy}}function QV(){return{provide:mn,useClass:nh}}function YV(n){return[n.initialNavigation==="disabled"?yA().\u0275providers:[],n.initialNavigation==="enabledBlocking"?mA().\u0275providers:[]]}var Nv=new U("");function ZV(){return[{provide:Nv,useFactory:pA},{provide:Ec,multi:!0,useExisting:Nv}]}var TA=()=>{};var CA=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},XV=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Oh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,u=i+2<n.length,l=u?n[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,m=(a&15)<<2|l>>6,y=l&63;u||(y=64,s||(m=64)),r.push(t[h],t[p],t[m],t[y])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(CA(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):XV(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let p=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new Lv;let m=o<<2|a>>4;if(r.push(m),l!==64){let y=a<<4&240|l>>2;if(r.push(y),p!==64){let S=l<<6&192|p;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Lv=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},e2=function(n){let e=CA(n);return Oh.encodeByteArray(e,!0)},Jc=function(n){return e2(n).replace(/\./g,"")},Lh=function(n){try{return Oh.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Vv(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var t2=()=>Vv().__FIREBASE_DEFAULTS__,n2=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},r2=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&Lh(n[1]);return e&&JSON.parse(e)},Fh=()=>{try{return TA()||t2()||n2()||r2()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},jv=n=>{var e,t;return(t=(e=Fh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},SA=n=>{let e=jv(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Uv=()=>{var n;return(n=Fh())===null||n===void 0?void 0:n.config},Bv=n=>{var e;return(e=Fh())===null||e===void 0?void 0:e[`_${n}`]};var _o=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function ui(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}function Vh(n){return _(this,null,function*(){return(yield fetch(n,{credentials:"include"})).ok})}function AA(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Jc(JSON.stringify(t)),Jc(JSON.stringify(s)),""].join(".")}var Zc={};function i2(){let n={prod:[],emulator:[]};for(let e of Object.keys(Zc))Zc[e]?n.emulator.push(e):n.prod.push(e);return n}function o2(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var DA=!1;function jh(n,e){if(typeof window>"u"||typeof document>"u"||!ui(window.location.host)||Zc[n]===e||Zc[n]||DA)return;Zc[n]=e;function t(m){return`__firebase__banner__${m}`}let r="__firebase__banner",o=i2().prod.length>0;function s(){let m=document.getElementById(r);m&&m.remove()}function a(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,y){m.setAttribute("width","24"),m.setAttribute("id",y),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function l(){let m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{DA=!0,s()},m}function h(m,y){m.setAttribute("id",y),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function p(){let m=o2(r),y=t("text"),S=document.getElementById(y)||document.createElement("span"),M=t("learnmore"),N=document.getElementById(M)||document.createElement("a"),L=t("preprendIcon"),z=document.getElementById(L)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){let Q=m.element;a(Q),h(N,M);let De=l();u(z,L),Q.append(z,S,N,De),document.body.appendChild(Q)}o?(S.innerText="Preview backend disconnected.",z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function st(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function RA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(st())}function s2(){var n;let e=(n=Fh())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function NA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function MA(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function PA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function kA(){let n=st();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function xA(){return!s2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Xc(){try{return typeof indexedDB=="object"}catch{return!1}}function OA(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var a2="FirebaseError",Gt=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=a2,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_n.prototype.create)}},_n=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?c2(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Gt(i,a,r)}};function c2(n,e){return n.replace(u2,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var u2=/\{\$([^}]+)}/g;function LA(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Bn(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(bA(o)&&bA(s)){if(!Bn(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function bA(n){return n!==null&&typeof n=="object"}function Hs(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function FA(n,e){let t=new Fv(n,e);return t.subscribe.bind(t)}var Fv=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");l2(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Ov),i.error===void 0&&(i.error=Ov),i.complete===void 0&&(i.complete=Ov);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function l2(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Ov(){}var Ite=14400*1e3;function xe(n){return n&&n._delegate?n._delegate:n}var Mt=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Eo="[DEFAULT]";var $v=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new _o;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(h2(e))try{this.getOrInitializeService({instanceIdentifier:Eo})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Eo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return _(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Eo){return this.instances.has(e)}getOptions(e=Eo){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:d2(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Eo){return this.component?this.component.multipleInstances?e:Eo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function d2(n){return n===Eo?void 0:n}function h2(n){return n.instantiationMode==="EAGER"}var Uh=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new $v(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var f2=[],se=(function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n})(se||{}),p2={debug:se.DEBUG,verbose:se.VERBOSE,info:se.INFO,warn:se.WARN,error:se.ERROR,silent:se.SILENT},g2=se.INFO,m2={[se.DEBUG]:"log",[se.VERBOSE]:"log",[se.INFO]:"info",[se.WARN]:"warn",[se.ERROR]:"error"},y2=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=m2[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},$n=class{constructor(e){this.name=e,this._logLevel=g2,this._logHandler=y2,this._userLogHandler=null,f2.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in se))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?p2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,se.DEBUG,...e),this._logHandler(this,se.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,se.VERBOSE,...e),this._logHandler(this,se.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,se.INFO,...e),this._logHandler(this,se.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,se.WARN,...e),this._logHandler(this,se.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,se.ERROR,...e),this._logHandler(this,se.ERROR,...e)}};var v2=(n,e)=>e.some(t=>n instanceof t),VA,jA;function _2(){return VA||(VA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function E2(){return jA||(jA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var UA=new WeakMap,zv=new WeakMap,BA=new WeakMap,Hv=new WeakMap,Gv=new WeakMap;function I2(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(Hn(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&UA.set(t,n)}).catch(()=>{}),Gv.set(e,n),e}function w2(n){if(zv.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});zv.set(n,e)}var qv={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return zv.get(n);if(e==="objectStoreNames")return n.objectStoreNames||BA.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Hn(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function $A(n){qv=n(qv)}function T2(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(Bh(this),e,...t);return BA.set(r,e.sort?e.sort():[e]),Hn(r)}:E2().includes(n)?function(...e){return n.apply(Bh(this),e),Hn(UA.get(this))}:function(...e){return Hn(n.apply(Bh(this),e))}}function D2(n){return typeof n=="function"?T2(n):(n instanceof IDBTransaction&&w2(n),v2(n,_2())?new Proxy(n,qv):n)}function Hn(n){if(n instanceof IDBRequest)return I2(n);if(Hv.has(n))return Hv.get(n);let e=D2(n);return e!==n&&(Hv.set(n,e),Gv.set(e,n)),e}var Bh=n=>Gv.get(n);function zA(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=Hn(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Hn(s.result),u.oldVersion,u.newVersion,Hn(s.transaction),u)}),t&&s.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var b2=["get","getKey","getAll","getAllKeys","count"],C2=["put","add","delete","clear"],Wv=new Map;function HA(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Wv.get(e))return Wv.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=C2.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||b2.includes(t)))return;let o=function(s,...a){return _(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[t](...a),i&&u.done]))[0]})};return Wv.set(e,o),o}$A(n=>me(F({},n),{get:(e,t,r)=>HA(e,t)||n.get(e,t,r),has:(e,t)=>!!HA(e,t)||n.has(e,t)}));var Qv=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(S2(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function S2(n){let e=n.getComponent();return e?.type==="VERSION"}var Yv="@firebase/app",qA="0.13.2";var _r=new $n("@firebase/app"),A2="@firebase/app-compat",R2="@firebase/analytics-compat",N2="@firebase/analytics",M2="@firebase/app-check-compat",P2="@firebase/app-check",k2="@firebase/auth",x2="@firebase/auth-compat",O2="@firebase/database",L2="@firebase/data-connect",F2="@firebase/database-compat",V2="@firebase/functions",j2="@firebase/functions-compat",U2="@firebase/installations",B2="@firebase/installations-compat",$2="@firebase/messaging",H2="@firebase/messaging-compat",z2="@firebase/performance",q2="@firebase/performance-compat",G2="@firebase/remote-config",W2="@firebase/remote-config-compat",K2="@firebase/storage",Q2="@firebase/storage-compat",Y2="@firebase/firestore",Z2="@firebase/ai",J2="@firebase/firestore-compat",X2="firebase",ej="11.10.0";var Zv="[DEFAULT]",tj={[Yv]:"fire-core",[A2]:"fire-core-compat",[N2]:"fire-analytics",[R2]:"fire-analytics-compat",[P2]:"fire-app-check",[M2]:"fire-app-check-compat",[k2]:"fire-auth",[x2]:"fire-auth-compat",[O2]:"fire-rtdb",[L2]:"fire-data-connect",[F2]:"fire-rtdb-compat",[V2]:"fire-fn",[j2]:"fire-fn-compat",[U2]:"fire-iid",[B2]:"fire-iid-compat",[$2]:"fire-fcm",[H2]:"fire-fcm-compat",[z2]:"fire-perf",[q2]:"fire-perf-compat",[G2]:"fire-rc",[W2]:"fire-rc-compat",[K2]:"fire-gcs",[Q2]:"fire-gcs-compat",[Y2]:"fire-fst",[J2]:"fire-fst-compat",[Z2]:"fire-vertex","fire-js":"fire-js",[X2]:"fire-js-all"};var eu=new Map,nj=new Map,Jv=new Map;function GA(n,e){try{n.container.addComponent(e)}catch(t){_r.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function En(n){let e=n.name;if(Jv.has(e))return _r.debug(`There were multiple attempts to register component ${e}.`),!1;Jv.set(e,n);for(let t of eu.values())GA(t,n);for(let t of nj.values())GA(t,n);return!0}function zs(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Wt(n){return n==null?!1:n.settings!==void 0}var rj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},li=new _n("app","Firebase",rj);var Xv=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Mt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw li.create("app-deleted",{appName:this._name})}};var di=ej;function n_(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Zv,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw li.create("bad-app-name",{appName:String(i)});if(t||(t=Uv()),!t)throw li.create("no-options");let o=eu.get(i);if(o){if(Bn(t,o.options)&&Bn(r,o.config))return o;throw li.create("duplicate-app",{appName:i})}let s=new Uh(i);for(let u of Jv.values())s.addComponent(u);let a=new Xv(t,r,s);return eu.set(i,a),a}function Io(n=Zv){let e=eu.get(n);if(!e&&n===Zv&&Uv())return n_();if(!e)throw li.create("no-app",{appName:n});return e}function $h(){return Array.from(eu.values())}function Oe(n,e,t){var r;let i=(r=tj[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),_r.warn(a.join(" "));return}En(new Mt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var ij="firebase-heartbeat-database",oj=1,tu="firebase-heartbeat-store",Kv=null;function YA(){return Kv||(Kv=zA(ij,oj,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(tu)}catch(t){console.warn(t)}}}}).catch(n=>{throw li.create("idb-open",{originalErrorMessage:n.message})})),Kv}function sj(n){return _(this,null,function*(){try{let t=(yield YA()).transaction(tu),r=yield t.objectStore(tu).get(ZA(n));return yield t.done,r}catch(e){if(e instanceof Gt)_r.warn(e.message);else{let t=li.create("idb-get",{originalErrorMessage:e?.message});_r.warn(t.message)}}})}function WA(n,e){return _(this,null,function*(){try{let r=(yield YA()).transaction(tu,"readwrite");yield r.objectStore(tu).put(e,ZA(n)),yield r.done}catch(t){if(t instanceof Gt)_r.warn(t.message);else{let r=li.create("idb-set",{originalErrorMessage:t?.message});_r.warn(r.message)}}})}function ZA(n){return`${n.name}!${n.options.appId}`}var aj=1024,cj=30,e_=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new t_(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return _(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=KA();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>cj){let s=lj(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){_r.warn(r)}})}getHeartbeatsHeader(){return _(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=KA(),{heartbeatsToSend:r,unsentEntries:i}=uj(this._heartbeatsCache.heartbeats),o=Jc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return _r.warn(t),""}})}};function KA(){return new Date().toISOString().substring(0,10)}function uj(n,e=aj){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),QA(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),QA(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var t_=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return _(this,null,function*(){return Xc()?OA().then(()=>!0).catch(()=>!1):!1})}read(){return _(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield sj(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return _(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return WA(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return _(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return WA(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function QA(n){return Jc(JSON.stringify({version:2,heartbeats:n})).length}function lj(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function dj(n){En(new Mt("platform-logger",e=>new Qv(e),"PRIVATE")),En(new Mt("heartbeat",e=>new e_(e),"PRIVATE")),Oe(Yv,qA,n),Oe(Yv,qA,"esm2017"),Oe("fire-js","")}dj("");var hj="firebase",fj="11.10.0";Oe(hj,fj,"app");function JA(n){n===void 0&&(n=P(je));let e=n.get(ms);return t=>new J(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=t.subscribe({next:u=>{r.next(u),s()},complete:()=>{r.complete(),s()},error:u=>{r.error(u),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var hi=new Vi("ANGULARFIRE2_VERSION");function nu(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var Gs=(n,e)=>{let t=e?[e]:$h(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},qs=(function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n})(qs||{}),XA=jy()&&typeof Zone<"u"?qs.WARN:qs.SILENT;var Hh=class{zone;delegate;constructor(e,t=pg){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,t,r)}},fi=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=P(pe);this.outsideAngular=t.runOutsideAngular(()=>new Hh(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new Hh(typeof Zone>"u"?void 0:Zone.current,fg))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),e0=!1;function pj(n,e){!e0&&(XA>qs.SILENT||jy())&&(e0=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),XA>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function gj(n){let e=P(pe,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function wo(n){let e=P(pe,{optional:!0});return e?e.run(()=>n()):n()}var mj=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),He(t,()=>wo(()=>n.apply(void 0,r)))),qe=(n,e,t)=>(t||=e?qs.WARN:qs.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=P(fi),s=P(ms),a=P(Ve)}catch{return pj(n,t),n.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=wo(()=>s.add())),i[l]=mj(i[l],r,a));let u=gj(()=>n.apply(this,i));return e?u instanceof J?u.pipe(jr(o.outsideAngular),Vr(o.insideAngular),JA(a)):u instanceof Promise?wo(()=>{let l=s.add();return new Promise((h,p)=>{u.then(m=>He(a,()=>wo(()=>h(m))),m=>He(a,()=>wo(()=>p(m)))).finally(l)})}):typeof u=="function"&&r?function(){return setTimeout(r,0),u.apply(this,arguments)}:wo(()=>u):u instanceof J?u.pipe(jr(o.outsideAngular),Vr(o.insideAngular)):wo(()=>u)});var Er=class{constructor(e){return e}},To=class{constructor(){return $h()}};function yj(n){return n&&n.length===1?n[0]:new Er(Io())}var r_=new U("angularfire2._apps"),vj={provide:Er,useFactory:yj,deps:[[new $t,r_]]},_j={provide:To,deps:[[new $t,r_]]};function Ej(n){return(e,t)=>{let r=t.get(Jr);Oe("angularfire",hi.full,"core"),Oe("angularfire",hi.full,"app"),Oe("angular",Rg.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new Er(i)}}function t0(n,...e){return Lt([vj,_j,{provide:r_,useFactory:Ej(n),multi:!0,deps:[pe,je,fi,...e]}])}var n0=qe(n_,!0);var Ij=new Map,wj={activated:!1,tokenObservers:[]},Tj={initialized:!1,enabled:!1};function In(n){return Ij.get(n)||Object.assign({},wj)}function s0(){return Tj}var Dj="https://content-firebaseappcheck.googleapis.com/v1";var bj="exchangeDebugToken",r0={OFFSET_DURATION:300*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:960*1e3},Dne=1440*60*1e3;var s_=class{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return _(this,null,function*(){this.stop();try{this.pending=new _o,this.pending.promise.catch(t=>{}),yield Cj(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new _o,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function Cj(n){return new Promise(e=>{setTimeout(e,n)})}var Sj={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},pi=new _n("appCheck","AppCheck",Sj);function a0(n){if(!In(n).activated)throw pi.create("use-before-activation",{appName:n.name})}function c0(r,i){return _(this,arguments,function*({url:n,body:e},t){let o={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){let y=yield s.getHeartbeatsHeader();y&&(o["X-Firebase-Client"]=y)}let a={method:"POST",body:JSON.stringify(e),headers:o},u;try{u=yield fetch(n,a)}catch(y){throw pi.create("fetch-network-error",{originalErrorMessage:y?.message})}if(u.status!==200)throw pi.create("fetch-status-error",{httpStatus:u.status});let l;try{l=yield u.json()}catch(y){throw pi.create("fetch-parse-error",{originalErrorMessage:y?.message})}let h=l.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw pi.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let p=Number(h[1])*1e3,m=Date.now();return{token:l.token,expireTimeMillis:m+p,issuedAtTimeMillis:m}})}function u0(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${Dj}/projects/${t}/apps/${r}:${bj}?key=${i}`,body:{debug_token:e}}}var Aj="firebase-app-check-database",Rj=1,a_="firebase-app-check-store";var zh=null;function Nj(){return zh||(zh=new Promise((n,e)=>{try{let t=indexedDB.open(Aj,Rj);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(pi.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(a_,{keyPath:"compositeKey"})}}}catch(t){e(pi.create("storage-open",{originalErrorMessage:t?.message}))}}),zh)}function Mj(n,e){return Pj(kj(n),e)}function Pj(n,e){return _(this,null,function*(){let r=(yield Nj()).transaction(a_,"readwrite"),o=r.objectStore(a_).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var l;a(pi.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})})}function kj(n){return`${n.options.appId}-${n.name}`}var ru=new $n("@firebase/app-check");function i_(n,e){return Xc()?Mj(n,e).catch(t=>{ru.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function l0(){return s0().enabled}function d0(){return _(this,null,function*(){let n=s0();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var xj={error:"UNKNOWN_ERROR"};function Oj(n){return Oh.encodeString(JSON.stringify(n),!1)}function c_(n,e=!1,t=!1){return _(this,null,function*(){let r=n.app;a0(r);let i=In(r),o=i.token,s;if(o&&!iu(o)&&(i.token=void 0,o=void 0),!o){let l=yield i.cachedTokenPromise;l&&(iu(l)?o=l:yield i_(r,void 0))}if(!e&&o&&iu(o))return{token:o.token};let a=!1;if(l0())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=c0(u0(r,yield d0()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let l=yield i.exchangeTokenPromise;return yield i_(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?ru.warn(l.message):t&&ru.error(l),o_(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield In(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?ru.warn(l.message):t&&ru.error(l),s=l}let u;return o?s?iu(o)?u={token:o.token,internalError:s}:u=o_(s):(u={token:o.token},i.token=o,yield i_(r,o)):u=o_(s),a&&jj(r,u),u})}function Lj(n){return _(this,null,function*(){let e=n.app;a0(e);let{provider:t}=In(e);if(l0()){let r=yield d0(),{token:i}=yield c0(u0(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield t.getToken();return{token:r}}})}function Fj(n,e,t,r){let{app:i}=n,o=In(i),s={next:t,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&iu(o.token)){let a=o.token;Promise.resolve().then(()=>{t({token:a.token}),i0(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>i0(n))}function h0(n,e){let t=In(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function i0(n){let{app:e}=n,t=In(e),r=t.tokenRefresher;r||(r=Vj(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function Vj(n){let{app:e}=n;return new s_(()=>_(null,null,function*(){let t=In(e),r;if(t.token?r=yield c_(n,!0):r=yield c_(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let t=In(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-300*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},r0.RETRIAL_MIN_WAIT,r0.RETRIAL_MAX_WAIT)}function jj(n,e){let t=In(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function iu(n){return n.expireTimeMillis-Date.now()>0}function o_(n){return{token:Oj(xj),error:n}}var u_=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=In(this.app);for(let t of e)h0(this.app,t.next);return Promise.resolve()}};function Uj(n,e){return new u_(n,e)}function Bj(n){return{getToken:e=>c_(n,e),getLimitedUseToken:()=>Lj(n),addTokenListener:e=>Fj(n,"INTERNAL",e),removeTokenListener:e=>h0(n.app,e)}}var $j="@firebase/app-check",Hj="0.10.1";var zj="app-check",o0="app-check-internal";function qj(){En(new Mt(zj,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return Uj(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(o0).initialize()})),En(new Mt(o0,n=>{let e=n.getProvider("app-check").getImmediate();return Bj(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Oe($j,Hj)}qj();var Gj="app-check";var Ws=class{constructor(){return Gs(Gj)}};var Wj=["localhost","0.0.0.0","127.0.0.1"],Fne=typeof window<"u"&&Wj.includes(window.location.hostname);function S0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var A0=S0,R0=new _n("auth","Firebase",S0());var Yh=new $n("@firebase/auth");function Kj(n,...e){Yh.logLevel<=se.WARN&&Yh.warn(`Auth (${di}): ${n}`,...e)}function Gh(n,...e){Yh.logLevel<=se.ERROR&&Yh.error(`Auth (${di}): ${n}`,...e)}function qn(n,...e){throw S_(n,...e)}function wn(n,...e){return S_(n,...e)}function C_(n,e,t){let r=Object.assign(Object.assign({},A0()),{[e]:t});return new _n("auth","Firebase",r).create(e,{appName:n.name})}function Do(n){return C_(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Qj(n,e,t){let r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&qn(n,"argument-error"),C_(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function S_(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return R0.create(n,...e)}function K(n,e,...t){if(!n)throw S_(e,...t)}function Ir(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Gh(e),new Error(e)}function Tr(n,e){n||Ir(e)}function h_(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function Yj(){return f0()==="http:"||f0()==="https:"}function f0(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function Zj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Yj()||MA()||"connection"in navigator)?navigator.onLine:!0}function Jj(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var bo=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,Tr(t>e,"Short delay should be less than long delay!"),this.isMobile=RA()||PA()}get(){return Zj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function A_(n,e){Tr(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Zh=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ir("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ir("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ir("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var Xj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var eU=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],tU=new bo(3e4,6e4);function R_(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Qs(o,s,a,u){return _(this,arguments,function*(n,e,t,r,i={}){return N0(n,i,()=>_(null,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=Hs(Object.assign({key:n.config.apiKey},h)).slice(1),m=yield n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);let y=Object.assign({method:e,headers:m},l);return NA()||(y.referrerPolicy="no-referrer"),n.emulatorConfig&&ui(n.emulatorConfig.host)&&(y.credentials="include"),Zh.fetch()(yield M0(n,n.config.apiHost,t,p),y)}))})}function N0(n,e,t){return _(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},Xj),e);try{let i=new f_(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw qh(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw qh(n,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw qh(n,"email-already-in-use",s);if(u==="USER_DISABLED")throw qh(n,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw C_(n,h,l);qn(n,h)}}catch(i){if(i instanceof Gt)throw i;qn(n,"network-request-failed",{message:String(i)})}})}function nU(o,s,a,u){return _(this,arguments,function*(n,e,t,r,i={}){let l=yield Qs(n,e,t,r,i);return"mfaPendingCredential"in l&&qn(n,"multi-factor-auth-required",{_serverResponse:l}),l})}function M0(n,e,t,r){return _(this,null,function*(){let i=`${e}${t}?${r}`,o=n,s=o.config.emulator?A_(n.config,i):`${n.config.apiScheme}://${i}`;return eU.includes(t)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}var f_=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(wn(this.auth,"network-request-failed")),tU.get())})}};function qh(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=wn(n,e,r);return i.customData._tokenResponse=t,i}function rU(n,e){return _(this,null,function*(){return Qs(n,"POST","/v1/accounts:delete",e)})}function Jh(n,e){return _(this,null,function*(){return Qs(n,"POST","/v1/accounts:lookup",e)})}function ou(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function N_(n,e=!1){return _(this,null,function*(){let t=xe(n),r=yield t.getIdToken(e),i=M_(r);K(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:ou(l_(i.auth_time)),issuedAtTime:ou(l_(i.iat)),expirationTime:ou(l_(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function l_(n){return Number(n)*1e3}function M_(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Gh("JWT malformed, contained fewer than 3 sections"),null;try{let i=Lh(t);return i?JSON.parse(i):(Gh("Failed to decode base64 JWT payload"),null)}catch(i){return Gh("Caught error parsing JWT payload as JSON",i?.toString()),null}}function p0(n){let e=M_(n);return K(e,"internal-error"),K(typeof e.exp<"u","internal-error"),K(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function au(n,e,t=!1){return _(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof Gt&&iU(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function iU({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var p_=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>_(this,null,function*(){yield this.iteration()}),t)}iteration(){return _(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var cu=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ou(this.lastLoginAt),this.creationTime=ou(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Xh(n){return _(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield au(n,Jh(t,{idToken:r}));K(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?P0(o.providerUserInfo):[],a=oU(n.providerData,s),u=n.isAnonymous,l=!(n.email&&o.passwordHash)&&!a?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new cu(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(n,p)})}function P_(n){return _(this,null,function*(){let e=xe(n);yield Xh(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function oU(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function P0(n){return n.map(e=>{var{providerId:t}=e,r=El(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function sU(n,e){return _(this,null,function*(){let t=yield N0(n,{},()=>_(null,null,function*(){let r=Hs({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=yield M0(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let u={method:"POST",headers:a,body:r};return n.emulatorConfig&&ui(n.emulatorConfig.host)&&(u.credentials="include"),Zh.fetch()(s,u)}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function aU(n,e){return _(this,null,function*(){return Qs(n,"POST","/v2/accounts:revokeToken",R_(n,e))})}var su=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){K(e.idToken,"internal-error"),K(typeof e.idToken<"u","internal-error"),K(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):p0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){K(e.length!==0,"internal-error");let t=p0(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return _(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(K(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return _(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield sU(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(K(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(K(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(K(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return Ir("not implemented")}};function gi(n,e){K(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var mi=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=El(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new p_(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new cu(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return _(this,null,function*(){let t=yield au(this,this.stsTokenManager.getToken(this.auth,e));return K(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return N_(this,e)}reload(){return P_(this)}_assign(e){this!==e&&(K(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){K(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return _(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield Xh(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return _(this,null,function*(){if(Wt(this.auth.app))return Promise.reject(Do(this.auth));let e=yield this.getIdToken();return yield au(this,rU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,u,l,h;let p=(r=t.displayName)!==null&&r!==void 0?r:void 0,m=(i=t.email)!==null&&i!==void 0?i:void 0,y=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,S=(s=t.photoURL)!==null&&s!==void 0?s:void 0,M=(a=t.tenantId)!==null&&a!==void 0?a:void 0,N=(u=t._redirectEventId)!==null&&u!==void 0?u:void 0,L=(l=t.createdAt)!==null&&l!==void 0?l:void 0,z=(h=t.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:Q,emailVerified:De,isAnonymous:Dt,providerData:Ie,stsTokenManager:T}=t;K(Q&&T,e,"internal-error");let v=su.fromJSON(this.name,T);K(typeof Q=="string",e,"internal-error"),gi(p,e.name),gi(m,e.name),K(typeof De=="boolean",e,"internal-error"),K(typeof Dt=="boolean",e,"internal-error"),gi(y,e.name),gi(S,e.name),gi(M,e.name),gi(N,e.name),gi(L,e.name),gi(z,e.name);let I=new n({uid:Q,auth:e,email:m,emailVerified:De,displayName:p,isAnonymous:Dt,photoURL:S,phoneNumber:y,tenantId:M,stsTokenManager:v,createdAt:L,lastLoginAt:z});return Ie&&Array.isArray(Ie)&&(I.providerData=Ie.map(w=>Object.assign({},w))),N&&(I._redirectEventId=N),I}static _fromIdTokenResponse(e,t,r=!1){return _(this,null,function*(){let i=new su;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Xh(o),o})}static _fromGetAccountInfoResponse(e,t,r){return _(this,null,function*(){let i=t.users[0];K(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?P0(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new su;a.updateFromIdToken(r);let u=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new cu(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var g0=new Map;function wr(n){Tr(n instanceof Function,"Expected a class definition");let e=g0.get(n);return e?(Tr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,g0.set(n,e),e)}var cU=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return _(this,null,function*(){return!0})}_set(t,r){return _(this,null,function*(){this.storage[t]=r})}_get(t){return _(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return _(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),g_=cU;function Wh(n,e,t){return`firebase:${n}:${e}:${t}`}var ef=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Wh(this.userKey,i.apiKey,o),this.fullPersistenceKey=Wh("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return _(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=yield Jh(this.auth,{idToken:e}).catch(()=>{});return t?mi._fromGetAccountInfoResponse(this.auth,t,e):null}return mi._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return _(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return _(this,null,function*(){if(!t.length)return new n(wr(g_),e,r);let i=(yield Promise.all(t.map(l=>_(null,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||wr(g_),s=Wh(r,e.config.apiKey,e.name),a=null;for(let l of t)try{let h=yield l._get(s);if(h){let p;if(typeof h=="string"){let m=yield Jh(e,{idToken:h}).catch(()=>{});if(!m)break;p=yield mi._fromGetAccountInfoResponse(e,m,h)}else p=mi._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new n(o,e,r):(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(l=>_(null,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new n(o,e,r))})}};function m0(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(L0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(k0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(V0(e))return"Blackberry";if(j0(e))return"Webos";if(x0(e))return"Safari";if((e.includes("chrome/")||O0(e))&&!e.includes("edge/"))return"Chrome";if(F0(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function k0(n=st()){return/firefox\//i.test(n)}function x0(n=st()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function O0(n=st()){return/crios\//i.test(n)}function L0(n=st()){return/iemobile/i.test(n)}function F0(n=st()){return/android/i.test(n)}function V0(n=st()){return/blackberry/i.test(n)}function j0(n=st()){return/webos/i.test(n)}function k_(n=st()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function uU(n=st()){var e;return k_(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function lU(){return kA()&&document.documentMode===10}function U0(n=st()){return k_(n)||F0(n)||j0(n)||V0(n)||/windows phone/i.test(n)||L0(n)}function B0(n,e=[]){let t;switch(n){case"Browser":t=m0(st());break;case"Worker":t=`${m0(st())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${di}/${r}`}var m_=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return _(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function dU(t){return _(this,arguments,function*(n,e={}){return Qs(n,"GET","/v2/passwordPolicy",R_(n,e))})}var hU=6,y_=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:hU,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(t=u.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var v_=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new tf(this),this.idTokenSubscription=new tf(this),this.beforeStateQueue=new m_(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=R0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=wr(t)),this._initializationPromise=this.queue(()=>_(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield ef.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return _(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return _(this,null,function*(){try{let t=yield Jh(this,{idToken:e}),r=yield mi._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return _(this,null,function*(){var t;if(Wt(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return K(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return _(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return _(this,null,function*(){try{yield Xh(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=Jj()}_delete(){return _(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return _(this,null,function*(){if(Wt(this.app))return Promise.reject(Do(this));let t=e?xe(e):null;return t&&K(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return _(this,null,function*(){if(!this._deleted)return e&&K(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>_(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return _(this,null,function*(){return Wt(this.app)?Promise.reject(Do(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Wt(this.app)?Promise.reject(Do(this)):this.queue(()=>_(this,null,function*(){yield this.assertedPersistence.setPersistence(wr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return _(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return _(this,null,function*(){let e=yield dU(this),t=new y_(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new _n("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return _(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield aU(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return _(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return _(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&wr(e)||this._popupRedirectResolver;K(t,this,"argument-error"),this.redirectPersistenceManager=yield ef.create(this,[wr(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return _(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>_(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return _(this,null,function*(){if(e===this.currentUser)return this.queue(()=>_(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(K(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let u=e.addObserver(t,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(t);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return _(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return K(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=B0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return _(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return _(this,null,function*(){var e;if(Wt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&Kj(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function lf(n){return xe(n)}var tf=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=FA(t=>this.observer=t)}get next(){return K(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var x_={loadJS(){return _(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function fU(n){x_=n}function pU(n){return x_.loadJS(n)}function gU(){return x_.gapiScript}function $0(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function O_(n,e){let t=zs(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),o=t.getOptions();if(Bn(o,e??{}))return i;qn(i,"already-initialized")}return t.initialize({options:e})}function mU(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(wr);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function L_(n,e,t){let r=lf(n);K(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,o=H0(e),{host:s,port:a}=yU(e),u=a===null?"":`:${a}`,l={url:`${o}//${s}${u}/`},h=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){K(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),K(Bn(l,r.config.emulator)&&Bn(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,ui(s)?(Vh(`${o}//${s}${u}`),jh("Auth",!0)):i||vU()}function H0(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function yU(n){let e=H0(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:y0(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:y0(s)}}}function y0(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function vU(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var uu=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ir("not implemented")}_getIdTokenResponse(e){return Ir("not implemented")}_linkToIdToken(e,t){return Ir("not implemented")}_getReauthenticationResolver(e){return Ir("not implemented")}};function Ks(n,e){return _(this,null,function*(){return nU(n,"POST","/v1/accounts:signInWithIdp",R_(n,e))})}var _U="http://localhost",nf=class n extends uu{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):qn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,o=El(t,["providerId","signInMethod"]);if(!r||!i)return null;let s=new n(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){let t=this.buildRequest();return Ks(e,t)}_linkToIdToken(e,t){let r=this.buildRequest();return r.idToken=t,Ks(e,r)}_getReauthenticationResolver(e){let t=this.buildRequest();return t.autoCreate=!1,Ks(e,t)}buildRequest(){let e={requestUri:_U,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Hs(t)}return e}};var lu=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var rf=class extends lu{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var F_=(()=>{class n extends rf{constructor(){super("google.com"),this.addScope("profile")}static credential(t,r){return nf._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:r})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;let{oauthIdToken:r,oauthAccessToken:i}=t;if(!r&&!i)return null;try{return n.credential(r,i)}catch{return null}}}n.GOOGLE_SIGN_IN_METHOD="google.com",n.PROVIDER_ID="google.com";return n})();var du=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return _(this,null,function*(){let o=yield mi._fromIdTokenResponse(e,r,i),s=v0(r);return new n({user:o,providerId:s,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return _(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=v0(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function v0(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var __=class n extends Gt{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function z0(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?__._fromErrorAndOperation(n,o,e,r):o})}function EU(n,e,t=!1){return _(this,null,function*(){let r=yield au(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return du._forOperation(n,"link",r)})}function IU(n,e,t=!1){return _(this,null,function*(){let{auth:r}=n;if(Wt(r.app))return Promise.reject(Do(r));let i="reauthenticate";try{let o=yield au(n,z0(r,i,e,n),t);K(o.idToken,r,"internal-error");let s=M_(o.idToken);K(s,r,"internal-error");let{sub:a}=s;return K(n.uid===a,r,"user-mismatch"),du._forOperation(n,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&qn(r,"user-mismatch"),o}})}function wU(n,e,t=!1){return _(this,null,function*(){if(Wt(n.app))return Promise.reject(Do(n));let r="signIn",i=yield z0(n,r,e),o=yield du._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(o.user)),o})}function df(n,e,t,r){return xe(n).onIdTokenChanged(e,t,r)}function V_(n,e,t){return xe(n).beforeAuthStateChanged(e,t)}function hf(n,e,t,r){return xe(n).onAuthStateChanged(e,t,r)}function j_(n){return xe(n).signOut()}var of="__sak";var sf=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(of,"1"),this.storage.removeItem(of),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var TU=1e3,DU=10,bU=(()=>{class n extends sf{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=U0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=t.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);lU()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,DU):o()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},TU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return _(this,null,function*(){yield Lr(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return _(this,null,function*(){let r=yield Lr(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return _(this,null,function*(){yield Lr(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),q0=bU;var CU=(()=>{class n extends sf{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),U_=CU;function SU(n){return Promise.all(n.map(e=>_(null,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var AU=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return _(this,null,function*(){let r=t,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(a).map(h=>_(this,null,function*(){return h(r.origin,s)})),l=yield SU(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function B_(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var E_=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return _(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{let l=B_("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let m=p;if(m.data.eventId===l)switch(m.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(m.data.response);break;default:clearTimeout(h),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function zn(){return window}function RU(n){zn().location.href=n}function G0(){return typeof zn().WorkerGlobalScope<"u"&&typeof zn().importScripts=="function"}function NU(){return _(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function MU(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function PU(){return G0()?self:null}var W0="firebaseLocalStorageDb",kU=1,af="firebaseLocalStorage",K0="fbase_key",Co=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function ff(n,e){return n.transaction([af],e?"readwrite":"readonly").objectStore(af)}function xU(){let n=indexedDB.deleteDatabase(W0);return new Co(n).toPromise()}function I_(){let n=indexedDB.open(W0,kU);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(af,{keyPath:K0})}catch(i){t(i)}}),n.addEventListener("success",()=>_(null,null,function*(){let r=n.result;r.objectStoreNames.contains(af)?e(r):(r.close(),yield xU(),e(yield I_()))}))})}function _0(n,e,t){return _(this,null,function*(){let r=ff(n,!0).put({[K0]:e,value:t});return new Co(r).toPromise()})}function OU(n,e){return _(this,null,function*(){let t=ff(n,!1).get(e),r=yield new Co(t).toPromise();return r===void 0?null:r.value})}function E0(n,e){let t=ff(n,!0).delete(e);return new Co(t).toPromise()}var LU=800,FU=3,VU=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return _(this,null,function*(){return this.db?this.db:(this.db=yield I_(),this.db)})}_withRetries(t){return _(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>FU)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return _(this,null,function*(){return G0()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return _(this,null,function*(){this.receiver=AU._getInstance(PU()),this.receiver._subscribe("keyChanged",(t,r)=>_(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>_(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return _(this,null,function*(){var t,r;if(this.activeServiceWorker=yield NU(),!this.activeServiceWorker)return;this.sender=new E_(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return _(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||MU()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return _(this,null,function*(){try{if(!indexedDB)return!1;let t=yield I_();return yield _0(t,of,"1"),yield E0(t,of),!0}catch{}return!1})}_withPendingWrite(t){return _(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(i=>_0(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return _(this,null,function*(){let r=yield this._withRetries(i=>OU(i,t));return this.localCache[t]=r,r})}_remove(t){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(r=>E0(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return _(this,null,function*(){let t=yield this._withRetries(o=>{let s=ff(o,!1).getAll();return new Co(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>_(this,null,function*(){return this._poll()}),LU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),Q0=VU;var Wne=$0("rcb"),Kne=new bo(3e4,6e4);function Y0(n,e){return e?wr(e):(K(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var hu=class extends uu{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ks(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ks(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ks(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function jU(n){return wU(n.auth,new hu(n),n.bypassAuthState)}function UU(n){let{auth:e,user:t}=n;return K(t,e,"internal-error"),IU(t,new hu(n),n.bypassAuthState)}function BU(n){return _(this,null,function*(){let{auth:e,user:t}=n;return K(t,e,"internal-error"),EU(t,new hu(n),n.bypassAuthState)})}var cf=class{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>_(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return _(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return jU;case"linkViaPopup":case"linkViaRedirect":return BU;case"reauthViaPopup":case"reauthViaRedirect":return UU;default:qn(this.auth,"internal-error")}}resolve(e){Tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var $U=new bo(2e3,1e4);function $_(n,e,t){return _(this,null,function*(){if(Wt(n.app))return Promise.reject(wn(n,"operation-not-supported-in-this-environment"));let r=lf(n);Qj(n,e,lu);let i=Y0(r,t);return new HU(r,"signInViaPopup",e,i).executeNotNull()})}var HU=(()=>{class n extends cf{constructor(t,r,i,o,s){super(t,r,o,s),this.provider=i,this.authWindow=null,this.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=this}executeNotNull(){return _(this,null,function*(){let t=yield this.execute();return K(t,this.auth,"internal-error"),t})}onExecution(){return _(this,null,function*(){Tr(this.filter.length===1,"Popup operations only handle one event");let t=B_();this.authWindow=yield this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(wn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()})}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(wn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}pollUserCancellation(){let t=()=>{var r,i;if(!((i=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(wn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,$U.get())};t()}}n.currentPopupAction=null;return n})(),zU="pendingRedirect",Kh=new Map,w_=class n extends cf{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return _(this,null,function*(){let e=Kh.get(this.auth._key());if(!e){try{let r=(yield qU(this.resolver,this.auth))?yield Lr(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Kh.set(this.auth._key(),e)}return this.bypassAuthState||Kh.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return _(this,null,function*(){if(e.type==="signInViaRedirect")return Lr(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,Lr(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return _(this,null,function*(){})}cleanUp(){}};function qU(n,e){return _(this,null,function*(){let t=KU(e),r=WU(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function GU(n,e){Kh.set(n._key(),e)}function WU(n){return wr(n._redirectPersistence)}function KU(n){return Wh(zU,n.config.apiKey,n.name)}function QU(n,e,t=!1){return _(this,null,function*(){if(Wt(n.app))return Promise.reject(Do(n));let r=lf(n),i=Y0(r,e),s=yield new w_(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var YU=600*1e3,T_=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!ZU(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!Z0(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(wn(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=YU&&this.cachedEventUids.clear(),this.cachedEventUids.has(I0(e))}saveEventToCache(e){this.cachedEventUids.add(I0(e)),this.lastProcessedEventTime=Date.now()}};function I0(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Z0({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function ZU(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Z0(n);default:return!1}}function JU(t){return _(this,arguments,function*(n,e={}){return Qs(n,"GET","/v1/projects",e)})}var XU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,eB=/^https?/;function tB(n){return _(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield JU(n);for(let t of e)try{if(nB(t))return}catch{}qn(n,"unauthorized-domain")})}function nB(n){let e=h_(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!eB.test(t))return!1;if(XU.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var rB=new bo(3e4,6e4);function w0(){let n=zn().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function iB(n){return new Promise((e,t)=>{var r,i,o;function s(){w0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{w0(),t(wn(n,"network-request-failed"))},timeout:rB.get()})}if(!((i=(r=zn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=zn().gapi)===null||o===void 0)&&o.load)s();else{let a=$0("iframefcb");return zn()[a]=()=>{gapi.load?s():t(wn(n,"network-request-failed"))},pU(`${gU()}?onload=${a}`).catch(u=>t(u))}}).catch(e=>{throw Qh=null,e})}var Qh=null;function oB(n){return Qh=Qh||iB(n),Qh}var sB=new bo(5e3,15e3),aB="__/auth/iframe",cB="emulator/auth/iframe",uB={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},lB=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function dB(n){let e=n.config;K(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?A_(e,cB):`https://${n.config.authDomain}/${aB}`,r={apiKey:e.apiKey,appName:n.name,v:di},i=lB.get(n.config.apiHost);i&&(r.eid=i);let o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${Hs(r).slice(1)}`}function hB(n){return _(this,null,function*(){let e=yield oB(n),t=zn().gapi;return K(t,n,"internal-error"),e.open({where:document.body,url:dB(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:uB,dontclear:!0},r=>new Promise((i,o)=>_(null,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=wn(n,"network-request-failed"),a=zn().setTimeout(()=>{o(s)},sB.get());function u(){zn().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})})))})}var fB={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},pB=500,gB=600,mB="_blank",yB="http://localhost",uf=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function vB(n,e,t,r=pB,i=gB){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},fB),{width:r.toString(),height:i.toString(),top:o,left:s}),l=st().toLowerCase();t&&(a=O0(l)?mB:t),k0(l)&&(e=e||yB,u.scrollbars="yes");let h=Object.entries(u).reduce((m,[y,S])=>`${m}${y}=${S},`,"");if(uU(l)&&a!=="_self")return _B(e||"",a),new uf(null);let p=window.open(e||"",a,h);K(p,n,"popup-blocked");try{p.focus()}catch{}return new uf(p)}function _B(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var EB="__/auth/handler",IB="emulator/auth/handler",wB=encodeURIComponent("fac");function T0(n,e,t,r,i,o){return _(this,null,function*(){K(n.config.authDomain,n,"auth-domain-config-required"),K(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:di,eventId:i};if(e instanceof lu){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",LA(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof rf){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}n.tenantId&&(s.tid=n.tenantId);let a=s;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=yield n._getAppCheckToken(),l=u?`#${wB}=${encodeURIComponent(u)}`:"";return`${TB(n)}?${Hs(a).slice(1)}${l}`})}function TB({config:n}){return n.emulator?A_(n,IB):`https://${n.authDomain}/${EB}`}var d_="webStorageSupport",D_=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=U_,this._completeRedirectFn=QU,this._overrideRedirectResult=GU}_openPopup(e,t,r,i){return _(this,null,function*(){var o;Tr((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield T0(e,t,r,h_(),i);return vB(e,s,B_())})}_openRedirect(e,t,r,i){return _(this,null,function*(){yield this._originValidation(e);let o=yield T0(e,t,r,h_(),i);return RU(o),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(Tr(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return _(this,null,function*(){let t=yield hB(e),r=new T_(e);return t.register("authEvent",i=>(K(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(d_,{type:d_},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[d_];s!==void 0&&t(!!s),qn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=tB(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return U0()||x0()||k_()}},J0=D_;var D0="@firebase/auth",b0="1.10.8";var b_=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return _(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){K(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function DB(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function bB(n){En(new Mt("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;K(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:B0(n)},l=new v_(r,i,o,u);return mU(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),En(new Mt("auth-internal",e=>{let t=lf(e.getProvider("auth").getImmediate());return(r=>new b_(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Oe(D0,b0,DB(n)),Oe(D0,b0,"esm2017")}var CB=300,SB=Bv("authIdTokenMaxAge")||CB,C0=null,AB=n=>e=>_(null,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>SB)return;let i=t?.token;C0!==i&&(C0=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function H_(n=Io()){let e=zs(n,"auth");if(e.isInitialized())return e.getImmediate();let t=O_(n,{popupRedirectResolver:J0,persistence:[Q0,q0,U_]}),r=Bv("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=AB(o.toString());V_(t,s,()=>s(t.currentUser)),df(t,a=>s(a))}}let i=jv("auth");return i&&L_(t,`http://${i}`),t}function RB(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}fU({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=wn("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",RB().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});bB("Browser");function eR(n){return new J(function(e){var t=hf(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:t}})}var tR="auth",So=class{constructor(e){return e}},fu=class{constructor(){return Gs(tR)}};var z_=new U("angularfire2.auth-instances");function v$(n,e){let t=nu(tR,n,e);return t&&new So(t)}function _$(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new So(r)}}var E$={provide:fu,deps:[[new $t,z_]]},I$={provide:So,useFactory:v$,deps:[[new $t,z_],Er]};function nR(n,...e){return Oe("angularfire",hi.full,"auth"),Lt([I$,E$,{provide:z_,useFactory:_$(n),multi:!0,deps:[pe,je,fi,To,[new $t,Ws],...e]}])}var rR=qe(eR,!0);var iR=qe(H_,!0);var oR=qe($_,!0,2);var sR=qe(j_,!0,2);var aR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},cR={};var Dr,q_;(function(){var n;function e(T,v){function I(){}I.prototype=v.prototype,T.D=v.prototype,T.prototype=new I,T.prototype.constructor=T,T.C=function(w,D,C){for(var E=Array(arguments.length-2),Jn=2;Jn<arguments.length;Jn++)E[Jn-2]=arguments[Jn];return v.prototype[D].apply(w,E)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,v,I){I||(I=0);var w=Array(16);if(typeof v=="string")for(var D=0;16>D;++D)w[D]=v.charCodeAt(I++)|v.charCodeAt(I++)<<8|v.charCodeAt(I++)<<16|v.charCodeAt(I++)<<24;else for(D=0;16>D;++D)w[D]=v[I++]|v[I++]<<8|v[I++]<<16|v[I++]<<24;v=T.g[0],I=T.g[1],D=T.g[2];var C=T.g[3],E=v+(C^I&(D^C))+w[0]+3614090360&4294967295;v=I+(E<<7&4294967295|E>>>25),E=C+(D^v&(I^D))+w[1]+3905402710&4294967295,C=v+(E<<12&4294967295|E>>>20),E=D+(I^C&(v^I))+w[2]+606105819&4294967295,D=C+(E<<17&4294967295|E>>>15),E=I+(v^D&(C^v))+w[3]+3250441966&4294967295,I=D+(E<<22&4294967295|E>>>10),E=v+(C^I&(D^C))+w[4]+4118548399&4294967295,v=I+(E<<7&4294967295|E>>>25),E=C+(D^v&(I^D))+w[5]+1200080426&4294967295,C=v+(E<<12&4294967295|E>>>20),E=D+(I^C&(v^I))+w[6]+2821735955&4294967295,D=C+(E<<17&4294967295|E>>>15),E=I+(v^D&(C^v))+w[7]+4249261313&4294967295,I=D+(E<<22&4294967295|E>>>10),E=v+(C^I&(D^C))+w[8]+1770035416&4294967295,v=I+(E<<7&4294967295|E>>>25),E=C+(D^v&(I^D))+w[9]+2336552879&4294967295,C=v+(E<<12&4294967295|E>>>20),E=D+(I^C&(v^I))+w[10]+4294925233&4294967295,D=C+(E<<17&4294967295|E>>>15),E=I+(v^D&(C^v))+w[11]+2304563134&4294967295,I=D+(E<<22&4294967295|E>>>10),E=v+(C^I&(D^C))+w[12]+1804603682&4294967295,v=I+(E<<7&4294967295|E>>>25),E=C+(D^v&(I^D))+w[13]+4254626195&4294967295,C=v+(E<<12&4294967295|E>>>20),E=D+(I^C&(v^I))+w[14]+2792965006&4294967295,D=C+(E<<17&4294967295|E>>>15),E=I+(v^D&(C^v))+w[15]+1236535329&4294967295,I=D+(E<<22&4294967295|E>>>10),E=v+(D^C&(I^D))+w[1]+4129170786&4294967295,v=I+(E<<5&4294967295|E>>>27),E=C+(I^D&(v^I))+w[6]+3225465664&4294967295,C=v+(E<<9&4294967295|E>>>23),E=D+(v^I&(C^v))+w[11]+643717713&4294967295,D=C+(E<<14&4294967295|E>>>18),E=I+(C^v&(D^C))+w[0]+3921069994&4294967295,I=D+(E<<20&4294967295|E>>>12),E=v+(D^C&(I^D))+w[5]+3593408605&4294967295,v=I+(E<<5&4294967295|E>>>27),E=C+(I^D&(v^I))+w[10]+38016083&4294967295,C=v+(E<<9&4294967295|E>>>23),E=D+(v^I&(C^v))+w[15]+3634488961&4294967295,D=C+(E<<14&4294967295|E>>>18),E=I+(C^v&(D^C))+w[4]+3889429448&4294967295,I=D+(E<<20&4294967295|E>>>12),E=v+(D^C&(I^D))+w[9]+568446438&4294967295,v=I+(E<<5&4294967295|E>>>27),E=C+(I^D&(v^I))+w[14]+3275163606&4294967295,C=v+(E<<9&4294967295|E>>>23),E=D+(v^I&(C^v))+w[3]+4107603335&4294967295,D=C+(E<<14&4294967295|E>>>18),E=I+(C^v&(D^C))+w[8]+1163531501&4294967295,I=D+(E<<20&4294967295|E>>>12),E=v+(D^C&(I^D))+w[13]+2850285829&4294967295,v=I+(E<<5&4294967295|E>>>27),E=C+(I^D&(v^I))+w[2]+4243563512&4294967295,C=v+(E<<9&4294967295|E>>>23),E=D+(v^I&(C^v))+w[7]+1735328473&4294967295,D=C+(E<<14&4294967295|E>>>18),E=I+(C^v&(D^C))+w[12]+2368359562&4294967295,I=D+(E<<20&4294967295|E>>>12),E=v+(I^D^C)+w[5]+4294588738&4294967295,v=I+(E<<4&4294967295|E>>>28),E=C+(v^I^D)+w[8]+2272392833&4294967295,C=v+(E<<11&4294967295|E>>>21),E=D+(C^v^I)+w[11]+1839030562&4294967295,D=C+(E<<16&4294967295|E>>>16),E=I+(D^C^v)+w[14]+4259657740&4294967295,I=D+(E<<23&4294967295|E>>>9),E=v+(I^D^C)+w[1]+2763975236&4294967295,v=I+(E<<4&4294967295|E>>>28),E=C+(v^I^D)+w[4]+1272893353&4294967295,C=v+(E<<11&4294967295|E>>>21),E=D+(C^v^I)+w[7]+4139469664&4294967295,D=C+(E<<16&4294967295|E>>>16),E=I+(D^C^v)+w[10]+3200236656&4294967295,I=D+(E<<23&4294967295|E>>>9),E=v+(I^D^C)+w[13]+681279174&4294967295,v=I+(E<<4&4294967295|E>>>28),E=C+(v^I^D)+w[0]+3936430074&4294967295,C=v+(E<<11&4294967295|E>>>21),E=D+(C^v^I)+w[3]+3572445317&4294967295,D=C+(E<<16&4294967295|E>>>16),E=I+(D^C^v)+w[6]+76029189&4294967295,I=D+(E<<23&4294967295|E>>>9),E=v+(I^D^C)+w[9]+3654602809&4294967295,v=I+(E<<4&4294967295|E>>>28),E=C+(v^I^D)+w[12]+3873151461&4294967295,C=v+(E<<11&4294967295|E>>>21),E=D+(C^v^I)+w[15]+530742520&4294967295,D=C+(E<<16&4294967295|E>>>16),E=I+(D^C^v)+w[2]+3299628645&4294967295,I=D+(E<<23&4294967295|E>>>9),E=v+(D^(I|~C))+w[0]+4096336452&4294967295,v=I+(E<<6&4294967295|E>>>26),E=C+(I^(v|~D))+w[7]+1126891415&4294967295,C=v+(E<<10&4294967295|E>>>22),E=D+(v^(C|~I))+w[14]+2878612391&4294967295,D=C+(E<<15&4294967295|E>>>17),E=I+(C^(D|~v))+w[5]+4237533241&4294967295,I=D+(E<<21&4294967295|E>>>11),E=v+(D^(I|~C))+w[12]+1700485571&4294967295,v=I+(E<<6&4294967295|E>>>26),E=C+(I^(v|~D))+w[3]+2399980690&4294967295,C=v+(E<<10&4294967295|E>>>22),E=D+(v^(C|~I))+w[10]+4293915773&4294967295,D=C+(E<<15&4294967295|E>>>17),E=I+(C^(D|~v))+w[1]+2240044497&4294967295,I=D+(E<<21&4294967295|E>>>11),E=v+(D^(I|~C))+w[8]+1873313359&4294967295,v=I+(E<<6&4294967295|E>>>26),E=C+(I^(v|~D))+w[15]+4264355552&4294967295,C=v+(E<<10&4294967295|E>>>22),E=D+(v^(C|~I))+w[6]+2734768916&4294967295,D=C+(E<<15&4294967295|E>>>17),E=I+(C^(D|~v))+w[13]+1309151649&4294967295,I=D+(E<<21&4294967295|E>>>11),E=v+(D^(I|~C))+w[4]+4149444226&4294967295,v=I+(E<<6&4294967295|E>>>26),E=C+(I^(v|~D))+w[11]+3174756917&4294967295,C=v+(E<<10&4294967295|E>>>22),E=D+(v^(C|~I))+w[2]+718787259&4294967295,D=C+(E<<15&4294967295|E>>>17),E=I+(C^(D|~v))+w[9]+3951481745&4294967295,T.g[0]=T.g[0]+v&4294967295,T.g[1]=T.g[1]+(D+(E<<21&4294967295|E>>>11))&4294967295,T.g[2]=T.g[2]+D&4294967295,T.g[3]=T.g[3]+C&4294967295}r.prototype.u=function(T,v){v===void 0&&(v=T.length);for(var I=v-this.blockSize,w=this.B,D=this.h,C=0;C<v;){if(D==0)for(;C<=I;)i(this,T,C),C+=this.blockSize;if(typeof T=="string"){for(;C<v;)if(w[D++]=T.charCodeAt(C++),D==this.blockSize){i(this,w),D=0;break}}else for(;C<v;)if(w[D++]=T[C++],D==this.blockSize){i(this,w),D=0;break}}this.h=D,this.o+=v},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var v=1;v<T.length-8;++v)T[v]=0;var I=8*this.o;for(v=T.length-8;v<T.length;++v)T[v]=I&255,I/=256;for(this.u(T),T=Array(16),v=I=0;4>v;++v)for(var w=0;32>w;w+=8)T[I++]=this.g[v]>>>w&255;return T};function o(T,v){var I=a;return Object.prototype.hasOwnProperty.call(I,T)?I[T]:I[T]=v(T)}function s(T,v){this.h=v;for(var I=[],w=!0,D=T.length-1;0<=D;D--){var C=T[D]|0;w&&C==v||(I[D]=C,w=!1)}this.g=I}var a={};function u(T){return-128<=T&&128>T?o(T,function(v){return new s([v|0],0>v?-1:0)}):new s([T|0],0>T?-1:0)}function l(T){if(isNaN(T)||!isFinite(T))return p;if(0>T)return N(l(-T));for(var v=[],I=1,w=0;T>=I;w++)v[w]=T/I|0,I*=4294967296;return new s(v,0)}function h(T,v){if(T.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(T.charAt(0)=="-")return N(h(T.substring(1),v));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=l(Math.pow(v,8)),w=p,D=0;D<T.length;D+=8){var C=Math.min(8,T.length-D),E=parseInt(T.substring(D,D+C),v);8>C?(C=l(Math.pow(v,C)),w=w.j(C).add(l(E))):(w=w.j(I),w=w.add(l(E)))}return w}var p=u(0),m=u(1),y=u(16777216);n=s.prototype,n.m=function(){if(M(this))return-N(this).m();for(var T=0,v=1,I=0;I<this.g.length;I++){var w=this.i(I);T+=(0<=w?w:4294967296+w)*v,v*=4294967296}return T},n.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(S(this))return"0";if(M(this))return"-"+N(this).toString(T);for(var v=l(Math.pow(T,6)),I=this,w="";;){var D=De(I,v).g;I=L(I,D.j(v));var C=((0<I.g.length?I.g[0]:I.h)>>>0).toString(T);if(I=D,S(I))return C+w;for(;6>C.length;)C="0"+C;w=C+w}},n.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function S(T){if(T.h!=0)return!1;for(var v=0;v<T.g.length;v++)if(T.g[v]!=0)return!1;return!0}function M(T){return T.h==-1}n.l=function(T){return T=L(this,T),M(T)?-1:S(T)?0:1};function N(T){for(var v=T.g.length,I=[],w=0;w<v;w++)I[w]=~T.g[w];return new s(I,~T.h).add(m)}n.abs=function(){return M(this)?N(this):this},n.add=function(T){for(var v=Math.max(this.g.length,T.g.length),I=[],w=0,D=0;D<=v;D++){var C=w+(this.i(D)&65535)+(T.i(D)&65535),E=(C>>>16)+(this.i(D)>>>16)+(T.i(D)>>>16);w=E>>>16,C&=65535,E&=65535,I[D]=E<<16|C}return new s(I,I[I.length-1]&-2147483648?-1:0)};function L(T,v){return T.add(N(v))}n.j=function(T){if(S(this)||S(T))return p;if(M(this))return M(T)?N(this).j(N(T)):N(N(this).j(T));if(M(T))return N(this.j(N(T)));if(0>this.l(y)&&0>T.l(y))return l(this.m()*T.m());for(var v=this.g.length+T.g.length,I=[],w=0;w<2*v;w++)I[w]=0;for(w=0;w<this.g.length;w++)for(var D=0;D<T.g.length;D++){var C=this.i(w)>>>16,E=this.i(w)&65535,Jn=T.i(D)>>>16,Ea=T.i(D)&65535;I[2*w+2*D]+=E*Ea,z(I,2*w+2*D),I[2*w+2*D+1]+=C*Ea,z(I,2*w+2*D+1),I[2*w+2*D+1]+=E*Jn,z(I,2*w+2*D+1),I[2*w+2*D+2]+=C*Jn,z(I,2*w+2*D+2)}for(w=0;w<v;w++)I[w]=I[2*w+1]<<16|I[2*w];for(w=v;w<2*v;w++)I[w]=0;return new s(I,0)};function z(T,v){for(;(T[v]&65535)!=T[v];)T[v+1]+=T[v]>>>16,T[v]&=65535,v++}function Q(T,v){this.g=T,this.h=v}function De(T,v){if(S(v))throw Error("division by zero");if(S(T))return new Q(p,p);if(M(T))return v=De(N(T),v),new Q(N(v.g),N(v.h));if(M(v))return v=De(T,N(v)),new Q(N(v.g),v.h);if(30<T.g.length){if(M(T)||M(v))throw Error("slowDivide_ only works with positive integers.");for(var I=m,w=v;0>=w.l(T);)I=Dt(I),w=Dt(w);var D=Ie(I,1),C=Ie(w,1);for(w=Ie(w,2),I=Ie(I,2);!S(w);){var E=C.add(w);0>=E.l(T)&&(D=D.add(I),C=E),w=Ie(w,1),I=Ie(I,1)}return v=L(T,D.j(v)),new Q(D,v)}for(D=p;0<=T.l(v);){for(I=Math.max(1,Math.floor(T.m()/v.m())),w=Math.ceil(Math.log(I)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),C=l(I),E=C.j(v);M(E)||0<E.l(T);)I-=w,C=l(I),E=C.j(v);S(C)&&(C=m),D=D.add(C),T=L(T,E)}return new Q(D,T)}n.A=function(T){return De(this,T).h},n.and=function(T){for(var v=Math.max(this.g.length,T.g.length),I=[],w=0;w<v;w++)I[w]=this.i(w)&T.i(w);return new s(I,this.h&T.h)},n.or=function(T){for(var v=Math.max(this.g.length,T.g.length),I=[],w=0;w<v;w++)I[w]=this.i(w)|T.i(w);return new s(I,this.h|T.h)},n.xor=function(T){for(var v=Math.max(this.g.length,T.g.length),I=[],w=0;w<v;w++)I[w]=this.i(w)^T.i(w);return new s(I,this.h^T.h)};function Dt(T){for(var v=T.g.length+1,I=[],w=0;w<v;w++)I[w]=T.i(w)<<1|T.i(w-1)>>>31;return new s(I,T.h)}function Ie(T,v){var I=v>>5;v%=32;for(var w=T.g.length-I,D=[],C=0;C<w;C++)D[C]=0<v?T.i(C+I)>>>v|T.i(C+I+1)<<32-v:T.i(C+I);return new s(D,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,q_=cR.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,Dr=cR.Integer=s}).apply(typeof aR<"u"?aR:typeof self<"u"?self:typeof window<"u"?window:{});var pf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},br={};var G_,T$,Ys,W_,pu,gf,K_,Q_,Y_;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof pf=="object"&&pf];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=t(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var g=0;g<c.length-1;g++){var b=c[g];if(!(b in f))break e;f=f[b]}c=c[c.length-1],g=f[c],d=d(g),d!=g&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,g=!1,b={next:function(){if(!g&&f<c.length){var A=f++;return{value:d(A,c[A]),done:!1}}return g=!0,{done:!0,value:void 0}}};return b[Symbol.iterator]=function(){return b},b}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(b,g),c.apply(d,b)}}return function(){return c.apply(d,arguments)}}function m(c,d,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function y(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function S(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(g,b,A){for(var x=Array(arguments.length-2),be=2;be<arguments.length;be++)x[be-2]=arguments[be];return d.prototype[b].apply(g,x)}}function M(c){let d=c.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=c[g];return f}return[]}function N(c,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let b=c.length||0,A=g.length||0;c.length=b+A;for(let x=0;x<A;x++)c[b+x]=g[x]}else c.push(g)}}class L{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function z(c){return/^[\s\xa0]*$/.test(c)}function Q(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function De(c){return De[" "](c),c}De[" "]=function(){};var Dt=Q().indexOf("Gecko")!=-1&&!(Q().toLowerCase().indexOf("webkit")!=-1&&Q().indexOf("Edge")==-1)&&!(Q().indexOf("Trident")!=-1||Q().indexOf("MSIE")!=-1)&&Q().indexOf("Edge")==-1;function Ie(c,d,f){for(let g in c)d.call(f,c[g],g,c)}function T(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function v(c){let d={};for(let f in c)d[f]=c[f];return d}let I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(c,d){let f,g;for(let b=1;b<arguments.length;b++){g=arguments[b];for(f in g)c[f]=g[f];for(let A=0;A<I.length;A++)f=I[A],Object.prototype.hasOwnProperty.call(g,f)&&(c[f]=g[f])}}function D(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function C(c){a.setTimeout(()=>{throw c},0)}function E(){var c=wp;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class Jn{constructor(){this.h=this.g=null}add(d,f){let g=Ea.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var Ea=new L(()=>new iP,c=>c.reset());class iP{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let Ia,wa=!1,wp=new Jn,mw=()=>{let c=a.Promise.resolve(void 0);Ia=()=>{c.then(oP)}};var oP=()=>{for(var c;c=E();){try{c.h.call(c.g)}catch(f){C(f)}var d=Ea;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}wa=!1};function Pr(){this.s=this.s,this.C=this.C}Pr.prototype.s=!1,Pr.prototype.ma=function(){this.s||(this.s=!0,this.N())},Pr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ft(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}ft.prototype.h=function(){this.defaultPrevented=!0};var sP=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c})();function Ta(c,d){if(ft.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(Dt){e:{try{De(d.nodeName);var b=!0;break e}catch{}b=!1}b||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:aP[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ta.aa.h.call(this)}}S(Ta,ft);var aP={2:"touch",3:"pen",4:"mouse"};Ta.prototype.h=function(){Ta.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Da="closure_listenable_"+(1e6*Math.random()|0),cP=0;function uP(c,d,f,g,b){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=b,this.key=++cP,this.da=this.fa=!1}function $u(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Hu(c){this.src=c,this.g={},this.h=0}Hu.prototype.add=function(c,d,f,g,b){var A=c.toString();c=this.g[A],c||(c=this.g[A]=[],this.h++);var x=Dp(c,d,g,b);return-1<x?(d=c[x],f||(d.fa=!1)):(d=new uP(d,this.src,A,!!g,b),d.fa=f,c.push(d)),d};function Tp(c,d){var f=d.type;if(f in c.g){var g=c.g[f],b=Array.prototype.indexOf.call(g,d,void 0),A;(A=0<=b)&&Array.prototype.splice.call(g,b,1),A&&($u(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function Dp(c,d,f,g){for(var b=0;b<c.length;++b){var A=c[b];if(!A.da&&A.listener==d&&A.capture==!!f&&A.ha==g)return b}return-1}var bp="closure_lm_"+(1e6*Math.random()|0),Cp={};function yw(c,d,f,g,b){if(g&&g.once)return _w(c,d,f,g,b);if(Array.isArray(d)){for(var A=0;A<d.length;A++)yw(c,d[A],f,g,b);return null}return f=Np(f),c&&c[Da]?c.K(d,f,l(g)?!!g.capture:!!g,b):vw(c,d,f,!1,g,b)}function vw(c,d,f,g,b,A){if(!d)throw Error("Invalid event type");var x=l(b)?!!b.capture:!!b,be=Ap(c);if(be||(c[bp]=be=new Hu(c)),f=be.add(d,f,g,x,A),f.proxy)return f;if(g=lP(),f.proxy=g,g.src=c,g.listener=f,c.addEventListener)sP||(b=x),b===void 0&&(b=!1),c.addEventListener(d.toString(),g,b);else if(c.attachEvent)c.attachEvent(Iw(d.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function lP(){function c(f){return d.call(c.src,c.listener,f)}let d=dP;return c}function _w(c,d,f,g,b){if(Array.isArray(d)){for(var A=0;A<d.length;A++)_w(c,d[A],f,g,b);return null}return f=Np(f),c&&c[Da]?c.L(d,f,l(g)?!!g.capture:!!g,b):vw(c,d,f,!0,g,b)}function Ew(c,d,f,g,b){if(Array.isArray(d))for(var A=0;A<d.length;A++)Ew(c,d[A],f,g,b);else g=l(g)?!!g.capture:!!g,f=Np(f),c&&c[Da]?(c=c.i,d=String(d).toString(),d in c.g&&(A=c.g[d],f=Dp(A,f,g,b),-1<f&&($u(A[f]),Array.prototype.splice.call(A,f,1),A.length==0&&(delete c.g[d],c.h--)))):c&&(c=Ap(c))&&(d=c.g[d.toString()],c=-1,d&&(c=Dp(d,f,g,b)),(f=-1<c?d[c]:null)&&Sp(f))}function Sp(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[Da])Tp(d.i,c);else{var f=c.type,g=c.proxy;d.removeEventListener?d.removeEventListener(f,g,c.capture):d.detachEvent?d.detachEvent(Iw(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=Ap(d))?(Tp(f,c),f.h==0&&(f.src=null,d[bp]=null)):$u(c)}}}function Iw(c){return c in Cp?Cp[c]:Cp[c]="on"+c}function dP(c,d){if(c.da)c=!0;else{d=new Ta(d,this);var f=c.listener,g=c.ha||c.src;c.fa&&Sp(c),c=f.call(g,d)}return c}function Ap(c){return c=c[bp],c instanceof Hu?c:null}var Rp="__closure_events_fn_"+(1e9*Math.random()>>>0);function Np(c){return typeof c=="function"?c:(c[Rp]||(c[Rp]=function(d){return c.handleEvent(d)}),c[Rp])}function pt(){Pr.call(this),this.i=new Hu(this),this.M=this,this.F=null}S(pt,Pr),pt.prototype[Da]=!0,pt.prototype.removeEventListener=function(c,d,f,g){Ew(this,c,d,f,g)};function bt(c,d){var f,g=c.F;if(g)for(f=[];g;g=g.F)f.push(g);if(c=c.M,g=d.type||d,typeof d=="string")d=new ft(d,c);else if(d instanceof ft)d.target=d.target||c;else{var b=d;d=new ft(g,c),w(d,b)}if(b=!0,f)for(var A=f.length-1;0<=A;A--){var x=d.g=f[A];b=zu(x,g,!0,d)&&b}if(x=d.g=c,b=zu(x,g,!0,d)&&b,b=zu(x,g,!1,d)&&b,f)for(A=0;A<f.length;A++)x=d.g=f[A],b=zu(x,g,!1,d)&&b}pt.prototype.N=function(){if(pt.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],g=0;g<f.length;g++)$u(f[g]);delete c.g[d],c.h--}}this.F=null},pt.prototype.K=function(c,d,f,g){return this.i.add(String(c),d,!1,f,g)},pt.prototype.L=function(c,d,f,g){return this.i.add(String(c),d,!0,f,g)};function zu(c,d,f,g){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var b=!0,A=0;A<d.length;++A){var x=d[A];if(x&&!x.da&&x.capture==f){var be=x.listener,lt=x.ha||x.src;x.fa&&Tp(c.i,x),b=be.call(lt,g)!==!1&&b}}return b&&!g.defaultPrevented}function ww(c,d,f){if(typeof c=="function")f&&(c=m(c,f));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function Tw(c){c.g=ww(()=>{c.g=null,c.i&&(c.i=!1,Tw(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class hP extends Pr{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Tw(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ba(c){Pr.call(this),this.h=c,this.g={}}S(ba,Pr);var Dw=[];function bw(c){Ie(c.g,function(d,f){this.g.hasOwnProperty(f)&&Sp(d)},c),c.g={}}ba.prototype.N=function(){ba.aa.N.call(this),bw(this)},ba.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Mp=a.JSON.stringify,fP=a.JSON.parse,pP=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Pp(){}Pp.prototype.h=null;function Cw(c){return c.h||(c.h=c.i())}function Sw(){}var Ca={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function kp(){ft.call(this,"d")}S(kp,ft);function xp(){ft.call(this,"c")}S(xp,ft);var Ai={},Aw=null;function qu(){return Aw=Aw||new pt}Ai.La="serverreachability";function Rw(c){ft.call(this,Ai.La,c)}S(Rw,ft);function Sa(c){let d=qu();bt(d,new Rw(d))}Ai.STAT_EVENT="statevent";function Nw(c,d){ft.call(this,Ai.STAT_EVENT,c),this.stat=d}S(Nw,ft);function Ct(c){let d=qu();bt(d,new Nw(d,c))}Ai.Ma="timingevent";function Mw(c,d){ft.call(this,Ai.Ma,c),this.size=d}S(Mw,ft);function Aa(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function Ra(){this.g=!0}Ra.prototype.xa=function(){this.g=!1};function gP(c,d,f,g,b,A){c.info(function(){if(c.g)if(A)for(var x="",be=A.split("&"),lt=0;lt<be.length;lt++){var fe=be[lt].split("=");if(1<fe.length){var gt=fe[0];fe=fe[1];var mt=gt.split("_");x=2<=mt.length&&mt[1]=="type"?x+(gt+"="+fe+"&"):x+(gt+"=redacted&")}}else x=null;else x=A;return"XMLHTTP REQ ("+g+") [attempt "+b+"]: "+d+`
`+f+`
`+x})}function mP(c,d,f,g,b,A,x){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+b+"]: "+d+`
`+f+`
`+A+" "+x})}function Bo(c,d,f,g){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+vP(c,f)+(g?" "+g:"")})}function yP(c,d){c.info(function(){return"TIMEOUT: "+d})}Ra.prototype.info=function(){};function vP(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var g=f[c];if(!(2>g.length)){var b=g[1];if(Array.isArray(b)&&!(1>b.length)){var A=b[0];if(A!="noop"&&A!="stop"&&A!="close")for(var x=1;x<b.length;x++)b[x]=""}}}}return Mp(f)}catch{return d}}var Gu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Pw={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Op;function Wu(){}S(Wu,Pp),Wu.prototype.g=function(){return new XMLHttpRequest},Wu.prototype.i=function(){return{}},Op=new Wu;function kr(c,d,f,g){this.j=c,this.i=d,this.l=f,this.R=g||1,this.U=new ba(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new kw}function kw(){this.i=null,this.g="",this.h=!1}var xw={},Lp={};function Fp(c,d,f){c.L=1,c.v=Zu(Xn(d)),c.m=f,c.P=!0,Ow(c,null)}function Ow(c,d){c.F=Date.now(),Ku(c),c.A=Xn(c.v);var f=c.A,g=c.R;Array.isArray(g)||(g=[String(g)]),Qw(f.i,"t",g),c.C=0,f=c.j.J,c.h=new kw,c.g=fT(c.j,f?d:null,!c.m),0<c.O&&(c.M=new hP(m(c.Y,c,c.g),c.O)),d=c.U,f=c.g,g=c.ca;var b="readystatechange";Array.isArray(b)||(b&&(Dw[0]=b.toString()),b=Dw);for(var A=0;A<b.length;A++){var x=yw(f,b[A],g||d.handleEvent,!1,d.h||d);if(!x)break;d.g[x.key]=x}d=c.H?v(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),Sa(),gP(c.i,c.u,c.A,c.l,c.R,c.m)}kr.prototype.ca=function(c){c=c.target;let d=this.M;d&&er(c)==3?d.j():this.Y(c)},kr.prototype.Y=function(c){try{if(c==this.g)e:{let mt=er(this.g);var d=this.g.Ba();let zo=this.g.Z();if(!(3>mt)&&(mt!=3||this.g&&(this.h.h||this.g.oa()||nT(this.g)))){this.J||mt!=4||d==7||(d==8||0>=zo?Sa(3):Sa(2)),Vp(this);var f=this.g.Z();this.X=f;t:if(Lw(this)){var g=nT(this.g);c="";var b=g.length,A=er(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ri(this),Na(this);var x="";break t}this.h.i=new a.TextDecoder}for(d=0;d<b;d++)this.h.h=!0,c+=this.h.i.decode(g[d],{stream:!(A&&d==b-1)});g.length=0,this.h.g+=c,this.C=0,x=this.h.g}else x=this.g.oa();if(this.o=f==200,mP(this.i,this.u,this.A,this.l,this.R,mt,f),this.o){if(this.T&&!this.K){t:{if(this.g){var be,lt=this.g;if((be=lt.g?lt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!z(be)){var fe=be;break t}}fe=null}if(f=fe)Bo(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,jp(this,f);else{this.o=!1,this.s=3,Ct(12),Ri(this),Na(this);break e}}if(this.P){f=!0;let rn;for(;!this.J&&this.C<x.length;)if(rn=_P(this,x),rn==Lp){mt==4&&(this.s=4,Ct(14),f=!1),Bo(this.i,this.l,null,"[Incomplete Response]");break}else if(rn==xw){this.s=4,Ct(15),Bo(this.i,this.l,x,"[Invalid Chunk]"),f=!1;break}else Bo(this.i,this.l,rn,null),jp(this,rn);if(Lw(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),mt!=4||x.length!=0||this.h.h||(this.s=1,Ct(16),f=!1),this.o=this.o&&f,!f)Bo(this.i,this.l,x,"[Invalid Chunked Response]"),Ri(this),Na(this);else if(0<x.length&&!this.W){this.W=!0;var gt=this.j;gt.g==this&&gt.ba&&!gt.M&&(gt.j.info("Great, no buffering proxy detected. Bytes received: "+x.length),qp(gt),gt.M=!0,Ct(11))}}else Bo(this.i,this.l,x,null),jp(this,x);mt==4&&Ri(this),this.o&&!this.J&&(mt==4?uT(this.j,this):(this.o=!1,Ku(this)))}else LP(this.g),f==400&&0<x.indexOf("Unknown SID")?(this.s=3,Ct(12)):(this.s=0,Ct(13)),Ri(this),Na(this)}}}catch{}finally{}};function Lw(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function _P(c,d){var f=c.C,g=d.indexOf(`
`,f);return g==-1?Lp:(f=Number(d.substring(f,g)),isNaN(f)?xw:(g+=1,g+f>d.length?Lp:(d=d.slice(g,g+f),c.C=g+f,d)))}kr.prototype.cancel=function(){this.J=!0,Ri(this)};function Ku(c){c.S=Date.now()+c.I,Fw(c,c.I)}function Fw(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Aa(m(c.ba,c),d)}function Vp(c){c.B&&(a.clearTimeout(c.B),c.B=null)}kr.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(yP(this.i,this.A),this.L!=2&&(Sa(),Ct(17)),Ri(this),this.s=2,Na(this)):Fw(this,this.S-c)};function Na(c){c.j.G==0||c.J||uT(c.j,c)}function Ri(c){Vp(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,bw(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function jp(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||Up(f.h,c))){if(!c.K&&Up(f.h,c)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var b=g;if(b[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)nl(f),el(f);else break e;zp(f),Ct(18)}}else f.za=b[1],0<f.za-f.T&&37500>b[2]&&f.F&&f.v==0&&!f.C&&(f.C=Aa(m(f.Za,f),6e3));if(1>=Uw(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Mi(f,11)}else if((c.K||f.g==c)&&nl(f),!z(d))for(b=f.Da.g.parse(d),d=0;d<b.length;d++){let fe=b[d];if(f.T=fe[0],fe=fe[1],f.G==2)if(fe[0]=="c"){f.K=fe[1],f.ia=fe[2];let gt=fe[3];gt!=null&&(f.la=gt,f.j.info("VER="+f.la));let mt=fe[4];mt!=null&&(f.Aa=mt,f.j.info("SVER="+f.Aa));let zo=fe[5];zo!=null&&typeof zo=="number"&&0<zo&&(g=1.5*zo,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let rn=c.g;if(rn){let il=rn.g?rn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(il){var A=g.h;A.g||il.indexOf("spdy")==-1&&il.indexOf("quic")==-1&&il.indexOf("h2")==-1||(A.j=A.l,A.g=new Set,A.h&&(Bp(A,A.h),A.h=null))}if(g.D){let Gp=rn.g?rn.g.getResponseHeader("X-HTTP-Session-Id"):null;Gp&&(g.ya=Gp,Ce(g.I,g.D,Gp))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var x=c;if(g.qa=hT(g,g.J?g.ia:null,g.W),x.K){Bw(g.h,x);var be=x,lt=g.L;lt&&(be.I=lt),be.B&&(Vp(be),Ku(be)),g.g=x}else aT(g);0<f.i.length&&tl(f)}else fe[0]!="stop"&&fe[0]!="close"||Mi(f,7);else f.G==3&&(fe[0]=="stop"||fe[0]=="close"?fe[0]=="stop"?Mi(f,7):Hp(f):fe[0]!="noop"&&f.l&&f.l.ta(fe),f.v=0)}}Sa(4)}catch{}}var EP=class{constructor(c,d){this.g=c,this.map=d}};function Vw(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function jw(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Uw(c){return c.h?1:c.g?c.g.size:0}function Up(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function Bp(c,d){c.g?c.g.add(d):c.h=d}function Bw(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}Vw.prototype.cancel=function(){if(this.i=$w(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function $w(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return M(c.i)}function IP(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,g=0;g<f;g++)d.push(c[g]);return d}d=[],f=0;for(g in c)d[f++]=c[g];return d}function wP(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let g in c)d[f++]=g;return d}}}function Hw(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=wP(c),g=IP(c),b=g.length,A=0;A<b;A++)d.call(void 0,g[A],f&&f[A],c)}var zw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function TP(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var g=c[f].indexOf("="),b=null;if(0<=g){var A=c[f].substring(0,g);b=c[f].substring(g+1)}else A=c[f];d(A,b?decodeURIComponent(b.replace(/\+/g," ")):"")}}}function Ni(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ni){this.h=c.h,Qu(this,c.j),this.o=c.o,this.g=c.g,Yu(this,c.s),this.l=c.l;var d=c.i,f=new ka;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),qw(this,f),this.m=c.m}else c&&(d=String(c).match(zw))?(this.h=!1,Qu(this,d[1]||"",!0),this.o=Ma(d[2]||""),this.g=Ma(d[3]||"",!0),Yu(this,d[4]),this.l=Ma(d[5]||"",!0),qw(this,d[6]||"",!0),this.m=Ma(d[7]||"")):(this.h=!1,this.i=new ka(null,this.h))}Ni.prototype.toString=function(){var c=[],d=this.j;d&&c.push(Pa(d,Gw,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(Pa(d,Gw,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(Pa(f,f.charAt(0)=="/"?CP:bP,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",Pa(f,AP)),c.join("")};function Xn(c){return new Ni(c)}function Qu(c,d,f){c.j=f?Ma(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function Yu(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function qw(c,d,f){d instanceof ka?(c.i=d,RP(c.i,c.h)):(f||(d=Pa(d,SP)),c.i=new ka(d,c.h))}function Ce(c,d,f){c.i.set(d,f)}function Zu(c){return Ce(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Ma(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Pa(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,DP),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function DP(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Gw=/[#\/\?@]/g,bP=/[#\?:]/g,CP=/[#\?]/g,SP=/[#\?@]/g,AP=/#/g;function ka(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function xr(c){c.g||(c.g=new Map,c.h=0,c.i&&TP(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}n=ka.prototype,n.add=function(c,d){xr(this),this.i=null,c=$o(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function Ww(c,d){xr(c),d=$o(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function Kw(c,d){return xr(c),d=$o(c,d),c.g.has(d)}n.forEach=function(c,d){xr(this),this.g.forEach(function(f,g){f.forEach(function(b){c.call(d,b,g,this)},this)},this)},n.na=function(){xr(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let b=c[g];for(let A=0;A<b.length;A++)f.push(d[g])}return f},n.V=function(c){xr(this);let d=[];if(typeof c=="string")Kw(this,c)&&(d=d.concat(this.g.get($o(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},n.set=function(c,d){return xr(this),this.i=null,c=$o(this,c),Kw(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},n.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function Qw(c,d,f){Ww(c,d),0<f.length&&(c.i=null,c.g.set($o(c,d),M(f)),c.h+=f.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let A=encodeURIComponent(String(g)),x=this.V(g);for(g=0;g<x.length;g++){var b=A;x[g]!==""&&(b+="="+encodeURIComponent(String(x[g]))),c.push(b)}}return this.i=c.join("&")};function $o(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function RP(c,d){d&&!c.j&&(xr(c),c.i=null,c.g.forEach(function(f,g){var b=g.toLowerCase();g!=b&&(Ww(this,g),Qw(this,b,f))},c)),c.j=d}function NP(c,d){let f=new Ra;if(a.Image){let g=new Image;g.onload=y(Or,f,"TestLoadImage: loaded",!0,d,g),g.onerror=y(Or,f,"TestLoadImage: error",!1,d,g),g.onabort=y(Or,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=y(Or,f,"TestLoadImage: timeout",!1,d,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else d(!1)}function MP(c,d){let f=new Ra,g=new AbortController,b=setTimeout(()=>{g.abort(),Or(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:g.signal}).then(A=>{clearTimeout(b),A.ok?Or(f,"TestPingServer: ok",!0,d):Or(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(b),Or(f,"TestPingServer: error",!1,d)})}function Or(c,d,f,g,b){try{b&&(b.onload=null,b.onerror=null,b.onabort=null,b.ontimeout=null),g(f)}catch{}}function PP(){this.g=new pP}function kP(c,d,f){let g=f||"";try{Hw(c,function(b,A){let x=b;l(b)&&(x=Mp(b)),d.push(g+A+"="+encodeURIComponent(x))})}catch(b){throw d.push(g+"type="+encodeURIComponent("_badmap")),b}}function xa(c){this.l=c.Ub||null,this.j=c.eb||!1}S(xa,Pp),xa.prototype.g=function(){return new Ju(this.l,this.j)},xa.prototype.i=(function(c){return function(){return c}})({});function Ju(c,d){pt.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(Ju,pt),n=Ju.prototype,n.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,La(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Oa(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,La(this)),this.g&&(this.readyState=3,La(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Yw(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Yw(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?Oa(this):La(this),this.readyState==3&&Yw(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,Oa(this))},n.Qa=function(c){this.g&&(this.response=c,Oa(this))},n.ga=function(){this.g&&Oa(this)};function Oa(c){c.readyState=4,c.l=null,c.j=null,c.v=null,La(c)}n.setRequestHeader=function(c,d){this.u.append(c,d)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function La(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ju.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Zw(c){let d="";return Ie(c,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function $p(c,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=Zw(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):Ce(c,d,f))}function Pe(c){pt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(Pe,pt);var xP=/^https?$/i,OP=["POST","PUT"];n=Pe.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Op.g(),this.v=this.o?Cw(this.o):Cw(Op),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(A){Jw(this,A);return}if(c=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var b in g)f.set(b,g[b]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let A of g.keys())f.set(A,g.get(A));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(A=>A.toLowerCase()=="content-type"),b=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(OP,d,void 0))||g||b||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[A,x]of f)this.g.setRequestHeader(A,x);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{tT(this),this.u=!0,this.g.send(c),this.u=!1}catch(A){Jw(this,A)}};function Jw(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,Xw(c),Xu(c)}function Xw(c){c.A||(c.A=!0,bt(c,"complete"),bt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,bt(this,"complete"),bt(this,"abort"),Xu(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xu(this,!0)),Pe.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?eT(this):this.bb())},n.bb=function(){eT(this)};function eT(c){if(c.h&&typeof s<"u"&&(!c.v[1]||er(c)!=4||c.Z()!=2)){if(c.u&&er(c)==4)ww(c.Ea,0,c);else if(bt(c,"readystatechange"),er(c)==4){c.h=!1;try{let x=c.Z();e:switch(x){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=x===0){var b=String(c.D).match(zw)[1]||null;!b&&a.self&&a.self.location&&(b=a.self.location.protocol.slice(0,-1)),g=!xP.test(b?b.toLowerCase():"")}f=g}if(f)bt(c,"complete"),bt(c,"success");else{c.m=6;try{var A=2<er(c)?c.g.statusText:""}catch{A=""}c.l=A+" ["+c.Z()+"]",Xw(c)}}finally{Xu(c)}}}}function Xu(c,d){if(c.g){tT(c);let f=c.g,g=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||bt(c,"ready");try{f.onreadystatechange=g}catch{}}}function tT(c){c.I&&(a.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function er(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<er(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),fP(d)}};function nT(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function LP(c){let d={};c=(c.g&&2<=er(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if(z(c[g]))continue;var f=D(c[g]);let b=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let A=d[b]||[];d[b]=A,A.push(f)}T(d,function(g){return g.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fa(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function rT(c){this.Aa=0,this.i=[],this.j=new Ra,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Fa("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Fa("baseRetryDelayMs",5e3,c),this.cb=Fa("retryDelaySeedMs",1e4,c),this.Wa=Fa("forwardChannelMaxRetries",2,c),this.wa=Fa("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Vw(c&&c.concurrentRequestLimit),this.Da=new PP,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=rT.prototype,n.la=8,n.G=1,n.connect=function(c,d,f,g){Ct(0),this.W=c,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=hT(this,null,this.W),tl(this)};function Hp(c){if(iT(c),c.G==3){var d=c.U++,f=Xn(c.I);if(Ce(f,"SID",c.K),Ce(f,"RID",d),Ce(f,"TYPE","terminate"),Va(c,f),d=new kr(c,c.j,d),d.L=2,d.v=Zu(Xn(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=fT(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Ku(d)}dT(c)}function el(c){c.g&&(qp(c),c.g.cancel(),c.g=null)}function iT(c){el(c),c.u&&(a.clearTimeout(c.u),c.u=null),nl(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function tl(c){if(!jw(c.h)&&!c.s){c.s=!0;var d=c.Ga;Ia||mw(),wa||(Ia(),wa=!0),wp.add(d,c),c.B=0}}function FP(c,d){return Uw(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Aa(m(c.Ga,c,d),lT(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let b=new kr(this,this.j,c),A=this.o;if(this.S&&(A?(A=v(A),w(A,this.S)):A=this.S),this.m!==null||this.O||(b.H=A,A=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=sT(this,b,d),f=Xn(this.I),Ce(f,"RID",c),Ce(f,"CVER",22),this.D&&Ce(f,"X-HTTP-Session-Id",this.D),Va(this,f),A&&(this.O?d="headers="+encodeURIComponent(String(Zw(A)))+"&"+d:this.m&&$p(f,this.m,A)),Bp(this.h,b),this.Ua&&Ce(f,"TYPE","init"),this.P?(Ce(f,"$req",d),Ce(f,"SID","null"),b.T=!0,Fp(b,f,null)):Fp(b,f,d),this.G=2}}else this.G==3&&(c?oT(this,c):this.i.length==0||jw(this.h)||oT(this))};function oT(c,d){var f;d?f=d.l:f=c.U++;let g=Xn(c.I);Ce(g,"SID",c.K),Ce(g,"RID",f),Ce(g,"AID",c.T),Va(c,g),c.m&&c.o&&$p(g,c.m,c.o),f=new kr(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=sT(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Bp(c.h,f),Fp(f,g,d)}function Va(c,d){c.H&&Ie(c.H,function(f,g){Ce(d,g,f)}),c.l&&Hw({},function(f,g){Ce(d,g,f)})}function sT(c,d,f){f=Math.min(c.i.length,f);var g=c.l?m(c.l.Na,c.l,c):null;e:{var b=c.i;let A=-1;for(;;){let x=["count="+f];A==-1?0<f?(A=b[0].g,x.push("ofs="+A)):A=0:x.push("ofs="+A);let be=!0;for(let lt=0;lt<f;lt++){let fe=b[lt].g,gt=b[lt].map;if(fe-=A,0>fe)A=Math.max(0,b[lt].g-100),be=!1;else try{kP(gt,x,"req"+fe+"_")}catch{g&&g(gt)}}if(be){g=x.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,g}function aT(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;Ia||mw(),wa||(Ia(),wa=!0),wp.add(d,c),c.v=0}}function zp(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Aa(m(c.Fa,c),lT(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,cT(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Aa(m(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ct(10),el(this),cT(this))};function qp(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function cT(c){c.g=new kr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=Xn(c.qa);Ce(d,"RID","rpc"),Ce(d,"SID",c.K),Ce(d,"AID",c.T),Ce(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ce(d,"TO",c.ja),Ce(d,"TYPE","xmlhttp"),Va(c,d),c.m&&c.o&&$p(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=Zu(Xn(d)),f.m=null,f.P=!0,Ow(f,c)}n.Za=function(){this.C!=null&&(this.C=null,el(this),zp(this),Ct(19))};function nl(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function uT(c,d){var f=null;if(c.g==d){nl(c),qp(c),c.g=null;var g=2}else if(Up(c.h,d))f=d.D,Bw(c.h,d),g=1;else return;if(c.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var b=c.B;g=qu(),bt(g,new Mw(g,f)),tl(c)}else aT(c);else if(b=d.s,b==3||b==0&&0<d.X||!(g==1&&FP(c,d)||g==2&&zp(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),b){case 1:Mi(c,5);break;case 4:Mi(c,10);break;case 3:Mi(c,6);break;default:Mi(c,2)}}}function lT(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function Mi(c,d){if(c.j.info("Error code "+d),d==2){var f=m(c.fb,c),g=c.Xa;let b=!g;g=new Ni(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Qu(g,"https"),Zu(g),b?NP(g.toString(),f):MP(g.toString(),f)}else Ct(2);c.G=0,c.l&&c.l.sa(d),dT(c),iT(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Ct(2)):(this.j.info("Failed to ping google.com"),Ct(1))};function dT(c){if(c.G=0,c.ka=[],c.l){let d=$w(c.h);(d.length!=0||c.i.length!=0)&&(N(c.ka,d),N(c.ka,c.i),c.h.i.length=0,M(c.i),c.i.length=0),c.l.ra()}}function hT(c,d,f){var g=f instanceof Ni?Xn(f):new Ni(f);if(g.g!="")d&&(g.g=d+"."+g.g),Yu(g,g.s);else{var b=a.location;g=b.protocol,d=d?d+"."+b.hostname:b.hostname,b=+b.port;var A=new Ni(null);g&&Qu(A,g),d&&(A.g=d),b&&Yu(A,b),f&&(A.l=f),g=A}return f=c.D,d=c.ya,f&&d&&Ce(g,f,d),Ce(g,"VER",c.la),Va(c,g),g}function fT(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Pe(new xa({eb:f})):new Pe(c.pa),d.Ha(c.J),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function pT(){}n=pT.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function rl(){}rl.prototype.g=function(c,d){return new Vt(c,d)};function Vt(c,d){pt.call(this),this.g=new rT(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!z(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!z(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new Ho(this)}S(Vt,pt),Vt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Vt.prototype.close=function(){Hp(this.g)},Vt.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=Mp(c),c=f);d.i.push(new EP(d.Ya++,c)),d.G==3&&tl(d)},Vt.prototype.N=function(){this.g.l=null,delete this.j,Hp(this.g),delete this.g,Vt.aa.N.call(this)};function gT(c){kp.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}S(gT,kp);function mT(){xp.call(this),this.status=1}S(mT,xp);function Ho(c){this.g=c}S(Ho,pT),Ho.prototype.ua=function(){bt(this.g,"a")},Ho.prototype.ta=function(c){bt(this.g,new gT(c))},Ho.prototype.sa=function(c){bt(this.g,new mT)},Ho.prototype.ra=function(){bt(this.g,"b")},rl.prototype.createWebChannel=rl.prototype.g,Vt.prototype.send=Vt.prototype.o,Vt.prototype.open=Vt.prototype.m,Vt.prototype.close=Vt.prototype.close,Y_=br.createWebChannelTransport=function(){return new rl},Q_=br.getStatEventTarget=function(){return qu()},K_=br.Event=Ai,gf=br.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Gu.NO_ERROR=0,Gu.TIMEOUT=8,Gu.HTTP_ERROR=6,pu=br.ErrorCode=Gu,Pw.COMPLETE="complete",W_=br.EventType=Pw,Sw.EventType=Ca,Ca.OPEN="a",Ca.CLOSE="b",Ca.ERROR="c",Ca.MESSAGE="d",pt.prototype.listen=pt.prototype.K,Ys=br.WebChannel=Sw,T$=br.FetchXmlHttpFactory=xa,Pe.prototype.listenOnce=Pe.prototype.L,Pe.prototype.getLastError=Pe.prototype.Ka,Pe.prototype.getLastErrorCode=Pe.prototype.Ba,Pe.prototype.getStatus=Pe.prototype.Z,Pe.prototype.getResponseJson=Pe.prototype.Oa,Pe.prototype.getResponseText=Pe.prototype.oa,Pe.prototype.send=Pe.prototype.ea,Pe.prototype.setWithCredentials=Pe.prototype.Ha,G_=br.XhrIo=Pe}).apply(typeof pf<"u"?pf:typeof self<"u"?self:typeof window<"u"?window:{});var uR="@firebase/firestore",lR="4.8.0";var at=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};at.UNAUTHENTICATED=new at(null),at.GOOGLE_CREDENTIALS=new at("google-credentials-uid"),at.FIRST_PARTY=new at("first-party-uid"),at.MOCK_USER=new at("mock-user");var ma="11.10.0";var ko=new $n("@firebase/firestore");function Zs(){return ko.logLevel}function V(n,...e){if(ko.logLevel<=se.DEBUG){let t=e.map(UI);ko.debug(`Firestore (${ma}): ${n}`,...t)}}function Cr(n,...e){if(ko.logLevel<=se.ERROR){let t=e.map(UI);ko.error(`Firestore (${ma}): ${n}`,...t)}}function Ii(n,...e){if(ko.logLevel<=se.WARN){let t=e.map(UI);ko.warn(`Firestore (${ma}): ${n}`,...t)}}function UI(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function W(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,nN(n,r,t)}function nN(n,e,t){let r=`FIRESTORE (${ma}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Cr(r),new Error(r)}function Ee(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||nN(e,i,r)}function X(n,e){return n}var R={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},O=class extends Gt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Tn=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var wf=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},nE=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(at.UNAUTHENTICATED))}shutdown(){}},rE=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},iE=class{constructor(e){this.t=e,this.currentUser=at.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ee(this.o===void 0,42304);let r=this.i,i=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve(),o=new Tn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Tn,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>_(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{V("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(V("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Tn)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(V("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ee(typeof r.accessToken=="string",31837,{l:r}),new wf(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Ee(e===null||typeof e=="string",2055,{h:e}),new at(e)}},oE=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=at.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},sE=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new oE(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(at.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Tf=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},aE=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Wt(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ee(this.o===void 0,3512);let r=o=>{o.error!=null&&V("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,V("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{V("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):V("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Tf(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ee(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Tf(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function D$(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function rN(){return new TextEncoder}var Eu=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=D$(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}};function ie(n,e){return n<e?-1:n>e?1:0}function cE(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return ie(r,i);{let o=rN(),s=b$(o.encode(dR(n,t)),o.encode(dR(e,t)));return s!==0?s:ie(r,i)}}t+=r>65535?2:1}return ie(n.length,e.length)}function dR(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function b$(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return ie(n[t],e[t]);return ie(n.length,e.length)}function ia(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var hR="__name__",Df=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&W(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&W(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=n.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return ie(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):cE(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Dr.fromString(e.substring(4,e.length-2))}},Me=class n extends Df{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new O(R.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},C$=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Qt=class n extends Df{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return C$.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===hR}static keyField(){return new n([hR])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new O(R.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new O(R.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new O(R.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new O(R.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var H=class n{constructor(e){this.path=e}static fromPath(e){return new n(Me.fromString(e))}static fromName(e){return new n(Me.fromString(e).popFirst(5))}static empty(){return new n(Me.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Me.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Me.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Me(e.slice()))}};function iN(n,e,t){if(!t)throw new O(R.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function S$(n,e,t,r){if(e===!0&&r===!0)throw new O(R.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function fR(n){if(!H.isDocumentKey(n))throw new O(R.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function pR(n){if(H.isDocumentKey(n))throw new O(R.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function oN(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function np(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":W(12329,{type:typeof n})}function Dn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new O(R.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=np(n);throw new O(R.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Qe(n,e){let t={typeString:n};return e&&(t.value=e),t}function Ou(n,e){if(!oN(n))throw new O(R.INVALID_ARGUMENT,"JSON must be an object");let t;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}let s=n[r];if(i&&typeof s!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new O(R.INVALID_ARGUMENT,t);return!0}var gR=-62135596800,mR=1e6,Ye=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*mR);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new O(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new O(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<gR)throw new O(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new O(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/mR}_compareTo(e){return this.seconds===e.seconds?ie(this.nanoseconds,e.nanoseconds):ie(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:n._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ou(e,n._jsonSchema))return new n(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-gR;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};Ye._jsonSchemaVersion="firestore/timestamp/1.0",Ye._jsonSchema={type:Qe("string",Ye._jsonSchemaVersion),seconds:Qe("number"),nanoseconds:Qe("number")};var te=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new Ye(0,0))}static max(){return new n(new Ye(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Iu=-1,uE=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};uE.UNKNOWN_ID=-1;function A$(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=te.fromTimestamp(r===1e9?new Ye(t+1,0):new Ye(t,r));return new xo(i,H.empty(),e)}function R$(n){return new xo(n.readTime,n.key,Iu)}var xo=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(te.min(),H.empty(),Iu)}static max(){return new n(te.max(),H.empty(),Iu)}};function N$(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=H.comparator(n.documentKey,e.documentKey),t!==0?t:ie(n.largestBatchId,e.largestBatchId))}var M$="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",lE=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function ya(n){return _(this,null,function*(){if(n.code!==R.FAILED_PRECONDITION||n.message!==M$)throw n;V("LocalStore","Unexpectedly lost primary lease")})}var k=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&W(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},u=>r(u))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;t(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function P$(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function va(n){return n.name==="IndexedDbTransactionError"}var BI=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this._e(i),this.ae=i=>r.writeSequenceNumber(i))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ae&&this.ae(t),t}}n.ue=-1;return n})(),$I=-1;function rp(n){return n==null}function wu(n){return n===0&&1/n==-1/0}function k$(n){return typeof n=="number"&&Number.isInteger(n)&&!wu(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var sN="";function x$(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=yR(e)),e=O$(n.get(t),e);return yR(e)}function O$(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case sN:t+="";break;default:t+=o}}return t}function yR(n){return n+sN+""}var L$="remoteDocuments",aN="owner";var cN="mutationQueues";var uN="mutations";var lN="documentMutations",F$="remoteDocumentsV14";var dN="remoteDocumentGlobal";var hN="targets";var fN="targetDocuments";var pN="targetGlobal",gN="collectionParents";var mN="clientMetadata";var yN="bundles";var vN="namedQueries";var V$="indexConfiguration";var j$="indexState";var U$="indexEntries";var _N="documentOverlays";var B$="globals";var $$=[cN,uN,lN,L$,hN,aN,pN,fN,mN,dN,gN,yN,vN],eie=[...$$,_N],H$=[cN,uN,lN,F$,hN,aN,pN,fN,mN,dN,gN,yN,vN,_N],z$=H$,q$=[...z$,V$,j$,U$];var tie=[...q$,B$];function vR(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Si(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function EN(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Le=class n{constructor(e,t){this.comparator=e,this.root=t||Gn.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Gn.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ta(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ta(this.root,e,this.comparator,!1)}getReverseIterator(){return new ta(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ta(this.root,e,this.comparator,!0)}},ta=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Gn=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw W(43730,{key:this.key,value:this.value});if(this.right.isRed())throw W(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw W(27949);return e+(this.isRed()?0:1)}};Gn.EMPTY=null,Gn.RED=!0,Gn.BLACK=!1;Gn.EMPTY=new class{constructor(){this.size=0}get key(){throw W(57766)}get value(){throw W(16141)}get color(){throw W(16727)}get left(){throw W(29726)}get right(){throw W(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new Gn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var ct=class n{constructor(e){this.comparator=e,this.data=new Le(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new bf(this.data.getIterator())}getIteratorFrom(e){return new bf(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},bf=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var nn=class n{constructor(e){this.fields=e,e.sort(Qt.comparator)}static empty(){return new n([])}unionWith(e){let t=new ct(Qt.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ia(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var Cf=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Tt=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Cf("Invalid base64 string: "+o):o}})(e);return new n(t)}static fromUint8Array(e){let t=(function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o})(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ie(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Tt.EMPTY_BYTE_STRING=new Tt("");var G$=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Sr(n){if(Ee(!!n,39018),typeof n=="string"){let e=0,t=G$.exec(n);if(Ee(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ne(n.seconds),nanos:Ne(n.nanos)}}function Ne(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ar(n){return typeof n=="string"?Tt.fromBase64String(n):Tt.fromUint8Array(n)}var IN="server_timestamp",wN="__type__",TN="__previous_value__",DN="__local_write_time__";function HI(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[wN])===null||t===void 0?void 0:t.stringValue)===IN}function ip(n){let e=n.mapValue.fields[TN];return HI(e)?ip(e):e}function Tu(n){let e=Sr(n.mapValue.fields[DN].timestampValue);return new Ye(e.seconds,e.nanos)}var dE=class{constructor(e,t,r,i,o,s,a,u,l,h){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l,this.isUsingEmulator=h}},Sf="(default)",Af=class n{constructor(e,t){this.projectId=e,this.database=t||Sf}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===Sf}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var zI="__type__",bN="__max__",mf={mapValue:{fields:{__type__:{stringValue:bN}}}},qI="__vector__",oa="value";function wi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?HI(n)?4:SN(n)?9007199254740991:CN(n)?10:11:W(28295,{value:n})}function Yn(n,e){if(n===e)return!0;let t=wi(n);if(t!==wi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Tu(n).isEqual(Tu(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Sr(i.timestampValue),a=Sr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(i,o){return Ar(i.bytesValue).isEqual(Ar(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(i,o){return Ne(i.geoPointValue.latitude)===Ne(o.geoPointValue.latitude)&&Ne(i.geoPointValue.longitude)===Ne(o.geoPointValue.longitude)})(n,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return Ne(i.integerValue)===Ne(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Ne(i.doubleValue),a=Ne(o.doubleValue);return s===a?wu(s)===wu(a):isNaN(s)&&isNaN(a)}return!1})(n,e);case 9:return ia(n.arrayValue.values||[],e.arrayValue.values||[],Yn);case 10:case 11:return(function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(vR(s)!==vR(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!Yn(s[u],a[u])))return!1;return!0})(n,e);default:return W(52216,{left:n})}}function Du(n,e){return(n.values||[]).find(t=>Yn(t,e))!==void 0}function sa(n,e){if(n===e)return 0;let t=wi(n),r=wi(e);if(t!==r)return ie(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ie(n.booleanValue,e.booleanValue);case 2:return(function(o,s){let a=Ne(o.integerValue||o.doubleValue),u=Ne(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1})(n,e);case 3:return _R(n.timestampValue,e.timestampValue);case 4:return _R(Tu(n),Tu(e));case 5:return cE(n.stringValue,e.stringValue);case 6:return(function(o,s){let a=Ar(o),u=Ar(s);return a.compareTo(u)})(n.bytesValue,e.bytesValue);case 7:return(function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=ie(a[l],u[l]);if(h!==0)return h}return ie(a.length,u.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,s){let a=ie(Ne(o.latitude),Ne(s.latitude));return a!==0?a:ie(Ne(o.longitude),Ne(s.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return ER(n.arrayValue,e.arrayValue);case 10:return(function(o,s){var a,u,l,h;let p=o.fields||{},m=s.fields||{},y=(a=p[oa])===null||a===void 0?void 0:a.arrayValue,S=(u=m[oa])===null||u===void 0?void 0:u.arrayValue,M=ie(((l=y?.values)===null||l===void 0?void 0:l.length)||0,((h=S?.values)===null||h===void 0?void 0:h.length)||0);return M!==0?M:ER(y,S)})(n.mapValue,e.mapValue);case 11:return(function(o,s){if(o===mf.mapValue&&s===mf.mapValue)return 0;if(o===mf.mapValue)return 1;if(s===mf.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let m=cE(u[p],h[p]);if(m!==0)return m;let y=sa(a[u[p]],l[h[p]]);if(y!==0)return y}return ie(u.length,h.length)})(n.mapValue,e.mapValue);default:throw W(23264,{le:t})}}function _R(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ie(n,e);let t=Sr(n),r=Sr(e),i=ie(t.seconds,r.seconds);return i!==0?i:ie(t.nanos,r.nanos)}function ER(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=sa(t[i],r[i]);if(o)return o}return ie(t.length,r.length)}function aa(n){return hE(n)}function hE(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){let r=Sr(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Ar(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return H.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=hE(o);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${hE(t.fields[s])}`;return i+"}"})(n.mapValue):W(61005,{value:n})}function _f(n){switch(wi(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=ip(n);return e?16+_f(e):16;case 5:return 2*n.stringValue.length;case 6:return Ar(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce((i,o)=>i+_f(o),0)})(n.arrayValue);case 10:case 11:return(function(r){let i=0;return Si(r.fields,(o,s)=>{i+=o.length+_f(s)}),i})(n.mapValue);default:throw W(13486,{value:n})}}function IR(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function fE(n){return!!n&&"integerValue"in n}function GI(n){return!!n&&"arrayValue"in n}function wR(n){return!!n&&"nullValue"in n}function TR(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Ef(n){return!!n&&"mapValue"in n}function CN(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[zI])===null||t===void 0?void 0:t.stringValue)===qI}function mu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return Si(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=mu(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=mu(n.arrayValue.values[t]);return e}return Object.assign({},n)}function SN(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===bN}var rie={mapValue:{fields:{[zI]:{stringValue:qI},[oa]:{arrayValue:{}}}}};var Kt=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Ef(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=mu(t)}setAll(e){let t=Qt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=mu(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());Ef(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Yn(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Ef(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Si(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(mu(this.value))}};function AN(n){let e=[];return Si(n.fields,(t,r)=>{let i=new Qt([t]);if(Ef(r)){let o=AN(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new nn(e)}var bn=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,te.min(),te.min(),te.min(),Kt.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,te.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,te.min(),te.min(),Kt.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,te.min(),te.min(),Kt.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Kt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Kt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var ca=class{constructor(e,t){this.position=e,this.inclusive=t}};function DR(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=H.comparator(H.fromName(s.referenceValue),t.key):r=sa(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function bR(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Yn(n.position[t],e.position[t]))return!1;return!0}var Oo=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function W$(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var Rf=class{},Ke=class n extends Rf{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new gE(e,t,r):t==="array-contains"?new vE(e,r):t==="in"?new _E(e,r):t==="not-in"?new EE(e,r):t==="array-contains-any"?new IE(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new mE(e,r):new yE(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(sa(t,this.value)):t!==null&&wi(this.value)===wi(t)&&this.matchesComparison(sa(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return W(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Cn=class n extends Rf{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new n(e,t)}matches(e){return RN(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}};function RN(n){return n.op==="and"}function NN(n){return K$(n)&&RN(n)}function K$(n){for(let e of n.filters)if(e instanceof Cn)return!1;return!0}function pE(n){if(n instanceof Ke)return n.field.canonicalString()+n.op.toString()+aa(n.value);if(NN(n))return n.filters.map(e=>pE(e)).join(",");{let e=n.filters.map(t=>pE(t)).join(",");return`${n.op}(${e})`}}function MN(n,e){return n instanceof Ke?(function(r,i){return i instanceof Ke&&r.op===i.op&&r.field.isEqual(i.field)&&Yn(r.value,i.value)})(n,e):n instanceof Cn?(function(r,i){return i instanceof Cn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&MN(s,i.filters[a]),!0):!1})(n,e):void W(19439)}function PN(n){return n instanceof Ke?(function(t){return`${t.field.canonicalString()} ${t.op} ${aa(t.value)}`})(n):n instanceof Cn?(function(t){return t.op.toString()+" {"+t.getFilters().map(PN).join(" ,")+"}"})(n):"Filter"}var gE=class extends Ke{constructor(e,t,r){super(e,t,r),this.key=H.fromName(r.referenceValue)}matches(e){let t=H.comparator(e.key,this.key);return this.matchesComparison(t)}},mE=class extends Ke{constructor(e,t){super(e,"in",t),this.keys=kN("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},yE=class extends Ke{constructor(e,t){super(e,"not-in",t),this.keys=kN("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function kN(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>H.fromName(r.referenceValue))}var vE=class extends Ke{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return GI(t)&&Du(t.arrayValue,this.value)}},_E=class extends Ke{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&Du(this.value.arrayValue,t)}},EE=class extends Ke{constructor(e,t){super(e,"not-in",t)}matches(e){if(Du(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Du(this.value.arrayValue,t)}},IE=class extends Ke{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!GI(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Du(this.value.arrayValue,r))}};var wE=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Pe=null}};function CR(n,e=null,t=[],r=[],i=null,o=null,s=null){return new wE(n,e,t,r,i,o,s)}function WI(n){let e=X(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>pE(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>(function(o){return o.field.canonicalString()+o.dir})(r)).join(","),rp(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>aa(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>aa(r)).join(",")),e.Pe=t}return e.Pe}function KI(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!W$(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!MN(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!bR(n.startAt,e.startAt)&&bR(n.endAt,e.endAt)}function TE(n){return H.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Ti=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function Q$(n,e,t,r,i,o,s,a){return new Ti(n,e,t,r,i,o,s,a)}function op(n){return new Ti(n)}function SR(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function xN(n){return n.collectionGroup!==null}function yu(n){let e=X(n);if(e.Te===null){e.Te=[];let t=new Set;for(let o of e.explicitOrderBy)e.Te.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new ct(Qt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Te.push(new Oo(o,r))}),t.has(Qt.keyField().canonicalString())||e.Te.push(new Oo(Qt.keyField(),r))}return e.Te}function Wn(n){let e=X(n);return e.Ie||(e.Ie=Y$(e,yu(n))),e.Ie}function Y$(n,e){if(n.limitType==="F")return CR(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Oo(i.field,o)});let t=n.endAt?new ca(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new ca(n.startAt.position,n.startAt.inclusive):null;return CR(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function DE(n,e){let t=n.filters.concat([e]);return new Ti(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function bE(n,e,t){return new Ti(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function sp(n,e){return KI(Wn(n),Wn(e))&&n.limitType===e.limitType}function ON(n){return`${WI(Wn(n))}|lt:${n.limitType}`}function Js(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>PN(i)).join(", ")}]`),rp(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>aa(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>aa(i)).join(",")),`Target(${r})`})(Wn(n))}; limitType=${n.limitType})`}function ap(n,e){return e.isFoundDocument()&&(function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):H.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(n,e)&&(function(r,i){for(let o of yu(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0})(n,e)&&(function(r,i){return!(r.startAt&&!(function(s,a,u){let l=DR(s,a,u);return s.inclusive?l<=0:l<0})(r.startAt,yu(r),i)||r.endAt&&!(function(s,a,u){let l=DR(s,a,u);return s.inclusive?l>=0:l>0})(r.endAt,yu(r),i))})(n,e)}function Z$(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function LN(n){return(e,t)=>{let r=!1;for(let i of yu(n)){let o=J$(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function J$(n,e,t){let r=n.field.isKeyField()?H.comparator(e.key,t.key):(function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?sa(u,l):W(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return W(19790,{direction:n.dir})}}var Rr=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Si(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return EN(this.inner)}size(){return this.innerSize}};var X$=new Le(H.comparator);function Nr(){return X$}var FN=new Le(H.comparator);function gu(...n){let e=FN;for(let t of n)e=e.insert(t.key,t);return e}function VN(n){let e=FN;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Ao(){return vu()}function jN(){return vu()}function vu(){return new Rr(n=>n.toString(),(n,e)=>n.isEqual(e))}var eH=new Le(H.comparator),tH=new ct(H.comparator);function ue(...n){let e=tH;for(let t of n)e=e.add(t);return e}var nH=new ct(ie);function rH(){return nH}function QI(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wu(e)?"-0":e}}function UN(n){return{integerValue:""+n}}function iH(n,e){return k$(e)?UN(e):QI(n,e)}var ua=class{constructor(){this._=void 0}};function oH(n,e,t){return n instanceof la?(function(i,o){let s={fields:{[wN]:{stringValue:IN},[DN]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&HI(o)&&(o=ip(o)),o&&(s.fields[TN]=o),{mapValue:s}})(t,e):n instanceof Lo?$N(n,e):n instanceof Fo?HN(n,e):(function(i,o){let s=BN(i,o),a=AR(s)+AR(i.Ee);return fE(s)&&fE(i.Ee)?UN(a):QI(i.serializer,a)})(n,e)}function sH(n,e,t){return n instanceof Lo?$N(n,e):n instanceof Fo?HN(n,e):t}function BN(n,e){return n instanceof da?(function(r){return fE(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}var la=class extends ua{},Lo=class extends ua{constructor(e){super(),this.elements=e}};function $N(n,e){let t=zN(e);for(let r of n.elements)t.some(i=>Yn(i,r))||t.push(r);return{arrayValue:{values:t}}}var Fo=class extends ua{constructor(e){super(),this.elements=e}};function HN(n,e){let t=zN(e);for(let r of n.elements)t=t.filter(i=>!Yn(i,r));return{arrayValue:{values:t}}}var da=class extends ua{constructor(e,t){super(),this.serializer=e,this.Ee=t}};function AR(n){return Ne(n.integerValue||n.doubleValue)}function zN(n){return GI(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function aH(n,e){return n.field.isEqual(e.field)&&(function(r,i){return r instanceof Lo&&i instanceof Lo||r instanceof Fo&&i instanceof Fo?ia(r.elements,i.elements,Yn):r instanceof da&&i instanceof da?Yn(r.Ee,i.Ee):r instanceof la&&i instanceof la})(n.transform,e.transform)}var CE=class{constructor(e,t){this.version=e,this.transformResults=t}},Kn=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function If(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var ha=class{};function qN(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new bu(n.key,Kn.none()):new Vo(n.key,n.data,Kn.none());{let t=n.data,r=Kt.empty(),i=new ct(Qt.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Zn(n.key,r,new nn(i.toArray()),Kn.none())}}function cH(n,e,t){n instanceof Vo?(function(i,o,s){let a=i.value.clone(),u=NR(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()})(n,e,t):n instanceof Zn?(function(i,o,s){if(!If(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=NR(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(GN(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()})(n,e,t):(function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,t)}function _u(n,e,t,r){return n instanceof Vo?(function(o,s,a,u){if(!If(o.precondition,s))return a;let l=o.value.clone(),h=MR(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null})(n,e,t,r):n instanceof Zn?(function(o,s,a,u){if(!If(o.precondition,s))return a;let l=MR(o.fieldTransforms,u,s),h=s.data;return h.setAll(GN(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))})(n,e,t,r):(function(o,s,a){return If(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a})(n,e,t)}function uH(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=BN(r.transform,i||null);o!=null&&(t===null&&(t=Kt.empty()),t.set(r.field,o))}return t||null}function RR(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ia(r,i,(o,s)=>aH(o,s))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var Vo=class extends ha{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Zn=class extends ha{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function GN(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function NR(n,e,t){let r=new Map;Ee(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,sH(s,a,t[i]))}return r}function MR(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,oH(o,s,e))}return r}var bu=class extends ha{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},SE=class extends ha{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var AE=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&cH(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=_u(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=_u(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=jN();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let u=qN(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(te.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ue())}isEqual(e){return this.batchId===e.batchId&&ia(this.mutations,e.mutations,(t,r)=>RR(t,r))&&ia(this.baseMutations,e.baseMutations,(t,r)=>RR(t,r))}},RE=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Ee(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=(function(){return eH})(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var NE=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var ME=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var Ge,he;function lH(n){switch(n){case R.OK:return W(64938);case R.CANCELLED:case R.UNKNOWN:case R.DEADLINE_EXCEEDED:case R.RESOURCE_EXHAUSTED:case R.INTERNAL:case R.UNAVAILABLE:case R.UNAUTHENTICATED:return!1;case R.INVALID_ARGUMENT:case R.NOT_FOUND:case R.ALREADY_EXISTS:case R.PERMISSION_DENIED:case R.FAILED_PRECONDITION:case R.ABORTED:case R.OUT_OF_RANGE:case R.UNIMPLEMENTED:case R.DATA_LOSS:return!0;default:return W(15467,{code:n})}}function WN(n){if(n===void 0)return Cr("GRPC error has no .code"),R.UNKNOWN;switch(n){case Ge.OK:return R.OK;case Ge.CANCELLED:return R.CANCELLED;case Ge.UNKNOWN:return R.UNKNOWN;case Ge.DEADLINE_EXCEEDED:return R.DEADLINE_EXCEEDED;case Ge.RESOURCE_EXHAUSTED:return R.RESOURCE_EXHAUSTED;case Ge.INTERNAL:return R.INTERNAL;case Ge.UNAVAILABLE:return R.UNAVAILABLE;case Ge.UNAUTHENTICATED:return R.UNAUTHENTICATED;case Ge.INVALID_ARGUMENT:return R.INVALID_ARGUMENT;case Ge.NOT_FOUND:return R.NOT_FOUND;case Ge.ALREADY_EXISTS:return R.ALREADY_EXISTS;case Ge.PERMISSION_DENIED:return R.PERMISSION_DENIED;case Ge.FAILED_PRECONDITION:return R.FAILED_PRECONDITION;case Ge.ABORTED:return R.ABORTED;case Ge.OUT_OF_RANGE:return R.OUT_OF_RANGE;case Ge.UNIMPLEMENTED:return R.UNIMPLEMENTED;case Ge.DATA_LOSS:return R.DATA_LOSS;default:return W(39323,{code:n})}}(he=Ge||(Ge={}))[he.OK=0]="OK",he[he.CANCELLED=1]="CANCELLED",he[he.UNKNOWN=2]="UNKNOWN",he[he.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",he[he.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",he[he.NOT_FOUND=5]="NOT_FOUND",he[he.ALREADY_EXISTS=6]="ALREADY_EXISTS",he[he.PERMISSION_DENIED=7]="PERMISSION_DENIED",he[he.UNAUTHENTICATED=16]="UNAUTHENTICATED",he[he.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",he[he.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",he[he.ABORTED=10]="ABORTED",he[he.OUT_OF_RANGE=11]="OUT_OF_RANGE",he[he.UNIMPLEMENTED=12]="UNIMPLEMENTED",he[he.INTERNAL=13]="INTERNAL",he[he.UNAVAILABLE=14]="UNAVAILABLE",he[he.DATA_LOSS=15]="DATA_LOSS";var PR=null;var dH=new Dr([4294967295,4294967295],0);function kR(n){let e=rN().encode(n),t=new q_;return t.update(e),new Uint8Array(t.digest())}function xR(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Dr([t,r],0),new Dr([i,o],0)]}var PE=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Ro(`Invalid padding: ${t}`);if(r<0)throw new Ro(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ro(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Ro(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=Dr.fromNumber(this.fe)}pe(e,t,r){let i=e.add(t.multiply(Dr.fromNumber(r)));return i.compare(dH)===1&&(i=new Dr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;let t=kR(e),[r,i]=xR(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);if(!this.ye(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.fe===0)return;let t=kR(e),[r,i]=xR(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);this.we(s)}}we(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},Ro=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Nf=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,Cu.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(te.min(),i,new Le(ie),Nr(),ue())}},Cu=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,ue(),ue(),ue())}};var na=class{constructor(e,t,r,i){this.Se=e,this.removedTargetIds=t,this.key=r,this.be=i}},Mf=class{constructor(e,t){this.targetId=e,this.De=t}},Pf=class{constructor(e,t,r=Tt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},kf=class{constructor(){this.ve=0,this.Ce=OR(),this.Fe=Tt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=ue(),t=ue(),r=ue();return this.Ce.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:W(38017,{changeType:o})}}),new Cu(this.Fe,this.Me,e,t,r)}ke(){this.xe=!1,this.Ce=OR()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Ee(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}},kE=class{constructor(e){this.We=e,this.Ge=new Map,this.ze=Nr(),this.je=yf(),this.Je=yf(),this.He=new Le(ie)}Ye(e){for(let t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(let t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{let r=this.tt(t);switch(e.state){case 0:this.nt(t)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),r.Be(e.resumeToken));break;default:W(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((r,i)=>{this.nt(i)&&t(i)})}it(e){let t=e.targetId,r=e.De.count,i=this.st(t);if(i){let o=i.target;if(TE(o))if(r===0){let s=new H(o.path);this.Xe(t,s,bn.newNoDocument(s,te.min()))}else Ee(r===1,20013,{expectedCount:r});else{let s=this.ot(t);if(s!==r){let a=this._t(e),u=a?this.ut(a,e,s):1;if(u!==0){this.rt(t);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,l)}PR?.ct((function(h,p,m,y,S){var M,N,L,z,Q,De;let Dt={localCacheCount:h,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},Ie=p.unchangedNames;return Ie&&(Dt.bloomFilter={applied:S===0,hashCount:(M=Ie?.hashCount)!==null&&M!==void 0?M:0,bitmapLength:(z=(L=(N=Ie?.bits)===null||N===void 0?void 0:N.bitmap)===null||L===void 0?void 0:L.length)!==null&&z!==void 0?z:0,padding:(De=(Q=Ie?.bits)===null||Q===void 0?void 0:Q.padding)!==null&&De!==void 0?De:0,mightContain:T=>{var v;return(v=y?.mightContain(T))!==null&&v!==void 0&&v}}),Dt})(s,e.De,this.We.lt(),a,u))}}}}_t(e){let t=e.De.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=Ar(r).toUint8Array()}catch(u){if(u instanceof Cf)return Ii("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new PE(s,i,o)}catch(u){return Ii(u instanceof Ro?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.fe===0?null:a}ut(e,t,r){return t.De.count===r-this.ht(e,t.targetId)?0:2}ht(e,t){let r=this.We.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.We.lt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Xe(t,o,null),i++)}),i}Pt(e){let t=new Map;this.Ge.forEach((o,s)=>{let a=this.st(s);if(a){if(o.current&&TE(a.target)){let u=new H(a.target.path);this.Tt(u).has(s)||this.It(s,u)||this.Xe(s,u,bn.newNoDocument(u,e))}o.Ne&&(t.set(s,o.Le()),o.ke())}});let r=ue();this.Je.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this.st(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ze.forEach((o,s)=>s.setReadTime(e));let i=new Nf(e,t,this.He,this.ze,r);return this.ze=Nr(),this.je=yf(),this.Je=yf(),this.He=new Le(ie),i}Ze(e,t){if(!this.nt(e))return;let r=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,r),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,r){if(!this.nt(e))return;let i=this.tt(e);this.It(e,t)?i.qe(t,1):i.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),r&&(this.ze=this.ze.insert(t,r))}removeTarget(e){this.Ge.delete(e)}ot(e){let t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new kf,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new ct(ie),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new ct(ie),this.je=this.je.insert(e,t)),t}nt(e){let t=this.st(e)!==null;return t||V("WatchChangeAggregator","Detected inactive target",e),t}st(e){let t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new kf),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}};function yf(){return new Le(H.comparator)}function OR(){return new Le(H.comparator)}var hH={asc:"ASCENDING",desc:"DESCENDING"},fH={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},pH={and:"AND",or:"OR"},xE=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function OE(n,e){return n.useProto3Json||rp(e)?e:{value:e}}function xf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function KN(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function gH(n,e){return xf(n,e.toTimestamp())}function Qn(n){return Ee(!!n,49232),te.fromTimestamp((function(t){let r=Sr(t);return new Ye(r.seconds,r.nanos)})(n))}function YI(n,e){return LE(n,e).canonicalString()}function LE(n,e){let t=(function(i){return new Me(["projects",i.projectId,"databases",i.database])})(n).child("documents");return e===void 0?t:t.child(e)}function QN(n){let e=Me.fromString(n);return Ee(eM(e),10190,{key:e.toString()}),e}function FE(n,e){return YI(n.databaseId,e.path)}function Z_(n,e){let t=QN(e);if(t.get(1)!==n.databaseId.projectId)throw new O(R.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new O(R.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new H(ZN(t))}function YN(n,e){return YI(n.databaseId,e)}function mH(n){let e=QN(n);return e.length===4?Me.emptyPath():ZN(e)}function VE(n){return new Me(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function ZN(n){return Ee(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function LR(n,e,t){return{name:FE(n,e),fields:t.value.mapValue.fields}}function yH(n,e){let t;if("targetChange"in e){e.targetChange;let r=(function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:W(39313,{state:l})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(l,h){return l.useProto3Json?(Ee(h===void 0||typeof h=="string",58123),Tt.fromBase64String(h||"")):(Ee(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Tt.fromUint8Array(h||new Uint8Array))})(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&(function(l){let h=l.code===void 0?R.UNKNOWN:WN(l.code);return new O(h,l.message||"")})(s);t=new Pf(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Z_(n,r.document.name),o=Qn(r.document.updateTime),s=r.document.createTime?Qn(r.document.createTime):te.min(),a=new Kt({mapValue:{fields:r.document.fields}}),u=bn.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];t=new na(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Z_(n,r.document),o=r.readTime?Qn(r.readTime):te.min(),s=bn.newNoDocument(i,o),a=r.removedTargetIds||[];t=new na([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Z_(n,r.document),o=r.removedTargetIds||[];t=new na([],o,i,null)}else{if(!("filter"in e))return W(11601,{At:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new ME(i,o),a=r.targetId;t=new Mf(a,s)}}return t}function vH(n,e){let t;if(e instanceof Vo)t={update:LR(n,e.key,e.value)};else if(e instanceof bu)t={delete:FE(n,e.key)};else if(e instanceof Zn)t={update:LR(n,e.key,e.data),updateMask:SH(e.fieldMask)};else{if(!(e instanceof SE))return W(16599,{Rt:e.type});t={verify:FE(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>(function(o,s){let a=s.transform;if(a instanceof la)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Lo)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Fo)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof da)return{fieldPath:s.field.canonicalString(),increment:a.Ee};throw W(20930,{transform:s.transform})})(0,r))),e.precondition.isNone||(t.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:gH(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:W(27497)})(n,e.precondition)),t}function _H(n,e){return n&&n.length>0?(Ee(e!==void 0,14353),n.map(t=>(function(i,o){let s=i.updateTime?Qn(i.updateTime):Qn(o);return s.isEqual(te.min())&&(s=Qn(o)),new CE(s,i.transformResults||[])})(t,e))):[]}function EH(n,e){return{documents:[YN(n,e.path)]}}function IH(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=YN(n,i);let o=(function(l){if(l.length!==0)return XN(Cn.create(l,"and"))})(e.filters);o&&(t.structuredQuery.where=o);let s=(function(l){if(l.length!==0)return l.map(h=>(function(m){return{field:Xs(m.field),direction:DH(m.dir)}})(h))})(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=OE(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=(function(l){return{before:l.inclusive,values:l.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(l){return{before:!l.inclusive,values:l.position}})(e.endAt)),{Vt:t,parent:i}}function wH(n){let e=mH(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){Ee(r===1,65062);let h=t.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];t.where&&(o=(function(p){let m=JN(p);return m instanceof Cn&&NN(m)?m.getFilters():[m]})(t.where));let s=[];t.orderBy&&(s=(function(p){return p.map(m=>(function(S){return new Oo(ea(S.field),(function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(S.direction))})(m))})(t.orderBy));let a=null;t.limit&&(a=(function(p){let m;return m=typeof p=="object"?p.value:p,rp(m)?null:m})(t.limit));let u=null;t.startAt&&(u=(function(p){let m=!!p.before,y=p.values||[];return new ca(y,m)})(t.startAt));let l=null;return t.endAt&&(l=(function(p){let m=!p.before,y=p.values||[];return new ca(y,m)})(t.endAt)),Q$(e,i,s,o,a,"F",u,l)}function TH(n,e){let t=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return W(28987,{purpose:i})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function JN(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=ea(t.unaryFilter.field);return Ke.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=ea(t.unaryFilter.field);return Ke.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=ea(t.unaryFilter.field);return Ke.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=ea(t.unaryFilter.field);return Ke.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return W(61313);default:return W(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Ke.create(ea(t.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return W(58110);default:return W(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Cn.create(t.compositeFilter.filters.map(r=>JN(r)),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return W(1026)}})(t.compositeFilter.op))})(n):W(30097,{filter:n})}function DH(n){return hH[n]}function bH(n){return fH[n]}function CH(n){return pH[n]}function Xs(n){return{fieldPath:n.canonicalString()}}function ea(n){return Qt.fromServerFormat(n.fieldPath)}function XN(n){return n instanceof Ke?(function(t){if(t.op==="=="){if(TR(t.value))return{unaryFilter:{field:Xs(t.field),op:"IS_NAN"}};if(wR(t.value))return{unaryFilter:{field:Xs(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(TR(t.value))return{unaryFilter:{field:Xs(t.field),op:"IS_NOT_NAN"}};if(wR(t.value))return{unaryFilter:{field:Xs(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xs(t.field),op:bH(t.op),value:t.value}}})(n):n instanceof Cn?(function(t){let r=t.getFilters().map(i=>XN(i));return r.length===1?r[0]:{compositeFilter:{op:CH(t.op),filters:r}}})(n):W(54877,{filter:n})}function SH(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function eM(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Su=class n{constructor(e,t,r,i,o=te.min(),s=te.min(),a=Tt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var jE=class{constructor(e){this.gt=e}};function AH(n){let e=wH({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?bE(e,e.limit,"L"):e}var Of=class{constructor(){}bt(e,t){this.Dt(e,t),t.vt()}Dt(e,t){if("nullValue"in e)this.Ct(t,5);else if("booleanValue"in e)this.Ct(t,10),t.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(t,15),t.Ft(Ne(e.integerValue));else if("doubleValue"in e){let r=Ne(e.doubleValue);isNaN(r)?this.Ct(t,13):(this.Ct(t,15),wu(r)?t.Ft(0):t.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(t,20),typeof r=="string"&&(r=Sr(r)),t.Mt(`${r.seconds||""}`),t.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,t),this.Ot(t);else if("bytesValue"in e)this.Ct(t,30),t.Nt(Ar(e.bytesValue)),this.Ot(t);else if("referenceValue"in e)this.Bt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ct(t,45),t.Ft(r.latitude||0),t.Ft(r.longitude||0)}else"mapValue"in e?SN(e)?this.Ct(t,Number.MAX_SAFE_INTEGER):CN(e)?this.Lt(e.mapValue,t):(this.kt(e.mapValue,t),this.Ot(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Ot(t)):W(19022,{Qt:e})}xt(e,t){this.Ct(t,25),this.$t(e,t)}$t(e,t){t.Mt(e)}kt(e,t){let r=e.fields||{};this.Ct(t,55);for(let i of Object.keys(r))this.xt(i,t),this.Dt(r[i],t)}Lt(e,t){var r,i;let o=e.fields||{};this.Ct(t,53);let s=oa,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Ct(t,15),t.Ft(Ne(a)),this.xt(s,t),this.Dt(o[s],t)}qt(e,t){let r=e.values||[];this.Ct(t,50);for(let i of r)this.Dt(i,t)}Bt(e,t){this.Ct(t,37),H.fromName(e).path.forEach(r=>{this.Ct(t,60),this.$t(r,t)})}Ct(e,t){e.Ft(t)}Ot(e){e.Ft(2)}};Of.Ut=new Of;var UE=class{constructor(){this.Dn=new BE}addToCollectionParentIndex(e,t){return this.Dn.add(t),k.resolve()}getCollectionParents(e,t){return k.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return k.resolve()}deleteFieldIndex(e,t){return k.resolve()}deleteAllFieldIndexes(e){return k.resolve()}createTargetIndexes(e,t){return k.resolve()}getDocumentsMatchingTarget(e,t){return k.resolve(null)}getIndexType(e,t){return k.resolve(0)}getFieldIndexes(e,t){return k.resolve([])}getNextCollectionGroupToUpdate(e){return k.resolve(null)}getMinOffset(e,t){return k.resolve(xo.min())}getMinOffsetFromCollectionGroup(e,t){return k.resolve(xo.min())}updateCollectionGroup(e,t,r){return k.resolve()}updateIndexEntries(e,t){return k.resolve()}},BE=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new ct(Me.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ct(Me.comparator)).toArray()}};var iie=new Uint8Array(0);var FR={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},tM=41943040,tn=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};tn.DEFAULT_COLLECTION_PERCENTILE=10,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,tn.DEFAULT=new tn(tM,tn.DEFAULT_COLLECTION_PERCENTILE,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),tn.DISABLED=new tn(-1,0,0);var Au=class n{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new n(0)}static ur(){return new n(-1)}};var VR="LruGarbageCollector",RH=1048576;function jR([n,e],[t,r]){let i=ie(n,t);return i===0?ie(e,r):i}var $E=class{constructor(e){this.Tr=e,this.buffer=new ct(jR),this.Ir=0}dr(){return++this.Ir}Er(e){let t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();jR(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},HE=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){V(VR,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>_(this,null,function*(){this.Ar=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){va(t)?V(VR,"Ignoring IndexedDB error during garbage collection: ",t):yield ya(t)}yield this.Rr(3e5)}))}},zE=class{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return k.resolve(BI.ue);let r=new $E(t);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(V("LruGarbageCollector","Garbage collection skipped; disabled"),k.resolve(FR)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(V("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),FR):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let r,i,o,s,a,u,l,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(V("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,t))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),Zs()<=se.DEBUG&&V("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(u-a)+`ms
	Removed ${p} documents in `+(l-u)+`ms
Total Duration: ${l-h}ms`),k.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function NH(n,e){return new zE(n,e)}var qE=class{constructor(){this.changes=new Rr(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,bn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?k.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var GE=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var WE=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&_u(r.mutation,i,nn.empty(),Ye.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,ue()).next(()=>r))}getLocalViewOfDocuments(e,t,r=ue()){let i=Ao();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=gu();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=Ao();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,ue()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=Nr(),s=vu(),a=(function(){return vu()})();return t.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof Zn)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),_u(h.mutation,l,h.mutation.getFieldMask(),Ye.now())):s.set(l.key,nn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),t.forEach((l,h)=>{var p;return a.set(l,new GE(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,t){let r=vu(),i=new Le((s,a)=>s-a),o=ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=t.get(u);if(l===null)return;let h=r.get(u)||nn.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||ue()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=jN();h.forEach(m=>{if(!o.has(m)){let y=qN(t.get(m),r.get(m));y!==null&&p.set(m,y),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return k.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return(function(s){return H.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):xN(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):k.resolve(Ao()),a=Iu,u=o;return s.next(l=>k.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?k.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,ue())).next(h=>({batchId:a,changes:VN(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new H(t)).next(r=>{let i=gu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=gu();return this.indexManager.getCollectionParents(e,o).next(a=>k.forEach(a,u=>{let l=(function(p,m){return new Ti(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(t,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,bn.newInvalidDocument(h)))});let a=gu();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&_u(h.mutation,l,nn.empty(),Ye.now()),ap(t,l)&&(a=a.insert(u,l))}),a})}};var KE=class{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return k.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,(function(i){return{id:i.id,version:i.version,createTime:Qn(i.createTime)}})(t)),k.resolve()}getNamedQuery(e,t){return k.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,(function(i){return{name:i.name,query:AH(i.bundledQuery),readTime:Qn(i.readTime)}})(t)),k.resolve()}};var QE=class{constructor(){this.overlays=new Le(H.comparator),this.kr=new Map}getOverlay(e,t){return k.resolve(this.overlays.get(t))}getOverlays(e,t){let r=Ao();return k.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.wt(e,t,o)}),k.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.kr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(r)),k.resolve()}getOverlaysForCollection(e,t,r){let i=Ao(),o=t.length+1,s=new H(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return k.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new Le((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=Ao(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=Ao(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return k.resolve(a)}wt(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new NE(t,r));let o=this.kr.get(t);o===void 0&&(o=ue(),this.kr.set(t,o)),this.kr.set(t,o.add(r.key))}};var YE=class{constructor(){this.sessionToken=Tt.EMPTY_BYTE_STRING}getSessionToken(e){return k.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,k.resolve()}};var Ru=class{constructor(){this.qr=new ct(We.Qr),this.$r=new ct(We.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){let r=new We(e,t);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Wr(new We(e,t))}Gr(e,t){e.forEach(r=>this.removeReference(r,t))}zr(e){let t=new H(new Me([])),r=new We(t,e),i=new We(t,e+1),o=[];return this.$r.forEachInRange([r,i],s=>{this.Wr(s),o.push(s.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){let t=new H(new Me([])),r=new We(t,e),i=new We(t,e+1),o=ue();return this.$r.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new We(e,0),r=this.qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},We=class{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return H.comparator(e.key,t.key)||ie(e.Hr,t.Hr)}static Ur(e,t){return ie(e.Hr,t.Hr)||H.comparator(e.key,t.key)}};var ZE=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new ct(We.Qr)}checkEmpty(e){return k.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new AE(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.Yr=this.Yr.add(new We(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return k.resolve(s)}lookupMutationBatch(e,t){return k.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.Xr(r),o=i<0?0:i;return k.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return k.resolve(this.mutationQueue.length===0?$I:this.er-1)}getAllMutationBatches(e){return k.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new We(t,0),i=new We(t,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,i],s=>{let a=this.Zr(s.Hr);o.push(a)}),k.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new ct(ie);return t.forEach(i=>{let o=new We(i,0),s=new We(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,s],a=>{r=r.add(a.Hr)})}),k.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;H.isDocumentKey(o)||(o=o.child(""));let s=new We(new H(o),0),a=new ct(ie);return this.Yr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.Hr)),!0)},s),k.resolve(this.ei(a))}ei(e){let t=[];return e.forEach(r=>{let i=this.Zr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Ee(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return k.forEach(t.mutations,i=>{let o=new We(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,t){let r=new We(t,0),i=this.Yr.firstAfterOrEqual(r);return k.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,k.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var JE=class{constructor(e){this.ni=e,this.docs=(function(){return new Le(H.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.ni(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return k.resolve(r?r.document.mutableCopy():bn.newInvalidDocument(t))}getEntries(e,t){let r=Nr();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():bn.newInvalidDocument(i))}),k.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=Nr(),s=t.path,a=new H(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||N$(R$(h),r)<=0||(i.has(h.key)||ap(t,h))&&(o=o.insert(h.key,h.mutableCopy()))}return k.resolve(o)}getAllFromCollectionGroup(e,t,r,i){W(9500)}ri(e,t){return k.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new XE(this)}getSize(e){return k.resolve(this.size)}},XE=class extends qE{constructor(e){super(),this.Or=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),k.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}};var eI=class{constructor(e){this.persistence=e,this.ii=new Rr(t=>WI(t),KI),this.lastRemoteSnapshotVersion=te.min(),this.highestTargetId=0,this.si=0,this.oi=new Ru,this.targetCount=0,this._i=Au.ar()}forEachTarget(e,t){return this.ii.forEach((r,i)=>t(i)),k.resolve()}getLastRemoteSnapshotVersion(e){return k.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return k.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),k.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.si&&(this.si=t),k.resolve()}hr(e){this.ii.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this._i=new Au(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,k.resolve()}updateTargetData(e,t){return this.hr(t),k.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,k.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.ii.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.ii.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),k.waitFor(o).next(()=>i)}getTargetCount(e){return k.resolve(this.targetCount)}getTargetData(e,t){let r=this.ii.get(t)||null;return k.resolve(r)}addMatchingKeys(e,t,r){return this.oi.Kr(t,r),k.resolve()}removeMatchingKeys(e,t,r){this.oi.Gr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),k.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),k.resolve()}getMatchingKeysForTargetId(e,t){let r=this.oi.Jr(t);return k.resolve(r)}containsKey(e,t){return k.resolve(this.oi.containsKey(t))}};var Lf=class{constructor(e,t){this.ai={},this.overlays={},this.ui=new BI(0),this.ci=!1,this.ci=!0,this.li=new YE,this.referenceDelegate=e(this),this.hi=new eI(this),this.indexManager=new UE,this.remoteDocumentCache=(function(i){return new JE(i)})(r=>this.referenceDelegate.Pi(r)),this.serializer=new jE(t),this.Ti=new KE(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new QE,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ai[e.toKey()];return r||(r=new ZE(t,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,r){V("MemoryPersistence","Starting transaction:",e);let i=new tI(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,t){return k.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,t)))}},tI=class extends lE{constructor(e){super(),this.currentSequenceNumber=e}},nI=class n{constructor(e){this.persistence=e,this.Ai=new Ru,this.Ri=null}static Vi(e){return new n(e)}get mi(){if(this.Ri)return this.Ri;throw W(60996)}addReference(e,t,r){return this.Ai.addReference(r,t),this.mi.delete(r.toString()),k.resolve()}removeReference(e,t,r){return this.Ai.removeReference(r,t),this.mi.add(r.toString()),k.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),k.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(i=>this.mi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.mi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return k.forEach(this.mi,r=>{let i=H.fromPath(r);return this.fi(e,i).next(o=>{o||t.removeEntry(i,te.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(r=>{r?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return k.or([()=>k.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}},Ff=class n{constructor(e,t){this.persistence=e,this.gi=new Rr(r=>x$(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=NH(this,t)}static Vi(e,t){return new n(e,t)}Ii(){}di(e){return k.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){let t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}yr(e){let t=0;return this.gr(e,r=>{t++}).next(()=>t)}gr(e,t){return k.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(o=>o?k.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ri(e,s=>this.Sr(e,s,t).next(a=>{a||(r++,o.removeEntry(s,te.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),k.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),k.resolve()}removeReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),k.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),k.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=_f(e.data.value)),t}Sr(e,t,r){return k.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.gi.get(t);return k.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var rI=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Is=r,this.ds=i}static Es(e,t){let r=ue(),i=ue();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var iI=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var oI=class{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return xA()?8:P$(st())>0?6:4})()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.ps(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ys(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new iI;return this.ws(e,t,s).next(a=>{if(o.result=a,this.Rs)return this.Ss(e,t,s,a.size)})}).next(()=>o.result)}Ss(e,t,r,i){return r.documentReadCount<this.Vs?(Zs()<=se.DEBUG&&V("QueryEngine","SDK will not create cache indexes for query:",Js(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),k.resolve()):(Zs()<=se.DEBUG&&V("QueryEngine","Query:",Js(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(Zs()<=se.DEBUG&&V("QueryEngine","The SDK decides to create cache indexes for query:",Js(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Wn(t))):k.resolve())}ps(e,t){if(SR(t))return k.resolve(null);let r=Wn(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=bE(t,null,"F"),r=Wn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=ue(...o);return this.gs.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.bs(t,a);return this.Ds(t,l,s,u.readTime)?this.ps(e,bE(t,null,"F")):this.vs(e,l,t,u)}))})))}ys(e,t,r,i){return SR(t)||i.isEqual(te.min())?k.resolve(null):this.gs.getDocuments(e,r).next(o=>{let s=this.bs(t,o);return this.Ds(t,s,r,i)?k.resolve(null):(Zs()<=se.DEBUG&&V("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Js(t)),this.vs(e,s,t,A$(i,Iu)).next(a=>a))})}bs(e,t){let r=new ct(LN(e));return t.forEach((i,o)=>{ap(e,o)&&(r=r.add(o))}),r}Ds(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ws(e,t,r){return Zs()<=se.DEBUG&&V("QueryEngine","Using full collection scan to execute query:",Js(t)),this.gs.getDocumentsMatchingQuery(e,t,xo.min(),r)}vs(e,t,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var ZI="LocalStore",MH=3e8,sI=class{constructor(e,t,r,i){this.persistence=e,this.Cs=t,this.serializer=i,this.Fs=new Le(ie),this.Ms=new Rr(o=>WI(o),KI),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new WE(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}};function PH(n,e,t,r){return new sI(n,e,t,r)}function nM(n,e){return _(this,null,function*(){let t=X(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Ns(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=ue();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return t.localDocuments.getDocuments(r,u).next(l=>({Bs:l,removedBatchIds:s,addedBatchIds:a}))})})})}function kH(n,e){let t=X(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.Os.newChangeBuffer({trackRemovals:!0});return(function(a,u,l,h){let p=l.batch,m=p.keys(),y=k.resolve();return m.forEach(S=>{y=y.next(()=>h.getEntry(u,S)).next(M=>{let N=l.docVersions.get(S);Ee(N!==null,48541),M.version.compareTo(N)<0&&(p.applyToRemoteDocument(M,l),M.isValidDocument()&&(M.setReadTime(l.commitVersion),h.addEntry(M)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,p))})(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(a){let u=ue();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u})(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function rM(n){let e=X(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function xH(n,e){let t=X(n),r=e.snapshotVersion,i=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.Os.newChangeBuffer({trackRemovals:!0});i=t.Fs;let a=[];e.targetChanges.forEach((h,p)=>{let m=i.get(p);if(!m)return;a.push(t.hi.removeMatchingKeys(o,h.removedDocuments,p).next(()=>t.hi.addMatchingKeys(o,h.addedDocuments,p)));let y=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(Tt.EMPTY_BYTE_STRING,te.min()).withLastLimboFreeSnapshotVersion(te.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(p,y),(function(M,N,L){return M.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=MH?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0})(m,y,h)&&a.push(t.hi.updateTargetData(o,y))});let u=Nr(),l=ue();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(OH(o,s,e.documentUpdates).next(h=>{u=h.Ls,l=h.ks})),!r.isEqual(te.min())){let h=t.hi.getLastRemoteSnapshotVersion(o).next(p=>t.hi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return k.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(t.Fs=i,o))}function OH(n,e,t){let r=ue(),i=ue();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=Nr();return t.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(te.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):V(ZI,"Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ls:s,ks:i}})}function LH(n,e){let t=X(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=$I),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function FH(n,e){let t=X(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.hi.getTargetData(r,e).next(o=>o?(i=o,k.resolve(i)):t.hi.allocateTargetId(r).next(s=>(i=new Su(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(r.targetId,r),t.Ms.set(e,r.targetId)),r})}function aI(n,e,t){return _(this,null,function*(){let r=X(n),i=r.Fs.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!va(s))throw s;V(ZI,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)})}function UR(n,e,t){let r=X(n),i=te.min(),o=ue();return r.persistence.runTransaction("Execute query","readwrite",s=>(function(u,l,h){let p=X(u),m=p.Ms.get(h);return m!==void 0?k.resolve(p.Fs.get(m)):p.hi.getTargetData(l,h)})(r,s,Wn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.Cs.getDocumentsMatchingQuery(s,e,t?i:te.min(),t?o:ue())).next(a=>(VH(r,Z$(e),a),{documents:a,qs:o})))}function VH(n,e,t){let r=n.xs.get(e)||te.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.xs.set(e,r)}var Vf=class{constructor(){this.activeTargetIds=rH()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var cI=class{constructor(){this.Fo=new Vf,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,r){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new Vf,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var uI=class{xo(e){}shutdown(){}};var BR="ConnectivityMonitor",jf=class{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){V(BR,"Network connectivity changed: AVAILABLE");for(let e of this.ko)e(0)}Lo(){V(BR,"Network connectivity changed: UNAVAILABLE");for(let e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var vf=null;function lI(){return vf===null?vf=(function(){return 268435456+Math.round(2147483648*Math.random())})():vf++,"0x"+vf.toString(16)}var J_="RestConnection",jH={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},dI=class{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===Sf?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,t,r,i,o){let s=lI(),a=this.Go(e,t.toUriEncodedString());V(J_,`Sending RPC '${e}' ${s}:`,a,r);let u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(u,i,o);let{host:l}=new URL(a),h=ui(l);return this.jo(e,a,u,r,h).then(p=>(V(J_,`Received RPC '${e}' ${s}: `,p),p),p=>{throw Ii(J_,`RPC '${e}' ${s} failed with error: `,p,"url: ",a,"request:",r),p})}Jo(e,t,r,i,o,s){return this.Wo(e,t,r,i,o)}zo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ma})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Go(e,t){let r=jH[e];return`${this.$o}/v1/${t}:${r}`}terminate(){}};var hI=class{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}};var wt="WebChannelConnection",fI=class extends dI{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,r,i,o){let s=lI();return new Promise((a,u)=>{let l=new G_;l.setWithCredentials(!0),l.listenOnce(W_.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case pu.NO_ERROR:let p=l.getResponseJson();V(wt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),a(p);break;case pu.TIMEOUT:V(wt,`RPC '${e}' ${s} timed out`),u(new O(R.DEADLINE_EXCEEDED,"Request time out"));break;case pu.HTTP_ERROR:let m=l.getStatus();if(V(wt,`RPC '${e}' ${s} failed with status:`,m,"response text:",l.getResponseText()),m>0){let y=l.getResponseJson();Array.isArray(y)&&(y=y[0]);let S=y?.error;if(S&&S.status&&S.message){let M=(function(L){let z=L.toLowerCase().replace(/_/g,"-");return Object.values(R).indexOf(z)>=0?z:R.UNKNOWN})(S.status);u(new O(M,S.message))}else u(new O(R.UNKNOWN,"Server responded with status "+l.getStatus()))}else u(new O(R.UNAVAILABLE,"Connection failed."));break;default:W(9055,{c_:e,streamId:s,l_:l.getLastErrorCode(),h_:l.getLastError()})}}finally{V(wt,`RPC '${e}' ${s} completed.`)}});let h=JSON.stringify(i);V(wt,`RPC '${e}' ${s} sending request:`,i),l.send(t,"POST",h,r,15)})}P_(e,t,r){let i=lI(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Y_(),a=Q_(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.zo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;let h=o.join("");V(wt,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u);this.T_(p);let m=!1,y=!1,S=new hI({Ho:N=>{y?V(wt,`Not sending because RPC '${e}' stream ${i} is closed:`,N):(m||(V(wt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),V(wt,`RPC '${e}' stream ${i} sending:`,N),p.send(N))},Yo:()=>p.close()}),M=(N,L,z)=>{N.listen(L,Q=>{try{z(Q)}catch(De){setTimeout(()=>{throw De},0)}})};return M(p,Ys.EventType.OPEN,()=>{y||(V(wt,`RPC '${e}' stream ${i} transport opened.`),S.s_())}),M(p,Ys.EventType.CLOSE,()=>{y||(y=!0,V(wt,`RPC '${e}' stream ${i} transport closed`),S.__(),this.I_(p))}),M(p,Ys.EventType.ERROR,N=>{y||(y=!0,Ii(wt,`RPC '${e}' stream ${i} transport errored. Name:`,N.name,"Message:",N.message),S.__(new O(R.UNAVAILABLE,"The operation could not be completed")))}),M(p,Ys.EventType.MESSAGE,N=>{var L;if(!y){let z=N.data[0];Ee(!!z,16349);let Q=z,De=Q?.error||((L=Q[0])===null||L===void 0?void 0:L.error);if(De){V(wt,`RPC '${e}' stream ${i} received error:`,De);let Dt=De.status,Ie=(function(I){let w=Ge[I];if(w!==void 0)return WN(w)})(Dt),T=De.message;Ie===void 0&&(Ie=R.INTERNAL,T="Unknown error status: "+Dt+" with message "+De.message),y=!0,S.__(new O(Ie,T)),p.close()}else V(wt,`RPC '${e}' stream ${i} received:`,z),S.a_(z)}}),M(a,K_.STAT_EVENT,N=>{N.stat===gf.PROXY?V(wt,`RPC '${e}' stream ${i} detected buffering proxy`):N.stat===gf.NOPROXY&&V(wt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.o_()},0),S}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}};function X_(){return typeof document<"u"?document:null}function cp(n){return new xE(n,!0)}var Uf=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Fi=e,this.timerId=t,this.d_=r,this.E_=i,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let t=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,t-r);i>0&&V("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var $R="PersistentStream",Bf=class{constructor(e,t,r,i,o,s,a,u){this.Fi=e,this.w_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new Uf(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}stop(){return _(this,null,function*(){this.M_()&&(yield this.close(0))})}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}L_(){return _(this,null,function*(){if(this.x_())return this.close(0)})}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}close(e,t){return _(this,null,function*(){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===R.RESOURCE_EXHAUSTED?(Cr(t.toString()),Cr("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===R.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.n_(t)})}U_(){}auth(){this.state=1;let e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===t&&this.W_(r,i)},r=>{e(()=>{let i=new O(R.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,t){let r=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(()=>_(this,null,function*(){this.state=0,this.start()}))}G_(e){return V($R,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(V($R,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},pI=class extends Bf{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();let t=yH(this.serializer,e),r=(function(o){if(!("targetChange"in o))return te.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?te.min():s.readTime?Qn(s.readTime):te.min()})(e);return this.listener.J_(t,r)}H_(e){let t={};t.database=VE(this.serializer),t.addTarget=(function(o,s){let a,u=s.target;if(a=TE(u)?{documents:EH(o,u)}:{query:IH(o,u).Vt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=KN(o,s.resumeToken);let l=OE(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(te.min())>0){a.readTime=xf(o,s.snapshotVersion.toTimestamp());let l=OE(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a})(this.serializer,e);let r=TH(this.serializer,e);r&&(t.labels=r),this.k_(t)}Y_(e){let t={};t.database=VE(this.serializer),t.removeTarget=e,this.k_(t)}},gI=class extends Bf{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return Ee(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ee(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Ee(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();let t=_H(e.writeResults,e.commitTime),r=Qn(e.commitTime);return this.listener.ta(r,t)}na(){let e={};e.database=VE(this.serializer),this.k_(e)}X_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>vH(this.serializer,r))};this.k_(t)}};var mI=class{},yI=class extends mI{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new O(R.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(e,LE(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new O(R.UNKNOWN,o.toString())})}Jo(e,t,r,i,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Jo(e,LE(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new O(R.UNKNOWN,s.toString())})}terminate(){this.ra=!0,this.connection.terminate()}},vI=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Cr(t),this._a=!1):V("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}};var jo="RemoteStore",_I=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(s=>{r.enqueueAndForget(()=>_(this,null,function*(){Uo(this)&&(V(jo,"Restarting streams for network reachability change."),yield(function(u){return _(this,null,function*(){let l=X(u);l.Ia.add(4),yield Lu(l),l.Aa.set("Unknown"),l.Ia.delete(4),yield up(l)})})(this))}))}),this.Aa=new vI(r,i)}};function up(n){return _(this,null,function*(){if(Uo(n))for(let e of n.da)yield e(!0)})}function Lu(n){return _(this,null,function*(){for(let e of n.da)yield e(!1)})}function iM(n,e){let t=X(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),tw(t)?ew(t):_a(t).x_()&&XI(t,e))}function JI(n,e){let t=X(n),r=_a(t);t.Ta.delete(e),r.x_()&&oM(t,e),t.Ta.size===0&&(r.x_()?r.B_():Uo(t)&&t.Aa.set("Unknown"))}function XI(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(te.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}_a(n).H_(e)}function oM(n,e){n.Ra.$e(e),_a(n).Y_(e)}function ew(n){n.Ra=new kE({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),_a(n).start(),n.Aa.aa()}function tw(n){return Uo(n)&&!_a(n).M_()&&n.Ta.size>0}function Uo(n){return X(n).Ia.size===0}function sM(n){n.Ra=void 0}function UH(n){return _(this,null,function*(){n.Aa.set("Online")})}function BH(n){return _(this,null,function*(){n.Ta.forEach((e,t)=>{XI(n,e)})})}function $H(n,e){return _(this,null,function*(){sM(n),tw(n)?(n.Aa.la(e),ew(n)):n.Aa.set("Unknown")})}function HH(n,e,t){return _(this,null,function*(){if(n.Aa.set("Online"),e instanceof Pf&&e.state===2&&e.cause)try{yield(function(i,o){return _(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.Ta.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.Ta.delete(a),i.Ra.removeTarget(a))})})(n,e)}catch(r){V(jo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield $f(n,r)}else if(e instanceof na?n.Ra.Ye(e):e instanceof Mf?n.Ra.it(e):n.Ra.et(e),!t.isEqual(te.min()))try{let r=yield rM(n.localStore);t.compareTo(r)>=0&&(yield(function(o,s){let a=o.Ra.Pt(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.Ta.get(l);h&&o.Ta.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o.Ta.get(u);if(!h)return;o.Ta.set(u,h.withResumeToken(Tt.EMPTY_BYTE_STRING,h.snapshotVersion)),oM(o,u);let p=new Su(h.target,u,l,h.sequenceNumber);XI(o,p)}),o.remoteSyncer.applyRemoteEvent(a)})(n,t))}catch(r){V(jo,"Failed to raise snapshot:",r),yield $f(n,r)}})}function $f(n,e,t){return _(this,null,function*(){if(!va(e))throw e;n.Ia.add(1),yield Lu(n),n.Aa.set("Offline"),t||(t=()=>rM(n.localStore)),n.asyncQueue.enqueueRetryable(()=>_(null,null,function*(){V(jo,"Retrying IndexedDB access"),yield t(),n.Ia.delete(1),yield up(n)}))})}function aM(n,e){return e().catch(t=>$f(n,t,e))}function lp(n){return _(this,null,function*(){let e=X(n),t=Di(e),r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:$I;for(;zH(e);)try{let i=yield LH(e.localStore,r);if(i===null){e.Pa.length===0&&t.B_();break}r=i.batchId,qH(e,i)}catch(i){yield $f(e,i)}cM(e)&&uM(e)})}function zH(n){return Uo(n)&&n.Pa.length<10}function qH(n,e){n.Pa.push(e);let t=Di(n);t.x_()&&t.Z_&&t.X_(e.mutations)}function cM(n){return Uo(n)&&!Di(n).M_()&&n.Pa.length>0}function uM(n){Di(n).start()}function GH(n){return _(this,null,function*(){Di(n).na()})}function WH(n){return _(this,null,function*(){let e=Di(n);for(let t of n.Pa)e.X_(t.mutations)})}function KH(n,e,t){return _(this,null,function*(){let r=n.Pa.shift(),i=RE.from(r,e,t);yield aM(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield lp(n)})}function QH(n,e){return _(this,null,function*(){e&&Di(n).Z_&&(yield(function(r,i){return _(this,null,function*(){if((function(s){return lH(s)&&s!==R.ABORTED})(i.code)){let o=r.Pa.shift();Di(r).N_(),yield aM(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield lp(r)}})})(n,e)),cM(n)&&uM(n)})}function HR(n,e){return _(this,null,function*(){let t=X(n);t.asyncQueue.verifyOperationInProgress(),V(jo,"RemoteStore received new credentials");let r=Uo(t);t.Ia.add(3),yield Lu(t),r&&t.Aa.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),yield up(t)})}function YH(n,e){return _(this,null,function*(){let t=X(n);e?(t.Ia.delete(2),yield up(t)):e||(t.Ia.add(2),yield Lu(t),t.Aa.set("Unknown"))})}function _a(n){return n.Va||(n.Va=(function(t,r,i){let o=X(t);return o.ia(),new pI(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(n.datastore,n.asyncQueue,{Zo:UH.bind(null,n),e_:BH.bind(null,n),n_:$H.bind(null,n),J_:HH.bind(null,n)}),n.da.push(e=>_(null,null,function*(){e?(n.Va.N_(),tw(n)?ew(n):n.Aa.set("Unknown")):(yield n.Va.stop(),sM(n))}))),n.Va}function Di(n){return n.ma||(n.ma=(function(t,r,i){let o=X(t);return o.ia(),new gI(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:GH.bind(null,n),n_:QH.bind(null,n),ea:WH.bind(null,n),ta:KH.bind(null,n)}),n.da.push(e=>_(null,null,function*(){e?(n.ma.N_(),yield lp(n)):(yield n.ma.stop(),n.Pa.length>0&&(V(jo,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))}))),n.ma}var EI=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Tn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new O(R.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function nw(n,e){if(Cr("AsyncQueue",`${e}: ${n}`),va(n))return new O(R.UNAVAILABLE,`${e}: ${n}`);throw n}var Hf=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||H.comparator(t.key,r.key):(t,r)=>H.comparator(t.key,r.key),this.keyedMap=gu(),this.sortedSet=new Le(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var zf=class{constructor(){this.fa=new Le(H.comparator)}track(e){let t=e.doc.key,r=this.fa.get(t);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(t,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(t):e.type===1&&r.type===2?this.fa=this.fa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):W(63341,{At:e,ga:r}):this.fa=this.fa.insert(t,e)}pa(){let e=[];return this.fa.inorderTraversal((t,r)=>{e.push(r)}),e}},fa=class n{constructor(e,t,r,i,o,s,a,u,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,Hf.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&sp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var II=class{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}},wI=class{constructor(){this.queries=zR(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,r){let i=X(t),o=i.queries;i.queries=zR(),o.forEach((s,a)=>{for(let u of a.wa)u.onError(r)})})(this,new O(R.ABORTED,"Firestore shutting down"))}};function zR(){return new Rr(n=>ON(n),sp)}function rw(n,e){return _(this,null,function*(){let t=X(n),r=3,i=e.query,o=t.queries.get(i);o?!o.Sa()&&e.ba()&&(r=2):(o=new II,r=e.ba()?0:1);try{switch(r){case 0:o.ya=yield t.onListen(i,!0);break;case 1:o.ya=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let a=nw(s,`Initialization of query '${Js(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.wa.push(e),e.va(t.onlineState),o.ya&&e.Ca(o.ya)&&ow(t)})}function iw(n,e){return _(this,null,function*(){let t=X(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.wa.indexOf(e);s>=0&&(o.wa.splice(s,1),o.wa.length===0?i=e.ba()?0:1:!o.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function ZH(n,e){let t=X(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.wa)a.Ca(i)&&(r=!0);s.ya=i}}r&&ow(t)}function JH(n,e,t){let r=X(n),i=r.queries.get(e);if(i)for(let o of i.wa)o.onError(t);r.queries.delete(e)}function ow(n){n.Da.forEach(e=>{e.next()})}var TI,qR;(qR=TI||(TI={})).Fa="default",qR.Cache="cache";var Nu=class{constructor(e,t,r){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new fa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;let r=t!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;let t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=fa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==TI.Cache}};var qf=class{constructor(e){this.key=e}},Gf=class{constructor(e){this.key=e}},DI=class{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=ue(),this.mutatedKeys=ue(),this.Xa=LN(e),this.eu=new Hf(this.Xa)}get tu(){return this.Ha}nu(e,t){let r=t?t.ru:new zf,i=t?t.eu:this.eu,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let m=i.get(h),y=ap(this.query,p)?p:null,S=!!m&&this.mutatedKeys.has(m.key),M=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),N=!1;m&&y?m.data.isEqual(y.data)?S!==M&&(r.track({type:3,doc:y}),N=!0):this.iu(m,y)||(r.track({type:2,doc:y}),N=!0,(u&&this.Xa(y,u)>0||l&&this.Xa(y,l)<0)&&(a=!0)):!m&&y?(r.track({type:0,doc:y}),N=!0):m&&!y&&(r.track({type:1,doc:m}),N=!0,(u||l)&&(a=!0)),N&&(y?(s=s.add(y),o=M?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{eu:s,ru:r,Ds:a,mutatedKeys:o}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;let s=e.ru.pa();s.sort((h,p)=>(function(y,S){let M=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return W(20277,{At:N})}};return M(y)-M(S)})(h.type,p.type)||this.Xa(h.doc,p.doc)),this.su(r),i=i!=null&&i;let a=t&&!i?this.ou():[],u=this.Za.size===0&&this.current&&!i?1:0,l=u!==this.Ya;return this.Ya=u,s.length!==0||l?{snapshot:new fa(this.query,e.eu,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new zf,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];let e=this.Za;this.Za=ue(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});let t=[];return e.forEach(r=>{this.Za.has(r)||t.push(new Gf(r))}),this.Za.forEach(r=>{e.has(r)||t.push(new qf(r))}),t}uu(e){this.Ha=e.qs,this.Za=ue();let t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return fa.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}},sw="SyncEngine",bI=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},CI=class{constructor(e){this.key=e,this.lu=!1}},SI=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.hu={},this.Pu=new Rr(a=>ON(a),sp),this.Tu=new Map,this.Iu=new Set,this.du=new Le(H.comparator),this.Eu=new Map,this.Au=new Ru,this.Ru={},this.Vu=new Map,this.mu=Au.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}};function XH(n,e,t=!0){return _(this,null,function*(){let r=gM(n),i,o=r.Pu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.cu()):i=yield lM(r,e,t,!0),i})}function e4(n,e){return _(this,null,function*(){let t=gM(n);yield lM(t,e,!0,!1)})}function lM(n,e,t,r){return _(this,null,function*(){let i=yield FH(n.localStore,Wn(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=yield t4(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&iM(n.remoteStore,i),a})}function t4(n,e,t,r,i){return _(this,null,function*(){n.gu=(p,m,y)=>(function(M,N,L,z){return _(this,null,function*(){let Q=N.view.nu(L);Q.Ds&&(Q=yield UR(M.localStore,N.query,!1).then(({documents:T})=>N.view.nu(T,Q)));let De=z&&z.targetChanges.get(N.targetId),Dt=z&&z.targetMismatches.get(N.targetId)!=null,Ie=N.view.applyChanges(Q,M.isPrimaryClient,De,Dt);return WR(M,N.targetId,Ie._u),Ie.snapshot})})(n,p,m,y);let o=yield UR(n.localStore,e,!0),s=new DI(e,o.qs),a=s.nu(o.documents),u=Cu.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),l=s.applyChanges(a,n.isPrimaryClient,u);WR(n,t,l._u);let h=new bI(e,t,s);return n.Pu.set(e,h),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),l.snapshot})}function n4(n,e,t){return _(this,null,function*(){let r=X(n),i=r.Pu.get(e),o=r.Tu.get(i.targetId);if(o.length>1)return r.Tu.set(i.targetId,o.filter(s=>!sp(s,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield aI(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&JI(r.remoteStore,i.targetId),AI(r,i.targetId)}).catch(ya))):(AI(r,i.targetId),yield aI(r.localStore,i.targetId,!0))})}function r4(n,e){return _(this,null,function*(){let t=X(n),r=t.Pu.get(e),i=t.Tu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),JI(t.remoteStore,r.targetId))})}function i4(n,e,t){return _(this,null,function*(){let r=d4(n);try{let i=yield(function(s,a){let u=X(s),l=Ye.now(),h=a.reduce((y,S)=>y.add(S.key),ue()),p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let S=Nr(),M=ue();return u.Os.getEntries(y,h).next(N=>{S=N,S.forEach((L,z)=>{z.isValidDocument()||(M=M.add(L))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,S)).next(N=>{p=N;let L=[];for(let z of a){let Q=uH(z,p.get(z.key).overlayedDocument);Q!=null&&L.push(new Zn(z.key,Q,AN(Q.value.mapValue),Kn.exists(!0)))}return u.mutationQueue.addMutationBatch(y,l,L,a)}).next(N=>{m=N;let L=N.applyToLocalDocumentSet(p,M);return u.documentOverlayCache.saveOverlays(y,N.batchId,L)})}).then(()=>({batchId:m.batchId,changes:VN(p)}))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(s,a,u){let l=s.Ru[s.currentUser.toKey()];l||(l=new Le(ie)),l=l.insert(a,u),s.Ru[s.currentUser.toKey()]=l})(r,i.batchId,t),yield Fu(r,i.changes),yield lp(r.remoteStore)}catch(i){let o=nw(i,"Failed to persist write");t.reject(o)}})}function dM(n,e){return _(this,null,function*(){let t=X(n);try{let r=yield xH(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Eu.get(o);s&&(Ee(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.lu=!0:i.modifiedDocuments.size>0?Ee(s.lu,14607):i.removedDocuments.size>0&&(Ee(s.lu,42227),s.lu=!1))}),yield Fu(t,r,e)}catch(r){yield ya(r)}})}function GR(n,e,t){let r=X(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Pu.forEach((o,s)=>{let a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),(function(s,a){let u=X(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let m of p.wa)m.va(a)&&(l=!0)}),l&&ow(u)})(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function o4(n,e,t){return _(this,null,function*(){let r=X(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Eu.get(e),o=i&&i.key;if(o){let s=new Le(H.comparator);s=s.insert(o,bn.newNoDocument(o,te.min()));let a=ue().add(o),u=new Nf(te.min(),new Map,new Le(ie),s,a);yield dM(r,u),r.du=r.du.remove(o),r.Eu.delete(e),aw(r)}else yield aI(r.localStore,e,!1).then(()=>AI(r,e,t)).catch(ya)})}function s4(n,e){return _(this,null,function*(){let t=X(n),r=e.batch.batchId;try{let i=yield kH(t.localStore,e);fM(t,r,null),hM(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Fu(t,i)}catch(i){yield ya(i)}})}function a4(n,e,t){return _(this,null,function*(){let r=X(n);try{let i=yield(function(s,a){let u=X(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(Ee(p!==null,37113),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})})(r.localStore,e);fM(r,e,t),hM(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Fu(r,i)}catch(i){yield ya(i)}})}function hM(n,e){(n.Vu.get(e)||[]).forEach(t=>{t.resolve()}),n.Vu.delete(e)}function fM(n,e,t){let r=X(n),i=r.Ru[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function AI(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Tu.get(e))n.Pu.delete(r),t&&n.hu.pu(r,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach(r=>{n.Au.containsKey(r)||pM(n,r)})}function pM(n,e){n.Iu.delete(e.path.canonicalString());let t=n.du.get(e);t!==null&&(JI(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),aw(n))}function WR(n,e,t){for(let r of t)r instanceof qf?(n.Au.addReference(r.key,e),c4(n,r)):r instanceof Gf?(V(sw,"Document no longer in limbo: "+r.key),n.Au.removeReference(r.key,e),n.Au.containsKey(r.key)||pM(n,r.key)):W(19791,{yu:r})}function c4(n,e){let t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Iu.has(r)||(V(sw,"New document in limbo: "+t),n.Iu.add(r),aw(n))}function aw(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){let e=n.Iu.values().next().value;n.Iu.delete(e);let t=new H(Me.fromString(e)),r=n.mu.next();n.Eu.set(r,new CI(t)),n.du=n.du.insert(t,r),iM(n.remoteStore,new Su(Wn(op(t.path)),r,"TargetPurposeLimboResolution",BI.ue))}}function Fu(n,e,t){return _(this,null,function*(){let r=X(n),i=[],o=[],s=[];r.Pu.isEmpty()||(r.Pu.forEach((a,u)=>{s.push(r.gu(u,e,t).then(l=>{var h;if((l||t)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=t?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=rI.Es(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.hu.J_(i),yield(function(u,l){return _(this,null,function*(){let h=X(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>k.forEach(l,m=>k.forEach(m.Is,y=>h.persistence.referenceDelegate.addReference(p,m.targetId,y)).next(()=>k.forEach(m.ds,y=>h.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))}catch(p){if(!va(p))throw p;V(ZI,"Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let y=h.Fs.get(m),S=y.snapshotVersion,M=y.withLastLimboFreeSnapshotVersion(S);h.Fs=h.Fs.insert(m,M)}}})})(r.localStore,o))})}function u4(n,e){return _(this,null,function*(){let t=X(n);if(!t.currentUser.isEqual(e)){V(sw,"User change. New user:",e.toKey());let r=yield nM(t.localStore,e);t.currentUser=e,(function(o,s){o.Vu.forEach(a=>{a.forEach(u=>{u.reject(new O(R.CANCELLED,s))})}),o.Vu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Fu(t,r.Bs)}})}function l4(n,e){let t=X(n),r=t.Eu.get(e);if(r&&r.lu)return ue().add(r.key);{let i=ue(),o=t.Tu.get(e);if(!o)return i;for(let s of o){let a=t.Pu.get(s);i=i.unionWith(a.view.tu)}return i}}function gM(n){let e=X(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=dM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=l4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=o4.bind(null,e),e.hu.J_=ZH.bind(null,e.eventManager),e.hu.pu=JH.bind(null,e.eventManager),e}function d4(n){let e=X(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=s4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=a4.bind(null,e),e}var mM=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return _(this,null,function*(){this.serializer=cp(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),yield this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)})}Cu(t,r){return null}Fu(t,r){return null}vu(t){return PH(this.persistence,new oI,t.initialUser,this.serializer)}Du(t){return new Lf(nI.Vi,this.serializer)}bu(t){return new cI}terminate(){return _(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})(),RI=class extends mM{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){Ee(this.persistence.referenceDelegate instanceof Ff,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new HE(r,e.asyncQueue,t)}Du(e){let t=this.cacheSizeBytes!==void 0?tn.withCacheSize(this.cacheSizeBytes):tn.DEFAULT;return new Lf(r=>Ff.Vi(r,t),this.serializer)}};var h4=(()=>{class n{initialize(t,r){return _(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>GR(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=u4.bind(null,this.syncEngine),yield YH(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return(function(){return new wI})()}createDatastore(t){let r=cp(t.databaseInfo.databaseId),i=(function(s){return new fI(s)})(t.databaseInfo);return(function(s,a,u,l){return new yI(s,a,u,l)})(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return(function(i,o,s,a,u){return new _I(i,o,s,a,u)})(this.localStore,this.datastore,t.asyncQueue,r=>GR(this.syncEngine,r,0),(function(){return jf.C()?new jf:new uI})())}createSyncEngine(t,r){return(function(o,s,a,u,l,h,p){let m=new SI(o,s,a,u,l,h);return p&&(m.fu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return _(this,null,function*(){var t,r;yield(function(o){return _(this,null,function*(){let s=X(o);V(jo,"RemoteStore shutting down."),s.Ia.add(5),yield Lu(s),s.Ea.shutdown(),s.Aa.set("Unknown")})})(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var Mu=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Cr("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var bi="FirestoreClient",NI=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=at.UNAUTHENTICATED,this.clientId=Eu.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>_(this,null,function*(){V(bi,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(V(bi,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Tn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>_(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=nw(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function eE(n,e){return _(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),V(bi,"Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>_(null,null,function*(){r.isEqual(i)||(yield nM(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>{Ii("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{V("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{Ii("Terminating Firestore due to IndexedDb database deletion failed",i)})}),n._offlineComponents=e})}function KR(n,e){return _(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield f4(n);V(bi,"Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>HR(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>HR(e.remoteStore,i)),n._onlineComponents=e})}function f4(n){return _(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){V(bi,"Using user provided OfflineComponentProvider");try{yield eE(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!(function(i){return i.name==="FirebaseError"?i.code===R.FAILED_PRECONDITION||i.code===R.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(t))throw t;Ii("Error using user provided cache. Falling back to memory cache: "+t),yield eE(n,new mM)}}else V(bi,"Using default OfflineComponentProvider"),yield eE(n,new RI(void 0));return n._offlineComponents})}function yM(n){return _(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(V(bi,"Using user provided OnlineComponentProvider"),yield KR(n,n._uninitializedComponentsProvider._online)):(V(bi,"Using default OnlineComponentProvider"),yield KR(n,new h4))),n._onlineComponents})}function p4(n){return yM(n).then(e=>e.syncEngine)}function Wf(n){return _(this,null,function*(){let e=yield yM(n),t=e.eventManager;return t.onListen=XH.bind(null,e.syncEngine),t.onUnlisten=n4.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=e4.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=r4.bind(null,e.syncEngine),t})}function g4(n,e,t={}){let r=new Tn;return n.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return(function(o,s,a,u,l){let h=new Mu({next:m=>{h.Ou(),s.enqueueAndForget(()=>iw(o,p));let y=m.docs.has(a);!y&&m.fromCache?l.reject(new O(R.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&m.fromCache&&u&&u.source==="server"?l.reject(new O(R.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(m)},error:m=>l.reject(m)}),p=new Nu(op(a.path),h,{includeMetadataChanges:!0,ka:!0});return rw(o,p)})(yield Wf(n),n.asyncQueue,e,t,r)})),r.promise}function m4(n,e,t={}){let r=new Tn;return n.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return(function(o,s,a,u,l){let h=new Mu({next:m=>{h.Ou(),s.enqueueAndForget(()=>iw(o,p)),m.fromCache&&u.source==="server"?l.reject(new O(R.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(m)},error:m=>l.reject(m)}),p=new Nu(a,h,{includeMetadataChanges:!0,ka:!0});return rw(o,p)})(yield Wf(n),n.asyncQueue,e,t,r)})),r.promise}function vM(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var QR=new Map;var _M="firestore.googleapis.com",YR=!0,Kf=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new O(R.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=_M,this.ssl=YR}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:YR;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=tM;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<RH)throw new O(R.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}S$("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=vM((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new O(R.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new O(R.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new O(R.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},pa=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Kf({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new O(R.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new O(R.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Kf(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new nE;switch(r.type){case"firstParty":return new sE(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new O(R.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return _(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){let r=QR.get(t);r&&(V("ComponentProvider","Removing Datastore"),QR.delete(t),r.terminate())})(this),Promise.resolve()}};function EM(n,e,t,r={}){var i;n=Dn(n,pa);let o=ui(e),s=n._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),u=`${e}:${t}`;o&&(Vh(`https://${u}`),jh("Firestore",!0)),s.host!==_M&&s.host!==u&&Ii("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l=Object.assign(Object.assign({},s),{host:u,ssl:o,emulatorOptions:r});if(!Bn(l,a)&&(n._setSettings(l),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=at.MOCK_USER;else{h=AA(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new O(R.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new at(m)}n._authCredentials=new rE(new wf(h,p))}}var Ci=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},ut=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new yi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}toJSON(){return{type:n._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Ou(t,n._jsonSchema))return new n(e,r||null,new H(Me.fromString(t.referencePath)))}};ut._jsonSchemaVersion="firestore/documentReference/1.0",ut._jsonSchema={type:Qe("string",ut._jsonSchemaVersion),referencePath:Qe("string")};var yi=class n extends Ci{constructor(e,t,r){super(e,t,op(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new ut(this.firestore,null,new H(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function IM(n,e,...t){if(n=xe(n),iN("collection","path",e),n instanceof pa){let r=Me.fromString(e,...t);return pR(r),new yi(n,null,r)}{if(!(n instanceof ut||n instanceof yi))throw new O(R.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Me.fromString(e,...t));return pR(r),new yi(n.firestore,null,r)}}function wM(n,e,...t){if(n=xe(n),arguments.length===1&&(e=Eu.newId()),iN("doc","path",e),n instanceof pa){let r=Me.fromString(e,...t);return fR(r),new ut(n,null,new H(r))}{if(!(n instanceof ut||n instanceof yi))throw new O(R.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Me.fromString(e,...t));return fR(r),new ut(n.firestore,n instanceof yi?n.converter:null,new H(r))}}var ZR="AsyncQueue",Qf=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new Uf(this,"async_queue_retry"),this.oc=()=>{let r=X_();r&&V(ZR,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;let t=X_();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let t=X_();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let t=new Tn;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}cc(){return _(this,null,function*(){if(this.Zu.length!==0){try{yield this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!va(e))throw e;V(ZR,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}})}uc(e){let t=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,Cr("INTERNAL UNHANDLED ERROR: ",JR(r)),r}).then(r=>(this.nc=!1,r))));return this._c=t,t}enqueueAfterDelay(e,t,r){this.ac(),this.sc.indexOf(e)>-1&&(t=0);let i=EI.createAndSchedule(this,e,t,r,o=>this.lc(o));return this.ec.push(i),i}ac(){this.tc&&W(47125,{hc:JR(this.tc)})}verifyOperationInProgress(){}Pc(){return _(this,null,function*(){let e;do e=this._c,yield e;while(e!==this._c)})}Tc(e){for(let t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let t=this.ec.indexOf(e);this.ec.splice(t,1)}};function JR(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}function XR(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1})(n,["next","error","complete"])}var Mr=class extends pa{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Qf,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return _(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Qf(e),this._firestoreClient=void 0,yield e}})}};function TM(n,e){let t=typeof n=="object"?n:Io(),r=typeof n=="string"?n:e||Sf,i=zs(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=SA("firestore");o&&EM(i,...o)}return i}function Vu(n){if(n._terminated)throw new O(R.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||y4(n),n._firestoreClient}function y4(n){var e,t,r;let i=n._freezeSettings(),o=(function(a,u,l,h){return new dE(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,vM(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new NI(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&(function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}})(n._componentsProvider))}var vi=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(Tt.fromBase64String(e))}catch(t){throw new O(R.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(Tt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ou(e,n._jsonSchema))return n.fromBase64String(e.bytes)}};vi._jsonSchemaVersion="firestore/bytes/1.0",vi._jsonSchema={type:Qe("string",vi._jsonSchemaVersion),bytes:Qe("string")};var ga=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new O(R.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Pu=class{constructor(e){this._methodName=e}};var _i=class n{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new O(R.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new O(R.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ie(this._lat,e._lat)||ie(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:n._jsonSchemaVersion}}static fromJSON(e){if(Ou(e,n._jsonSchema))return new n(e.latitude,e.longitude)}};_i._jsonSchemaVersion="firestore/geoPoint/1.0",_i._jsonSchema={type:Qe("string",_i._jsonSchemaVersion),latitude:Qe("number"),longitude:Qe("number")};var Ei=class n{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ou(e,n._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new n(e.vectorValues);throw new O(R.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};Ei._jsonSchemaVersion="firestore/vectorValue/1.0",Ei._jsonSchema={type:Qe("string",Ei._jsonSchemaVersion),vectorValues:Qe("object")};var v4=/^__.*__$/,MI=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Zn(e,this.data,this.fieldMask,t,this.fieldTransforms):new Vo(e,this.data,t,this.fieldTransforms)}},Yf=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Zn(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function DM(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw W(40011,{Ec:n})}}var PI=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Jf(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(DM(this.Ec)&&v4.test(e))throw this.wc('Document fields cannot begin and end with "__"')}},kI=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||cp(e)}Dc(e,t,r,i=!1){return new PI({Ec:e,methodName:t,bc:r,path:Qt.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function cw(n){let e=n._freezeSettings(),t=cp(n._databaseId);return new kI(n._databaseId,!!e.ignoreUndefinedProperties,t)}function bM(n,e,t,r,i,o={}){let s=n.Dc(o.merge||o.mergeFields?2:0,e,t,i);uw("Data must be an object, but it was:",s,r);let a=CM(r,s),u,l;if(o.merge)u=new nn(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let m=xI(e,p,t);if(!s.contains(m))throw new O(R.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);AM(h,m)||h.push(m)}u=new nn(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new MI(new Kt(a),u,l)}var Zf=class n extends Pu{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function _4(n,e,t,r){let i=n.Dc(1,e,t);uw("Data must be an object, but it was:",i,r);let o=[],s=Kt.empty();Si(r,(u,l)=>{let h=lw(e,u,t);l=xe(l);let p=i.gc(h);if(l instanceof Zf)o.push(h);else{let m=ju(l,p);m!=null&&(o.push(h),s.set(h,m))}});let a=new nn(o);return new Yf(s,a,i.fieldTransforms)}function E4(n,e,t,r,i,o){let s=n.Dc(1,e,t),a=[xI(e,r,t)],u=[i];if(o.length%2!=0)throw new O(R.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<o.length;m+=2)a.push(xI(e,o[m])),u.push(o[m+1]);let l=[],h=Kt.empty();for(let m=a.length-1;m>=0;--m)if(!AM(l,a[m])){let y=a[m],S=u[m];S=xe(S);let M=s.gc(y);if(S instanceof Zf)l.push(y);else{let N=ju(S,M);N!=null&&(l.push(y),h.set(y,N))}}let p=new nn(l);return new Yf(h,p,s.fieldTransforms)}function I4(n,e,t,r=!1){return ju(t,n.Dc(r?4:3,e))}function ju(n,e){if(SM(n=xe(n)))return uw("Unsupported field value:",e,n),CM(n,e);if(n instanceof Pu)return(function(r,i){if(!DM(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(r,i){let o=[],s=0;for(let a of r){let u=ju(a,i.yc(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}})(n,e)}return(function(r,i){if((r=xe(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return iH(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=Ye.fromDate(r);return{timestampValue:xf(i.serializer,o)}}if(r instanceof Ye){let o=new Ye(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:xf(i.serializer,o)}}if(r instanceof _i)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof vi)return{bytesValue:KN(i.serializer,r._byteString)};if(r instanceof ut){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.wc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:YI(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ei)return(function(s,a){return{mapValue:{fields:{[zI]:{stringValue:qI},[oa]:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.wc("VectorValues must only contain numeric values.");return QI(a.serializer,l)})}}}}}})(r,i);throw i.wc(`Unsupported field value: ${np(r)}`)})(n,e)}function CM(n,e){let t={};return EN(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Si(n,(r,i)=>{let o=ju(i,e.Vc(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function SM(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ye||n instanceof _i||n instanceof vi||n instanceof ut||n instanceof Pu||n instanceof Ei)}function uw(n,e,t){if(!SM(t)||!oN(t)){let r=np(t);throw r==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+r)}}function xI(n,e,t){if((e=xe(e))instanceof ga)return e._internalPath;if(typeof e=="string")return lw(n,e);throw Jf("Field path arguments must be of type string or ",n,!1,void 0,t)}var w4=new RegExp("[~\\*/\\[\\]]");function lw(n,e,t){if(e.search(w4)>=0)throw Jf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ga(...e.split("."))._internalPath}catch{throw Jf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Jf(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new O(R.INVALID_ARGUMENT,a+n+u)}function AM(n,e){return n.some(t=>t.isEqual(e))}var Xf=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new ut(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new OI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(dp("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},OI=class extends Xf{data(){return super.data()}};function dp(n,e){return typeof e=="string"?lw(n,e):e instanceof ga?e._internalPath:e._delegate._internalPath}function RM(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new O(R.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var ku=class{},ep=class extends ku{};function NM(n,e,...t){let r=[];e instanceof ku&&r.push(e),r=r.concat(t),(function(o){let s=o.filter(u=>u instanceof LI).length,a=o.filter(u=>u instanceof tp).length;if(s>1||s>0&&a>0)throw new O(R.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(let i of r)n=i._apply(n);return n}var tp=class n extends ep{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=this._parse(e);return kM(e._query,t),new Ci(e.firestore,e.converter,DE(e._query,t))}_parse(e){let t=cw(e.firestore);return(function(o,s,a,u,l,h,p){let m;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new O(R.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){tN(p,h);let S=[];for(let M of p)S.push(eN(u,o,M));m={arrayValue:{values:S}}}else m=eN(u,o,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||tN(p,h),m=I4(a,s,p,h==="in"||h==="not-in");return Ke.create(l,h,m)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};function MM(n,e,t){let r=e,i=dp("where",n);return tp._create(i,r,t)}var LI=class n extends ku{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Cn.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:((function(i,o){let s=i,a=o.getFlattenedFilters();for(let u of a)kM(s,u),s=DE(s,u)})(e._query,t),new Ci(e.firestore,e.converter,DE(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var FI=class n extends ep{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new n(e,t)}_apply(e){let t=(function(i,o,s){if(i.startAt!==null)throw new O(R.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new O(R.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Oo(o,s)})(e._query,this._field,this._direction);return new Ci(e.firestore,e.converter,(function(i,o){let s=i.explicitOrderBy.concat([o]);return new Ti(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,t))}};function PM(n,e="asc"){let t=e,r=dp("orderBy",n);return FI._create(r,t)}function eN(n,e,t){if(typeof(t=xe(t))=="string"){if(t==="")throw new O(R.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!xN(e)&&t.indexOf("/")!==-1)throw new O(R.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let r=e.path.child(Me.fromString(t));if(!H.isDocumentKey(r))throw new O(R.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return IR(n,new H(r))}if(t instanceof ut)return IR(n,t._key);throw new O(R.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${np(t)}.`)}function tN(n,e){if(!Array.isArray(n)||n.length===0)throw new O(R.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function kM(n,e){let t=(function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null})(n.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new O(R.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new O(R.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var VI=class{convertValue(e,t="none"){switch(wi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ne(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ar(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw W(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return Si(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[oa].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Ne(s.doubleValue));return new Ei(o)}convertGeoPoint(e){return new _i(Ne(e.latitude),Ne(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=ip(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Tu(e));default:return null}}convertTimestamp(e){let t=Sr(e);return new Ye(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=Me.fromString(e);Ee(eM(r),9688,{name:e});let i=new Af(r.get(1),r.get(3)),o=new H(r.popFirst(5));return i.isEqual(t)||Cr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function xM(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var No=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Mo=class n extends Xf{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new ra(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(dp("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new O(R.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,t={};return t.type=n._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}};Mo._jsonSchemaVersion="firestore/documentSnapshot/1.0",Mo._jsonSchema={type:Qe("string",Mo._jsonSchemaVersion),bundleSource:Qe("string","DocumentSnapshot"),bundleName:Qe("string"),bundle:Qe("string")};var ra=class extends Mo{data(e={}){return super.data(e)}},Po=class n{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new No(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new ra(this._firestore,this._userDataWriter,r.key,r,new No(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new O(R.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new ra(i._firestore,i._userDataWriter,a.doc.key,a.doc,new No(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new ra(i._firestore,i._userDataWriter,a.doc.key,a.doc,new No(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:T4(a.type),doc:u,oldIndex:l,newIndex:h}})}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new O(R.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=n._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Eu.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let t=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function T4(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return W(61501,{type:n})}}function OM(n){n=Dn(n,ut);let e=Dn(n.firestore,Mr);return g4(Vu(e),n._key).then(t=>jM(e,n,t))}Po._jsonSchemaVersion="firestore/querySnapshot/1.0",Po._jsonSchema={type:Qe("string",Po._jsonSchemaVersion),bundleSource:Qe("string","QuerySnapshot"),bundleName:Qe("string"),bundle:Qe("string")};var xu=class extends VI{constructor(e){super(),this.firestore=e}convertBytes(e){return new vi(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new ut(this.firestore,null,t)}};function LM(n){n=Dn(n,Ci);let e=Dn(n.firestore,Mr),t=Vu(e),r=new xu(e);return RM(n._query),m4(t,n._query).then(i=>new Po(e,r,n,i))}function FM(n,e,t){n=Dn(n,ut);let r=Dn(n.firestore,Mr),i=xM(n.converter,e,t);return VM(r,[bM(cw(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,Kn.none())])}function dw(n,...e){var t,r,i;n=xe(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||XR(e[s])||(o=e[s++]);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(XR(e[s])){let p=e[s];e[s]=(t=p.next)===null||t===void 0?void 0:t.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(n instanceof ut)l=Dn(n.firestore,Mr),h=op(n._key.path),u={next:p=>{e[s]&&e[s](jM(l,n,p))},error:e[s+1],complete:e[s+2]};else{let p=Dn(n,Ci);l=Dn(p.firestore,Mr),h=p._query;let m=new xu(l);u={next:y=>{e[s]&&e[s](new Po(l,m,p,y))},error:e[s+1],complete:e[s+2]},RM(n._query)}return(function(m,y,S,M){let N=new Mu(M),L=new Nu(y,N,S);return m.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return rw(yield Wf(m),L)})),()=>{N.Ou(),m.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return iw(yield Wf(m),L)}))}})(Vu(l),h,a,u)}function VM(n,e){return(function(r,i){let o=new Tn;return r.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return i4(yield p4(r),i,o)})),o.promise})(Vu(n),e)}function jM(n,e,t){let r=t.docs.get(e._key),i=new xu(n);return new Mo(n,i,e._key,r,new No(t.hasPendingWrites,t.fromCache),e.converter)}var jI=class{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=cw(e)}set(e,t,r){this._verifyNotCommitted();let i=tE(e,this._firestore),o=xM(i.converter,t,r),s=bM(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(s.toMutation(i._key,Kn.none())),this}update(e,t,r,...i){this._verifyNotCommitted();let o=tE(e,this._firestore),s;return s=typeof(t=xe(t))=="string"||t instanceof ga?E4(this._dataReader,"WriteBatch.update",o._key,t,r,i):_4(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(s.toMutation(o._key,Kn.exists(!0))),this}delete(e){this._verifyNotCommitted();let t=tE(e,this._firestore);return this._mutations=this._mutations.concat(new bu(t._key,Kn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new O(R.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function tE(n,e){if((n=xe(n)).firestore!==e)throw new O(R.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}function UM(n){return Vu(n=Dn(n,Mr)),new jI(n,e=>VM(n,e))}(function(e,t=!0){(function(i){ma=i})(di),En(new Mt("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new Mr(new iE(r.getProvider("auth-internal")),new aE(s,r.getProvider("app-check-internal")),(function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new O(R.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Af(l.options.projectId,h)})(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Oe(uR,lR,e),Oe(uR,lR,"esm2017")})();var hp=function(){return hp=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},hp.apply(this,arguments)};var C4={includeMetadataChanges:!1};function BM(n,e){return e===void 0&&(e=C4),new J(function(t){var r=dw(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function $M(n,e){var t;e===void 0&&(e={});var r=n.data(e);return!n.exists()||typeof r!="object"||r===null||!e.idField?r:hp(hp({},r),(t={},t[e.idField]=n.id,t))}function HM(n){return BM(n,{includeMetadataChanges:!0}).pipe(re(function(e){return e.docs}))}function zM(n,e){return e===void 0&&(e={}),HM(n).pipe(re(function(t){return t.map(function(r){return $M(r,e)})}))}var Sn=class{constructor(e){return e}},qM="firestore",hw=class{constructor(){return Gs(qM)}};var fw=new U("angularfire2.firestore-instances");function S4(n,e){let t=nu(qM,n,e);return t&&new Sn(t)}function A4(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Sn(r)}}var R4={provide:hw,deps:[[new $t,fw]]},N4={provide:Sn,useFactory:S4,deps:[[new $t,fw],Er]};function GM(n,...e){return Oe("angularfire",hi.full,"fst"),Lt([N4,R4,{provide:fw,useFactory:A4(n),multi:!0,deps:[pe,je,fi,To,[new $t,fu],[new $t,Ws],...e]}])}var WM=qe(zM,!0);var Uu=qe(IM,!0,2);var fp=qe(wM,!0,2);var KM=qe(OM,!0);var QM=qe(LM,!0);var YM=qe(TM,!0);var ZM=qe(PM,!0,2),JM=qe(NM,!0,2);var pw=qe(FM,!0,2);var XM=qe(MM,!0,2),eP=qe(UM,!0,2);var pp=class n{constructor(e){this.firestore=e}getThings(){let e={fromFirestore:i=>{let o=i.data();return{id:i.id,name:o.name,description:o.description,location:o.location,photoURL:o.photoURL,createdAt:o.createdAt,owner:o.owner,status:o.status,metadata:o.metadata}},toFirestore:i=>({name:i.name,description:i.description,location:i.location,photoURL:i.photoURL,createdAt:i.createdAt,owner:i.owner,status:i.status,metadata:i.metadata})},t=Uu(this.firestore,"Things"),r=JM(t,XM("status","==","ON"),ZM("createdAt","desc")).withConverter(e);return WM(r)}static \u0275fac=function(t){return new(t||n)($(Sn))};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})};var P4=(n,e)=>e.id;function k4(n,e){if(n&1&&(Se(0,"div",18)(1,"div",20),pn(2,"img",21),Se(3,"div",22)(4,"h5",23),ce(5),Re(),Se(6,"p",24),ce(7),Re(),Se(8,"a",25),ce(9," Ver Detalhes "),pn(10,"i",26),Re()()()()),n&2){let t=e.$implicit;ot(2),Qd("src",t.photoURL,ro)("alt",t.name),ot(3),lo(t.name),ot(2),lo(t.description)}}function x4(n,e){n&1&&(Se(0,"div",19)(1,"div",27),ce(2,"Nenhuma coisa em destaque encontrada."),Re(),Se(3,"p"),ce(4,"Voc\xEA pode criar dados de teste acessando a rota "),Se(5,"a",28),ce(6,"/seed-data"),Re(),ce(7,"."),Re()())}function O4(n,e){n&1&&Ay(0,k4,11,4,"div",18,P4,!1,x4,8,0,"div",19),n&2&&Ry(e)}var gp=class n{constructor(e){this.dataService=e}things$;ngOnInit(){this.things$=this.dataService.getThings()}static \u0275fac=function(t){return new(t||n)(Ae(pp))};static \u0275cmp=Rt({type:n,selectors:[["app-home"]],decls:22,vars:3,consts:[["id","demo","data-bs-ride","carousel",1,"carousel","slide","mt-3"],[1,"carousel-indicators"],["type","button","data-bs-target","#demo","data-bs-slide-to","0",1,"active"],["type","button","data-bs-target","#demo","data-bs-slide-to","1"],["type","button","data-bs-target","#demo","data-bs-slide-to","2"],[1,"carousel-inner"],[1,"carousel-item","active"],["src","img/la.jpg","alt","Los Angeles",1,"d-block",2,"width","100%"],[1,"carousel-item"],["src","img/chicago.jpg","alt","Chicago",1,"d-block",2,"width","100%"],["src","img/ny.jpg","alt","New York",1,"d-block",2,"width","100%"],["type","button","data-bs-target","#demo","data-bs-slide","prev",1,"carousel-control-prev"],[1,"carousel-control-prev-icon"],["type","button","data-bs-target","#demo","data-bs-slide","next",1,"carousel-control-next"],[1,"carousel-control-next-icon"],[1,"container","mt-2"],[1,"mb-4","text-center"],[1,"row"],[1,"col-12","col-sm-6","col-md-4","mb-4"],[1,"col-12","text-center","mt-5"],[1,"card","shadow-sm","h-100"],[1,"card-img-top",2,"height","200px","object-fit","cover",3,"src","alt"],[1,"card-body","d-flex","flex-column"],[1,"card-title","text-primary"],[1,"card-text","text-muted","small","mt-auto"],["href","#",1,"btn","btn-sm","btn-outline-secondary"],[1,"bi","bi-arrow-right-circle"],[1,"alert","alert-warning"],["href","/seed-data"]],template:function(t,r){if(t&1&&(Se(0,"div",0)(1,"div",1),pn(2,"button",2)(3,"button",3)(4,"button",4),Re(),Se(5,"div",5)(6,"div",6),pn(7,"img",7),Re(),Se(8,"div",8),pn(9,"img",9),Re(),Se(10,"div",8),pn(11,"img",10),Re()(),Se(12,"button",11),pn(13,"span",12),Re(),Se(14,"button",13),pn(15,"span",14),Re()(),Se(16,"div",15)(17,"h2",16),ce(18,"Coisas em Destaque"),Re(),Se(19,"div",17),fr(20,O4,3,1),Cs(21,"async"),Re()()),t&2){let i;ot(20),pr((i=Ss(21,1,r.things$))?20:-1,i)}},dependencies:[ri,Sc],styles:["h2[_ngcontent-%COMP%]{color:#610000}"]})};var mp=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Rt({type:n,selectors:[["app-contacts"]],decls:2,vars:0,template:function(t,r){t&1&&(Se(0,"h2"),ce(1,"Fa\xE7a Contato"),Re())},encapsulation:2})};var yp=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Rt({type:n,selectors:[["app-about"]],decls:2,vars:0,template:function(t,r){t&1&&(Se(0,"h2"),ce(1,"Sobre..."),Re())},encapsulation:2})};var vp=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Rt({type:n,selectors:[["app-new"]],decls:2,vars:0,template:function(t,r){t&1&&(Se(0,"p"),ce(1,"new works!"),Re())},encapsulation:2})};var L4=(n,e,t)=>({"alert-success":n,"alert-info":e,"alert-danger":t});function F4(n,e){n&1&&(ve(0,"div",3)(1,"span",5),ce(2,"Loading..."),_e()())}function V4(n,e){if(n&1&&(ve(0,"div",4),ce(1),_e()),n&2){let t=ti();gr("ngClass",ky(2,L4,t.feedbackMessage.includes("sucesso"),t.feedbackMessage.includes("j\xE1 existe"),t.feedbackMessage.includes("erro"))),ot(),wc(" ",t.feedbackMessage," ")}}var _p=class n{constructor(e){this.firestore=e;this.checkAndSeedData()}feedbackMessage=null;isLoading=!0;owners=["mDICpoDgp6aJ1zJgnwHbAgbmAQ43"];checkAndSeedData(){return _(this,null,function*(){try{let e=Uu(this.firestore,"Things");(yield QM(e)).empty?(yield this.seedData(),this.feedbackMessage='Cole\xE7\xE3o "Things" criada e populada com 15 itens!'):this.feedbackMessage='A cole\xE7\xE3o "Things" j\xE1 existe. Nenhuma a\xE7\xE3o foi necess\xE1ria.'}catch(e){console.error("Erro ao verificar ou criar dados:",e),this.feedbackMessage="Ocorreu um erro ao processar a solicita\xE7\xE3o."}finally{this.isLoading=!1}})}seedData(){return _(this,null,function*(){let e=eP(this.firestore),t=Uu(this.firestore,"Things");for(let r=1;r<=15;r++){let i=this.getRandomDate(),o=this.owners[Math.floor(Math.random()*this.owners.length)],s={name:`Coisa N\xBA ${r}`,description:`Descri\xE7\xE3o completa e sem embara\xE7os da coisa n\xFAmero ${r}.`,location:`Localiza\xE7\xE3o secreta e bem escondida da coisa ${r}`,photoURL:`https://picsum.photos/400/300?random=${r}`,createdAt:i,owner:o,status:"ON",metadata:{}},a=fp(t);e.set(a,s)}yield e.commit()})}getRandomDate(){let e=new Date,t=new Date;t.setMonth(e.getMonth()-6);let r=t.getTime()+Math.random()*(e.getTime()-t.getTime());return new Date(r).toISOString()}static \u0275fac=function(t){return new(t||n)(Ae(Sn))};static \u0275cmp=Rt({type:n,selectors:[["app-seed-data"]],decls:7,vars:2,consts:[[1,"container","mt-5"],[1,"row","justify-content-center"],[1,"col-md-8","text-center"],["role","status",1,"spinner-border","text-primary","mt-4"],[1,"alert","mt-4",3,"ngClass"],[1,"visually-hidden"]],template:function(t,r){t&1&&(ve(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),ce(4,"Popula\xE7\xE3o de Dados"),_e(),fr(5,F4,3,0,"div",3),fr(6,V4,2,6,"div",4),_e()()()),t&2&&(ot(5),pr(r.isLoading?5:-1),ot(),pr(r.feedbackMessage?6:-1))},dependencies:[ri,Gy],encapsulation:2})};var Bu="NgLegal",tP=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:gp,title:Bu},{path:"contacts",component:mp,title:`${Bu} - Fa\xE7a Contato`},{path:"about",component:yp,title:`${Bu} - Sobre`},{path:"new",component:vp,title:`${Bu} - Cadastro`},{path:"seed-data",component:_p,title:`${Bu} - Cadastro de coisas`},{path:"**",redirectTo:"/home"}];var nP={providers:[pm(),Ly({eventCoalescing:!0}),Pv(tP),t0(()=>n0({projectId:"nglegalluferat",appId:"1:690183820582:web:4a8e3931e086fcda331de7",storageBucket:"nglegalluferat.firebasestorage.app",apiKey:"AIzaSyAeXhxxrmvsjWoEynY-93gsa58EQYRFXqw",authDomain:"nglegalluferat.firebaseapp.com",messagingSenderId:"690183820582"})),nR(()=>iR()),GM(()=>YM())]};var Ep=class n{constructor(e,t){this.auth=e;this.firestore=t;this.user$=Li(()=>rR(this.auth)).pipe(Je(r=>{if(!r)return new J(o=>o.next(null));let i=fp(this.firestore,"Users",r.uid);return we(KM(i)).pipe(Je(o=>{let s=new Date().toISOString();if(o.exists())return we(pw(i,{lastLoginAt:s},{merge:!0})).pipe(re(()=>r));{let a={displayName:r.displayName,email:r.email,photoURL:r.photoURL,uid:r.uid,lastLoginAt:s,role:"user",status:"ON",createdAt:s};return we(pw(i,a)).pipe(re(()=>r))}}))}))}user$;loginWithGoogle(){return oR(this.auth,new F_)}logout(){return sR(this.auth)}static \u0275fac=function(t){return new(t||n)($(So),$(Sn))};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})};var rP=()=>({exact:!0});function U4(n,e){if(n&1){let t=bs();ve(0,"a",34),mr("click",function(){Qi(t);let i=ti();return Yi(i.confirmLogout())}),tt(1,"img",35),_e()}if(n&2){let t=e;ot(),gr("src",t.photoURL,ro)("alt",t.displayName)}}function B4(n,e){if(n&1){let t=bs();ve(0,"a",34),mr("click",function(){Qi(t);let i=ti();return Yi(i.authService.loginWithGoogle())}),tt(1,"i",36),_e()}}function $4(n,e){if(n&1){let t=bs();ve(0,"a",37),mr("click",function(){Qi(t);let i=ti();return Yi(i.confirmLogout())}),tt(1,"img",38),ve(2,"span"),ce(3),_e()()}if(n&2){let t=e;ot(),gr("src",t.photoURL+"?sz=32",ro)("alt",t.displayName),ot(2),lo(t.displayName)}}function H4(n,e){if(n&1){let t=bs();ve(0,"a",39),mr("click",function(){Qi(t);let i=ti();return Yi(i.authService.loginWithGoogle())}),tt(1,"i",40),ve(2,"span"),ce(3,"Login"),_e()()}}var Ip=class n{constructor(e){this.authService=e}title=lr("ng-legal");confirmLogout(){confirm("Tem certeza que deseja sair?")&&this.authService.logout()}static \u0275fac=function(t){return new(t||n)(Ae(Ep))};static \u0275cmp=Rt({type:n,selectors:[["app-root"]],decls:63,vars:10,consts:[[1,"d-flex","flex-column","min-vh-100"],[1,"navbar","navbar-expand-sm","bg-dark","navbar-dark"],[1,"container"],["routerLink","/home",1,"navbar-brand"],[1,"bi","bi-hand-thumbs-up"],["type","button","data-bs-toggle","offcanvas","data-bs-target","#offcanvasNavbar","aria-controls","offcanvasNavbar",1,"navbar-toggler","d-sm-none"],[1,"navbar-toggler-icon"],["id","collapsibleNavbar",1,"collapse","navbar-collapse"],[1,"navbar-nav","ms-auto","align-items-center"],[1,"nav-item"],["routerLink","/home","routerLinkActive","active",1,"nav-link","text-white",3,"routerLinkActiveOptions"],["routerLink","/new","routerLinkActive","active",1,"nav-link","text-white"],["routerLink","/contacts","routerLinkActive","active",1,"nav-link","text-white"],["routerLink","/about","routerLinkActive","active",1,"nav-link","text-white"],[1,"nav-link"],["tabindex","-1","id","offcanvasNavbar","aria-labelledby","offcanvasNavbarLabel",1,"offcanvas","offcanvas-end","text-bg-dark","d-sm-none"],[1,"offcanvas-header"],["id","offcanvasNavbarLabel",1,"offcanvas-title"],[1,"bi","bi-database-fill"],["type","button","data-bs-dismiss","offcanvas","aria-label","Close",1,"btn-close","btn-close-white"],[1,"offcanvas-body"],[1,"navbar-nav","justify-content-end","flex-grow-1","pe-3"],["routerLink","/home","routerLinkActive","active",1,"nav-link","ps-2",3,"routerLinkActiveOptions"],[1,"bi","bi-house-fill","pe-2",2,"font-size","1.2rem"],["routerLink","/new","routerLinkActive","active",1,"nav-link","ps-2"],[1,"bi","bi-chat-dots-fill","pe-2",2,"font-size","1.2rem"],["routerLink","/contacts","routerLinkActive","active",1,"nav-link","ps-2"],["routerLink","/about","routerLinkActive","active",1,"nav-link","ps-2"],[1,"bi","bi-info-circle-fill","pe-2",2,"font-size","1.2rem"],["data-bs-dismiss","offcanvas",1,"nav-link"],["data-bs-dismiss","offcanvas",1,"nav-link","ps-2"],[1,"flex-grow-1","container"],[1,"bg-dark","text-white","text-center","p-3","mt-4"],[1,"mb-0"],[1,"nav-link",3,"click"],["width","32","height","32",1,"rounded-circle",3,"src","alt"],[1,"bi","bi-person-circle",2,"font-size","1.5rem"],["data-bs-dismiss","offcanvas",1,"nav-link",3,"click"],["width","32","height","32",1,"rounded-circle","me-2",3,"src","alt"],["data-bs-dismiss","offcanvas",1,"nav-link","ps-2",3,"click"],[1,"bi","bi-person-circle","me-2",2,"font-size","1.2rem"]],template:function(t,r){if(t&1&&(ve(0,"div",0)(1,"nav",1)(2,"div",2)(3,"a",3),ce(4,"Ng"),tt(5,"i",4),ce(6,"Legal"),_e(),ve(7,"button",5),tt(8,"span",6),_e(),ve(9,"div",7)(10,"ul",8)(11,"li",9)(12,"a",10),ce(13,"In\xEDcio"),_e()(),ve(14,"li",9)(15,"a",11),ce(16,"Cadastro"),_e()(),ve(17,"li",9)(18,"a",12),ce(19,"Contatos"),_e()(),ve(20,"li",9)(21,"a",13),ce(22,"Sobre"),_e()(),ve(23,"li",9),fr(24,U4,2,2,"a",14),Cs(25,"async"),Ds(26,B4,2,0,"a",14),_e()()()()(),ve(27,"div",15)(28,"div",16)(29,"h5",17),ce(30," NG"),tt(31,"i",18),ce(32,"CRUD "),_e(),tt(33,"button",19),_e(),ve(34,"div",20)(35,"ul",21)(36,"li",9)(37,"a",22),tt(38,"i",23),ce(39,"In\xEDcio"),_e()(),ve(40,"li",9)(41,"a",24),tt(42,"i",25),ce(43,"Novo"),_e()(),ve(44,"li",9)(45,"a",26),tt(46,"i",25),ce(47,"Contatos"),_e()(),ve(48,"li",9)(49,"a",27),tt(50,"i",28),ce(51,"Sobre"),_e()(),ve(52,"li",9),tt(53,"hr"),_e(),ve(54,"li",9),fr(55,$4,4,3,"a",29),Cs(56,"async"),Ds(57,H4,4,0,"a",30),_e()()()(),ve(58,"main",31),tt(59,"router-outlet"),_e(),ve(60,"footer",32)(61,"p",33),ce(62,"\xA9 Copyright 2025 Joca da Silva"),_e()()()),t&2){let i,o;ot(12),gr("routerLinkActiveOptions",Yd(8,rP)),ot(12),pr((i=Ss(25,4,r.authService.user$))?24:26,i),ot(13),gr("routerLinkActiveOptions",Yd(9,rP)),ot(18),pr((o=Ss(56,6,r.authService.user$))?55:57,o)}},dependencies:[Gc,xv,$s,Mv,ri,Sc],styles:["@media (max-width: 575.98px){.offcanvas[_ngcontent-%COMP%]{max-width:280px}}a[_ngcontent-%COMP%]{cursor:pointer}.nav-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#ffffff1a}.navbar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{color:var(--bs-warning)!important}"]})};rv(Ip,nP).catch(n=>console.error(n));
